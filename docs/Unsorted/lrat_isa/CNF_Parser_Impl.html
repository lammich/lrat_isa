<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory CNF_Parser_Impl</title>
</head>


<body>
<div class="head">
<h1>Theory CNF_Parser_Impl</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹CNF Parser›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="CNF_Parser_Impl.html"><span>CNF_Parser_Impl</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="CNF_Grammar.html"><span>CNF_Grammar</span></a><span> </span><a href="Debugging_Tools.html"><span>Debugging_Tools</span></a><span> </span><a href="Zero_Term.html"><span>Zero_Term</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span> </span><span class="keyword1"><span class="command"><span>interpretation</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>    

</span><span class="comment1"><span>(* TODO: Move *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.bind_K_return_conv|fact"><span class="entity_def" id="CNF_Parser_Impl.bind_K_return_conv|thm"><span class="entity_def" id="offset_172..190">bind_K_return_conv</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left|const"><span>≫</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left_def|fact"><span>g_ignore_left_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_eq_iff|fact"><span>igr_eq_iff</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_simps|fact"><span class="dynamic"><span class="dynamic"><span>igr_simps</span></span></span></a><span class="main"><span>)</span></span><span>  


    
      
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.g_lift2_then_apply_extract_first|fact"><span class="entity_def" id="CNF_Parser_Impl.g_lift2_then_apply_extract_first|thm"><span class="entity_def" id="offset_307..339">g_lift2_then_apply_extract_first</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>m<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>←</span></span><span class="free"><span>m<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>m<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply_def|fact"><span>g_apply_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2_def|fact"><span>g_lift2_def</span></a><span>  
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.g_lift2_then_apply|fact"><span class="entity_def" id="CNF_Parser_Impl.g_lift2_then_apply|thm"><span>g_lift2_then_apply</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply_def|fact"><span>g_apply_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2_def|fact"><span>g_lift2_def</span></a><span>  
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    



        
</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Parse character›</span></span></span><span>
      
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.p_char_def|fact"><span class="entity_def" id="CNF_Parser_Impl.p_char_def|thm"><span class="entity_def" id="CNF_Parser_Impl.p_char_def_raw|axiom"><span class="entity_def" id="offset_649..659">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.p_char|const"><span>p_char</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>pc</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span> 
      </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_valid|const"><span>i_valid</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
      </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_eof|const"><span>i_eof</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span class="main"><span>)</span></span><span> 
      </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
        </span><span class="main"><span>(</span></span><span class="bound"><span>c</span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>)</span></span><span class="main"><span>←</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_read|const"><span>i_read</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span class="main"><span>;</span></span><span> 
        
        </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span class="bound"><span class="entity"><span>pc</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span>
          </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>c</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span>
          </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>c</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>it'</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>}</span></span><span> 
    </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.p_char_correct|fact"><span class="entity_def" id="CNF_Parser_Impl.p_char_correct|thm"><span class="entity_def" id="offset_952..966">p_char_correct</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2|const"><span>parser_spec2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span>top</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="bound"><span>it'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>err</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>g_char</span></a><span> </span><span class="main"><span>{</span></span><span class="free"><span>c</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.p_char|const"><span>p_char</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_649..659"><span>p_char_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Refine_Util.html#Refine_Util.clarsimp_all|method"><span class="operator"><span>clarsimp_all</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed_remsize|fact"><span>parsed_remsize</span></a><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed1_remsize|fact"><span>parsed1_remsize</span></a><span class="main"><span>)</span></span><span>
    
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>
    
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_charI|fact"><span>g_charI</span></a><span class="main"><span>)</span></span><span>
    
    
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>    
  

  </span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.rdm_parser_assn|const"><span>rdm_parser_assn</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>×<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>×<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.rdmem_it_assn|const"><span>rdmem_it_assn</span></a><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.rdm_parser_unit_assn|const"><span>rdm_parser_unit_assn</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>×<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.rdmem_it_assn|const"><span>rdmem_it_assn</span></a><span>"</span></span></span><span>  
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.p_char.mcomb|fact"><span class="entity_def" id="CNF_Parser_Impl.p_char.arity|fact"><span class="entity_def" id="CNF_Parser_Impl.p_char.itype|fact"><span class="entity_def" id="CNF_Parser_Impl.p_char.mcomb|thm"><span class="entity_def" id="CNF_Parser_Impl.p_char.arity|thm"><span class="entity_def" id="CNF_Parser_Impl.p_char.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.p_char|const"><span>p_char</span></a></span><span>  
  </span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="CNF_Parser_Impl.p_char_impl|const"><span>p_char_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Misc.html#Sepref_Misc.uncurry2|const"><span>uncurry2</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.p_char|const"><span>p_char</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.id_assn|const"><span>id_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.rdmem_inp_assn|const"><span>rdmem_inp_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.rdmem_it_assn|const"><span>rdmem_it_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.rdm_parser_assn|const"><span>rdm_parser_assn</span></a><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.id_assn|const"><span>id_assn</span></a><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_649..659"><span>p_char_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.p_char_impl.refine|fact"><span class="entity_def" id="CNF_Parser_Impl.p_char_impl_def|fact"><span class="entity_def" id="CNF_Parser_Impl.p_char_impl.refine_raw|fact"><span class="entity_def" id="CNF_Parser_Impl.p_char_impl.refine|thm"><span class="entity_def" id="CNF_Parser_Impl.p_char_impl_def|thm"><span class="entity_def" id="CNF_Parser_Impl.p_char_impl.refine_raw|thm"><span class="entity_def" id="CNF_Parser_Impl.p_char_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
    
</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Skip to›</span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_to_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_to_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_to_def_raw|axiom"><span class="entity_def" id="offset_1749..1759">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_to|const"><span>parse_skip_to</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ct</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
    </span><span class="main"><span>(</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.WHILEIT|const"><span>WHILEIT</span></a><span> 
    </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>it'</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>err</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span>
          </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed|const"><span>parsed</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="bound"><span>it'</span></span><span> 
        </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>brk</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>xs</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&lt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><span class="main"><span>{</span></span><span class="free"><span class="bound"><span class="entity"><span>ct</span></span></span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl|const"><span>&amp;*</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.ceIgnore|const"><span>ceIgnore</span></a><span> </span><span class="main"><span>)</span></span><span> </span><span class="main"><span>)</span></span><span>
        </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>brk</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>err</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>xs</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&lt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><span class="main"><span>{</span></span><span class="free"><span class="bound"><span class="entity"><span>ct</span></span></span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl|const"><span>&amp;*</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.ceIgnore|const"><span>ceIgnore</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left|const"><span>≫</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&lt;</span></a></span><span class="main"><span>{</span></span><span class="free"><span class="bound"><span class="entity"><span>ct</span></span></span></span><span class="main"><span>}</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left|const"><span>≫</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span> </span><span class="main"><span>)</span></span><span> </span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>,</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>,</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
      </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_valid|const"><span>i_valid</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
      </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_eof|const"><span>i_eof</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
        </span><span class="main"><span>(</span></span><span class="bound"><span>c</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_read|const"><span>i_read</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span>
        </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span class="bound"><span class="entity"><span>ct</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span>      
      </span><span class="main"><span>}</span></span><span>
    </span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
    
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>}</span></span><span>"</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.cnf_aux_skip_to_def|fact"><span class="entity_def" id="CNF_Parser_Impl.cnf_aux_skip_to_def|thm"><span class="entity_def" id="CNF_Parser_Impl.cnf_aux_skip_to_def_raw|axiom"><span class="entity_def" id="offset_2376..2386">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.cnf_aux_skip_to|const"><span>cnf_aux_skip_to</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ct</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&lt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><span class="main"><span>{</span></span><span class="free"><span class="bound"><span class="entity"><span>ct</span></span></span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr|const"><span>*&amp;</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.ceIgnore|const"><span>ceIgnore</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left|const"><span>≫</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&lt;</span></a></span><span class="main"><span>{</span></span><span class="free"><span class="bound"><span class="entity"><span>ct</span></span></span></span><span class="main"><span>}</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left|const"><span>≫</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span>"</span></span></span><span>
      

        
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.parse_skip_to_correct|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_to_correct|thm"><span class="entity_def" id="offset_2479..2500">parse_skip_to_correct</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2_unit|const"><span>parser_spec2_unit</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span>top</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span>top</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.cnf_aux_skip_to|const"><span>cnf_aux_skip_to</span></a><span> </span><span class="free"><span>ct</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_skip_to|const"><span>parse_skip_to</span></a><span> </span><span class="free"><span>ct</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_2376..2386"><span>cnf_aux_skip_to_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.acam_ignore.g_starr_conv_l|fact"><span>acam_ignore.g_starr_conv_l</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> inp it
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_1749..1759"><span>parse_skip_to_def</span></a><span> 
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.while.WHILEIT_rule|fact"><span>WHILEIT_rule</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> R</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Wellfounded.html#Wellfounded.measure|const"><span>measure</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="skolem"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.zero_neq_one_class.of_bool|const"><span>of_bool</span></a><span> </span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Refine_Util.html#Refine_Util.clarsimp_all|method"><span class="operator"><span>clarsimp_all</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed_remsize|fact"><span>parsed_remsize</span></a><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed1_remsize|fact"><span>parsed1_remsize</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.gI_cons|fact"><span>gI_cons</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_starl_emptyI|fact"><span>g_starl_emptyI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
        
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
        
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_172..190"><span>bind_K_return_conv</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>
        
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_applyI|fact"><span>g_applyI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_ignore_leftI|fact"><span>g_ignore_leftI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_charI|fact"><span>g_charI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.gI_cons|fact"><span>gI_cons</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_starl_stepI|fact"><span>g_starl_stepI</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>?</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_charI|fact"><span>g_charI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
        
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>    

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_to.mcomb|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_to.arity|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_to.itype|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_to.mcomb|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_to.arity|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_to.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_skip_to|const"><span>parse_skip_to</span></a></span><span>
  
  </span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_to_impl|const"><span>parse_skip_to_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Misc.html#Sepref_Misc.uncurry2|const"><span>uncurry2</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_skip_to|const"><span>parse_skip_to</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.id_assn|const"><span>id_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.rdmem_inp_assn|const"><span>rdmem_inp_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.rdmem_it_assn|const"><span>rdmem_it_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.rdm_parser_unit_assn|const"><span>rdm_parser_unit_assn</span></a><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_1749..1759"><span>parse_skip_to_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_to_impl.refine|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_to_impl_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_to_impl.refine_raw|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_to_impl.refine|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_to_impl_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_to_impl.refine_raw|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_to_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>   
    

  </span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Skip block (p...\n or c...\n block)›</span></span></span><span>      
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_block_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_block_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_block_def_raw|axiom"><span class="entity_def" id="offset_3850..3860">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_block|const"><span>parse_skip_block</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cb</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.p_char|const"><span>p_char</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>cb</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span class="main"><span>;</span></span><span>
    </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_skip_to|const"><span>parse_skip_to</span></a><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.char_LF|const"><span>char_LF</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span>
  </span><span class="main"><span>}</span></span><span>"</span></span></span><span>  

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.cnf_aux_block_def|fact"><span class="entity_def" id="CNF_Parser_Impl.cnf_aux_block_def|thm"><span class="entity_def" id="CNF_Parser_Impl.cnf_aux_block_def_raw|axiom"><span class="entity_def" id="offset_4014..4024">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.cnf_aux_block|const"><span>cnf_aux_block</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cb</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&lt;</span></a></span><span class="main"><span>{</span></span><span class="free"><span class="bound"><span class="entity"><span>cb</span></span></span></span><span class="main"><span>}</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&gt;</span></a></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.cnf_aux_skip_to|const"><span>cnf_aux_skip_to</span></a><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.char_LF|const"><span>char_LF</span></a><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.parse_skip_block_correct|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_block_correct|thm"><span class="entity_def" id="offset_4095..4119">parse_skip_block_correct</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2_unit|const"><span>parser_spec2_unit</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span>top</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="bound"><span>it'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>err</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.cnf_aux_block|const"><span>cnf_aux_block</span></a><span> </span><span class="free"><span>cb</span></span><span> </span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_skip_block|const"><span>parse_skip_block</span></a><span> </span><span class="free"><span>cb</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> inp it
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_3850..3860"><span>parse_skip_block_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_4014..4024"><span>cnf_aux_block_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span> 
        </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2D|fact"><span>parser_spec2D</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_952..966"><span>p_char_correct</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
        </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2_unitD|fact"><span>parser_spec2_unitD</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_2479..2500"><span>parse_skip_to_correct</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
      </span><span class="main"><span>)</span></span><span>

      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Refine_Util.html#Refine_Util.clarsimp_all|method"><span class="operator"><span>clarsimp_all</span></span></a><span>
      
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.impI|fact"><span>impI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>
      
      
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed_remsize|fact"><span>parsed_remsize</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>fail</span></span><span class="main"><span>)</span></span><span>
              
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_bindI|fact"><span>g_bindI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>            

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_block.mcomb|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_block.arity|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_block.itype|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_block.mcomb|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_block.arity|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_block.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_skip_block|const"><span>parse_skip_block</span></a></span><span>
  
  </span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_block_impl|const"><span>parse_skip_block_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Misc.html#Sepref_Misc.uncurry2|const"><span>uncurry2</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_skip_block|const"><span>parse_skip_block</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.id_assn|const"><span>id_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.rdmem_inp_assn|const"><span>rdmem_inp_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.rdmem_it_assn|const"><span>rdmem_it_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.rdm_parser_unit_assn|const"><span>rdm_parser_unit_assn</span></a><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_3850..3860"><span>parse_skip_block_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_block_impl.refine|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_block_impl_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_block_impl.refine_raw|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_block_impl.refine|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_block_impl_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_block_impl.refine_raw|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_skip_block_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>

    
  </span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Variable›</span></span></span><span>  
      
  </span><span class="comment1"><span>(* Refine towards executable version *)</span></span><span>        
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.cnf_variable_refine1|fact"><span class="entity_def" id="CNF_Parser_Impl.cnf_variable_refine1|thm"><span class="entity_def" id="offset_5039..5059">cnf_variable_refine1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_variable|const"><span>cnf_variable</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span>
      </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&lt;</span></a></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.digits1|const"><span>digits1</span></a><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&gt;</span></a></span><span class="main"><span>;</span></span><span>
      </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&lt;</span></a></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.digits|const"><span>digits</span></a><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl|const"><span>&amp;*</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>c</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>.</span></span><span> </span><span class="numeral"><span>10</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.val_of_digit|const"><span>val_of_digit</span></a><span> </span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.val_of_digit|const"><span>val_of_digit</span></a><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.dimacs_var.var_of_nat|const"><span>var_of_nat</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&lt;</span></a></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.digits|const"><span>digits</span></a><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr|const"><span>*&amp;</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.ceCons|const"><span>ceCons</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.dimacs_var.var_of_nat|const"><span>var_of_nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.fold|const"><span>fold</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&lt;</span></a></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.digits|const"><span>digits</span></a><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr|const"><span>*&amp;</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.ceCons|const"><span>ceCons</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.fold|const"><span>fold</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.dimacs_var.var_of_nat|const"><span>var_of_nat</span></a><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&lt;</span></a></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.digits|const"><span>digits</span></a><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr|const"><span>*&amp;</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.ceCons|const"><span>ceCons</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.fold|const"><span>fold</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&lt;</span></a></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.digits|const"><span>digits</span></a><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl|const"><span>&amp;*</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>c</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>,</span></span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr_fold_conv|fact"><span>g_starr_fold_conv</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>" </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&lt;</span></a></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.digits|const"><span>digits</span></a><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr|const"><span>*&amp;</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.ceCons|const"><span>ceCons</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.dimacs_var.var_of_nat|const"><span>var_of_nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.fold|const"><span>fold</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&lt;</span></a></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.digits|const"><span>digits</span></a><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl|const"><span>&amp;*</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>c</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.dimacs_var.var_of_nat|const"><span>var_of_nat</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5638..5639">}</span></span></span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_5645..5648">aux</span><span class="main"><span>=</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_5638..5639"><span>this</span></a><span>
    
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>      
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_variable_def|fact"><span>cnf_variable_def</span></a><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.nat_of_ascii_def|fact"><span>nat_of_ascii_def</span></a><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.var_of_ascii_def|fact"><span>var_of_ascii_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_307..339"><span>g_lift2_then_apply_extract_first</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_5645..5648"><span>aux</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span> </span><span class="comment1"><span>(* TODO: bind-apply simp lemma*)</span></span><span>
      
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>      
    
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.mx_valid_def|fact"><span class="entity_def" id="CNF_Parser_Impl.mx_valid_def|thm"><span class="entity_def" id="CNF_Parser_Impl.mx_valid_def_raw|axiom"><span class="entity_def" id="offset_5914..5924">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.mx_valid|const"><span>mx_valid</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>mx</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span class="free"><span class="bound"><span class="entity"><span>mx</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="numeral"><span>10</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span class="free"><span class="bound"><span class="entity"><span>mx</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="numeral"><span>9</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.max_size|const"><span>max_size</span></a><span>"</span></span></span><span>  
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_unsigned_loop_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_unsigned_loop_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_unsigned_loop_def_raw|axiom"><span class="entity_def" id="offset_5974..5984">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.parse_unsigned_loop|const"><span>parse_unsigned_loop</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>mx</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.mx_valid|const"><span>mx_valid</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>mx</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
  
    </span><span class="main"><span>(</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.WHILEIT|const"><span>WHILEIT</span></a><span> 
      </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>it'</span></span><span class="main"><span>,</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> 
          </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed|const"><span>parsed</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="bound"><span>it'</span></span><span> 
        </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>xs</span></span><span class="main"><span>,</span></span><span class="bound"><span>res</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&lt;</span></a></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.digits|const"><span>digits</span></a><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl|const"><span>&amp;*</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>c</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>.</span></span><span> </span><span class="numeral"><span>10</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.val_of_digit|const"><span>val_of_digit</span></a><span> </span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> 
        </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>brk</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_eof|const"><span>i_eof</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_rem|const"><span>i_rem</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.digits|const"><span>digits</span></a><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>)</span></span><span> 
      </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>brk</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_eof|const"><span>i_eof</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>res</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span class="free"><span class="bound"><span class="entity"><span>mx</span></span></span></span><span class="main"><span>)</span></span><span> 
      </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
        </span><span class="bound"><span>c</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_peek|const"><span>i_peek</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span>
      
        </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.digits|const"><span>digits</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
          </span><span class="bound"><span>it</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_next|const"><span>i_next</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span>
          </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.val_of_digit|const"><span>val_of_digit</span></a><span> </span><span class="bound"><span>c</span></span><span class="main"><span>;</span></span><span>
          </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_unat_snat_upcast|const"><span>op_unat_snat_upcast</span></a><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.size_T|const"><span>size_T</span></a><span> </span><span class="bound"><span>c</span></span><span class="main"><span>;</span></span><span>
          </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>{</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>..</span></a></span><span class="numeral"><span>9</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>}</span></a></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
          </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><span> </span><span class="numeral"><span>10</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span class="bound"><span>res</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.max_size|const"><span>max_size</span></a><span> </span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
          </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>res</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="numeral"><span>10</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span class="bound"><span>res</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>;</span></span><span>
          </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span>
        </span><span class="main"><span>}</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span>        
    </span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>v<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
    
    </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>res</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span class="free"><span class="bound"><span class="entity"><span>mx</span></span></span></span><span class="main"><span>;</span></span><span>
  
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.val_of_digit_le9|fact"><span class="entity_def" id="CNF_Parser_Impl.val_of_digit_le9|thm"><span class="entity_def" id="offset_6834..6850">val_of_digit_le9</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.digits|const"><span>digits</span></a><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.val_of_digit|const"><span>val_of_digit</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="numeral"><span>9</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.val_of_digit_lt10|fact"><span>val_of_digit_lt10</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><span class="free"><span>c</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/lin_arith.ML.html#Fields.linarith|method"><span class="operator"><span>linarith</span></span></a><span> 
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_6936..6941">lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.parsed1_from_peek_nextI|fact"><span class="entity_def" id="CNF_Parser_Impl.parsed1_from_peek_nextI|thm"><span class="entity_def" id="offset_6942..6965">parsed1_from_peek_nextI</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_rem|const"><span>i_rem</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.tl|const"><span>tl</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_rem|const"><span>i_rem</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_valid|const"><span>i_valid</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span>"</span></span></span><span>    
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed1|const"><span>parsed1</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_rem|const"><span>i_rem</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>it'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_6936..6941"><span>assms</span></a><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed1_def|fact"><span>parsed1_def</span></a><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize_def|fact"><span>i_remsize_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>inp</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>it</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>it'</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>
    
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7252..7257">lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.parse_unsigned_loop_correct|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_unsigned_loop_correct|thm"><span class="entity_def" id="offset_7258..7285">parse_unsigned_loop_correct</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.mx_valid|const"><span>mx_valid</span></a><span> </span><span class="free"><span>mx</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2|const"><span>parser_spec2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span>top</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="bound"><span>it'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>err</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>r</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span class="free"><span>mx</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_eof|const"><span>i_eof</span></a><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_rem|const"><span>i_rem</span></a><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.digits|const"><span>digits</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&lt;</span></a></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.digits|const"><span>digits</span></a><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl|const"><span>&amp;*</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>c</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>.</span></span><span> </span><span class="numeral"><span>10</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.val_of_digit|const"><span>val_of_digit</span></a><span> </span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>v<span class="hidden">⇩</span><sub>0</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_unsigned_loop|const"><span>parse_unsigned_loop</span></a><span> </span><span class="free"><span>mx</span></span><span> </span><span class="free"><span>v<span class="hidden">⇩</span><sub>0</sub></span></span><span class="main"><span>)</span></span><span>
    "</span></span></span><span>   
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> inp it
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_5974..5984"><span>parse_unsigned_loop_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.while.WHILEIT_rule|fact"><span>WHILEIT_rule</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> R</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Wellfounded.html#Wellfounded.measure|const"><span>measure</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="skolem"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.zero_neq_one_class.of_bool|const"><span>of_bool</span></a><span> </span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_7252..7257"><span>assms</span></a><span class="main"><span>)</span></span><span>
          
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Refine_Util.html#Refine_Util.clarsimp_all|method"><span class="operator"><span>clarsimp_all</span></span></a><span class="main"><span>)</span></span><span>
      
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.gI_cons|fact"><span>gI_cons</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_starl_emptyI|fact"><span>g_starl_emptyI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
        
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_6834..6850"><span>val_of_digit_le9</span></a><span class="main"><span>)</span></span><span>
      
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_5914..5924"><span>mx_valid_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_6942..6965"><span>parsed1_from_peek_nextI</span></a><span class="main"><span>)</span></span><span>
        
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>

        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.gI_cons|fact"><span>gI_cons</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_starl_stepI|fact"><span>g_starl_stepI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>        
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_charI|fact"><span>g_charI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> it' brk res xs
      
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>        
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>    
              
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_unsigned_loop.mcomb|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_unsigned_loop.arity|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_unsigned_loop.itype|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_unsigned_loop.mcomb|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_unsigned_loop.arity|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_unsigned_loop.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_unsigned_loop|const"><span>parse_unsigned_loop</span></a></span><span>  
  
  </span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="CNF_Parser_Impl.parse_unsigned_loop_impl|const"><span>parse_unsigned_loop_impl</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Misc.html#Sepref_Misc.uncurry3|const"><span>uncurry3</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_unsigned_loop|const"><span>parse_unsigned_loop</span></a><span>"</span></span></span><span> 
    </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.size_assn|const"><span>size_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.size_assn|const"><span>size_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.rdmem_inp_assn|const"><span>rdmem_inp_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.rdmem_it_assn|const"><span>rdmem_it_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.rdm_parser_assn|const"><span>rdm_parser_assn</span></a><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.size_assn|const"><span>size_assn</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_5974..5984"><span>parse_unsigned_loop_def</span></a><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.is_whitespace_alt|fact"><span>is_whitespace_alt</span></a><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.val_of_digit_def|fact"><span>val_of_digit_def</span></a><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.is_digit_alt|fact"><span>is_digit_alt</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/LLVM_Integer.html#LLVM_Integer.is_up&apos;|fact"><span>is_up'</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.annot_snat_const|method"><span class="operator"><span>annot_snat_const</span></span></a><span> </span><span class="quoted"><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.size_T|const"><span>size_T</span></a></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_unsigned_loop_impl.refine|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_unsigned_loop_impl_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_unsigned_loop_impl.refine_raw|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_unsigned_loop_impl.refine|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_unsigned_loop_impl_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_unsigned_loop_impl.refine_raw|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_unsigned_loop_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>  
    
    
    

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_variable_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_variable_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_variable_def_raw|axiom"><span class="entity_def" id="offset_8903..8913">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.parse_variable|const"><span>parse_variable</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_eof|const"><span>i_eof</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_valid|const"><span>i_valid</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
    
    </span><span class="main"><span>(</span></span><span class="bound"><span>c</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span class="main"><span>←</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_read|const"><span>i_read</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span class="main"><span>;</span></span><span>
    
    </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.digits1|const"><span>digits1</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
      </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.some_var|const"><span>some_var</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>}</span></span><span>
    </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
      </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.val_of_digit|const"><span>val_of_digit</span></a><span> </span><span class="bound"><span>c</span></span><span class="main"><span>;</span></span><span>
      </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_unat_snat_upcast|const"><span>op_unat_snat_upcast</span></a><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.size_T|const"><span>size_T</span></a><span> </span><span class="bound"><span>c</span></span><span class="main"><span>;</span></span><span>
    
      </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>v</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_unsigned_loop|const"><span>parse_unsigned_loop</span></a><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.max_var_incl_size|const"><span>max_var_incl_size</span></a><span> </span><span class="bound"><span>c</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span>
      
      </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
        </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.some_var|const"><span>some_var</span></a><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>}</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
        </span><span class="bound"><span>v</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.mk_dimacs_var|const"><span>mk_dimacs_var</span></a><span> </span><span class="bound"><span>v</span></span><span class="main"><span>;</span></span><span>
        </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>v</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>}</span></span><span>
      
    </span><span class="main"><span>}</span></span><span>
  </span><span class="main"><span>}</span></span><span>"</span></span></span><span>  
  
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.fold_digits_bound|fact"><span class="entity_def" id="CNF_Parser_Impl.fold_digits_bound|thm"><span class="entity_def" id="offset_9441..9458">fold_digits_bound</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>v<span class="hidden">⇩</span><sub>0</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.fold|const"><span>fold</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>.</span></span><span> </span><span class="numeral"><span>10</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.val_of_digit|const"><span>val_of_digit</span></a><span> </span><span class="bound"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>v<span class="hidden">⇩</span><sub>0</sub></span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>xs</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>v<span class="hidden">⇩</span><sub>0</sub></span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span> 
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.preorder_class.order_trans|fact"><span>order_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9665..9670">lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.parse_digits_bound|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_digits_bound|thm"><span class="entity_def" id="offset_9671..9689">parse_digits_bound</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span class="main"><span>,</span></span><span class="free"><span>res</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&lt;</span></a></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.digits|const"><span>digits</span></a><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl|const"><span>&amp;*</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>c</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>.</span></span><span> </span><span class="numeral"><span>10</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.val_of_digit|const"><span>val_of_digit</span></a><span> </span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>v<span class="hidden">⇩</span><sub>0</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>res</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>≥</span></a></span><span> </span><span class="free"><span>v<span class="hidden">⇩</span><sub>0</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_9665..9670"><span>assms</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr_fold_conv|fact"><span>g_starr_fold_conv</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_9441..9458"><span>fold_digits_bound</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr&apos;|method"><span class="operator"><span>igr'</span></span></a><span>
  
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.parse_variable_correct|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_variable_correct|thm"><span class="entity_def" id="offset_9941..9963">parse_variable_correct</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2|const"><span>parser_spec2</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_eof|const"><span>i_eof</span></a><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="bound"><span>it'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>err</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_eof|const"><span>i_eof</span></a><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_rem|const"><span>i_rem</span></a><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.digits|const"><span>digits</span></a><span class="main"><span>)</span></span><span>
            </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_variable|const"><span>cnf_variable</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_variable|const"><span>parse_variable</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
      
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_8903..8913"><span>parse_variable_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_5039..5059"><span>cnf_variable_refine1</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2D|fact"><span>parser_spec2D</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_7258..7285"><span>parse_unsigned_loop_correct</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>      
    
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Refine_Util.html#Refine_Util.clarsimp_all|method"><span class="operator"><span>clarsimp_all</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat_def|fact"><span>max_snat_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_5914..5924"><span>mx_valid_def</span></a><span class="main"><span>)</span></span><span>
    
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
        
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_9671..9689"><span>parse_digits_bound</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 
        </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.val_of_digit_def|fact"><span>val_of_digit_def</span></a><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.is_digit1_alt|fact"><span>is_digit1_alt</span></a><span>
        </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.is_digit_alt|fact"><span>is_digit_alt</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word_unat_eq_iff|fact"><span>word_unat_eq_iff</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word_le_nat_alt|fact"><span>word_le_nat_alt</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.unat_sub|fact"><span>unat_sub</span></a><span>
      </span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
      
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>
      
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_applyI|fact"><span>g_applyI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_bind1I|fact"><span>g_bind1I</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_charI|fact"><span>g_charI</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>    

    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_variable.mcomb|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_variable.arity|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_variable.itype|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_variable.mcomb|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_variable.arity|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_variable.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_variable|const"><span>parse_variable</span></a></span><span>
  </span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="CNF_Parser_Impl.parse_variable_impl|const"><span>parse_variable_impl</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_variable|const"><span>parse_variable</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Input.html#Parser_Input.rdmem_inp_assn|const"><span>rdmem_inp_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.rdmem_it_assn|const"><span>rdmem_it_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.rdm_parser_assn|const"><span>rdm_parser_assn</span></a><span> </span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.dimacs_var_assn|const"><span>dimacs_var_assn</span></a><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_8903..8913"><span>parse_variable_def</span></a><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.val_of_digit_def|fact"><span>val_of_digit_def</span></a><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.is_digit1_alt|fact"><span>is_digit1_alt</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/LLVM_Integer.html#LLVM_Integer.is_up&apos;|fact"><span>is_up'</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_variable_impl.refine|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_variable_impl_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_variable_impl.refine_raw|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_variable_impl.refine|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_variable_impl_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_variable_impl.refine_raw|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_variable_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
    

  </span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Literal›</span></span></span><span>  
        
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_literal_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_literal_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_literal_def_raw|axiom"><span class="entity_def" id="offset_11249..11259">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.parse_literal|const"><span>parse_literal</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_eof|const"><span>i_eof</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
    
    </span><span class="bound"><span>c</span></span><span class="main"><span>←</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_peek|const"><span>i_peek</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span class="main"><span>;</span></span><span>
    
    </span><span class="main"><span>(</span></span><span class="bound"><span>sign</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.char_MINUS|const"><span>char_MINUS</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
      </span><span class="bound"><span>it</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_next|const"><span>i_next</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span class="main"><span>;</span></span><span>
      </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed1|const"><span>parsed1</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.char_MINUS|const"><span>char_MINUS</span></a><span> </span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span> </span><span class="comment1"><span>― ‹TODO: make rule for i_next, that creates parsed-info!›</span></span><span>
      </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>}</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>it<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>

    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_valid|const"><span>i_valid</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
    
    </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_eof|const"><span>i_eof</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span>
      </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.some_lit|const"><span>some_lit</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
      </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>v</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_variable|const"><span>parse_variable</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span>

      </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>sign</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="SAT_Basic.html#SAT_Basic.literal.Neg|const"><span>Neg</span></a><span> </span><span class="bound"><span>v</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="SAT_Basic.html#SAT_Basic.literal.Pos|const"><span>Pos</span></a><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>

      </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>}</span></span><span>   
  </span><span class="main"><span>}</span></span><span>"</span></span></span><span>  
    
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.parse_literal_correct|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_literal_correct|thm"><span class="entity_def" id="offset_11848..11869">parse_literal_correct</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2|const"><span>parser_spec2</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_eof|const"><span>i_eof</span></a><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="bound"><span>it'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>err</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_eof|const"><span>i_eof</span></a><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_rem|const"><span>i_rem</span></a><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.digits|const"><span>digits</span></a><span class="main"><span>)</span></span><span>
            </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_literal|const"><span>cnf_literal</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_literal|const"><span>parse_literal</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_11249..11259"><span>parse_literal_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2D|fact"><span>parser_spec2D</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_9941..9963"><span>parse_variable_correct</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>      
    
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Refine_Util.html#Refine_Util.clarsimp_all|method"><span class="operator"><span>clarsimp_all</span></span></a><span class="main"><span>)</span></span><span>
            
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_6942..6965"><span>parsed1_from_peek_nextI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
      
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>
      
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>
        
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_literal_def|fact"><span>cnf_literal_def</span></a><span>
      
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_unionI_left|fact"><span>g_unionI_left</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_applyI|fact"><span>g_applyI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_ignore_left1I|fact"><span>g_ignore_left1I</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_charI|fact"><span>g_charI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>
      
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>
        
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_literal_def|fact"><span>cnf_literal_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_unionI_right|fact"><span>g_unionI_right</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_applyI|fact"><span>g_applyI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>    
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>  


  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_literal.mcomb|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_literal.arity|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_literal.itype|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_literal.mcomb|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_literal.arity|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_literal.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_literal|const"><span>parse_literal</span></a></span><span>
  
  </span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="CNF_Parser_Impl.parse_literal_impl|const"><span>parse_literal_impl</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_literal|const"><span>parse_literal</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Input.html#Parser_Input.rdmem_inp_assn|const"><span>rdmem_inp_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.rdmem_it_assn|const"><span>rdmem_it_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.rdm_parser_assn|const"><span>rdm_parser_assn</span></a><span> </span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.ulit_assn|const"><span>ulit_assn</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_11249..11259"><span>parse_literal_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_literal_impl.refine|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_literal_impl_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_literal_impl.refine_raw|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_literal_impl.refine|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_literal_impl_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_literal_impl.refine_raw|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_literal_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Whitespace›</span></span></span><span>  
           
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace_def_raw|axiom"><span class="entity_def" id="offset_13148..13158">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace|const"><span>parse_whitespace</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
    </span><span class="main"><span>(</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>)</span></span><span class="main"><span>←</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.WHILEIT|const"><span>WHILEIT</span></a><span> 
      </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>it'</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed|const"><span>parsed</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>xs</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&lt;</span></a></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.whitespace|const"><span>whitespace</span></a><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl|const"><span>&amp;*</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.ceIgnore|const"><span>ceIgnore</span></a><span> </span><span class="main"><span>)</span></span><span> </span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>brk</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_eof|const"><span>i_eof</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
        </span><span class="bound"><span>c</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_peek|const"><span>i_peek</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span>
        
        </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.whitespace|const"><span>whitespace</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
          </span><span class="bound"><span>it</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_next|const"><span>i_next</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span>
          </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span>
        </span><span class="main"><span>}</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span>
          </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
      
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span>  
  </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace_correct|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace_correct|thm"><span class="entity_def" id="offset_13617..13641">parse_whitespace_correct</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2_unit|const"><span>parser_spec2_unit</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span>top</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="bound"><span>it'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_ws|const"><span>cnf_ws</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_whitespace|const"><span>parse_whitespace</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> inp it
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_ws_def|fact"><span>cnf_ws_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.acam_ignore.g_starr_conv_l|fact"><span>acam_ignore.g_starr_conv_l</span></a><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_13148..13158"><span>parse_whitespace_def</span></a><span> 
      
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.while.WHILEIT_rule|fact"><span>WHILEIT_rule</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> R</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Wellfounded.html#Wellfounded.measure|const"><span>measure</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="skolem"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.zero_neq_one_class.of_bool|const"><span>of_bool</span></a><span> </span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Refine_Util.html#Refine_Util.clarsimp_all|method"><span class="operator"><span>clarsimp_all</span></span></a><span class="main"><span>)</span></span><span>
      
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.gI_cons|fact"><span>gI_cons</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_starl_emptyI|fact"><span>g_starl_emptyI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_6942..6965"><span>parsed1_from_peek_nextI</span></a><span class="main"><span>)</span></span><span>
        
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>
        
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.gI_cons|fact"><span>gI_cons</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_starl_stepI|fact"><span>g_starl_stepI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_charI|fact"><span>g_charI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>    

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace.mcomb|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace.arity|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace.itype|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace.mcomb|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace.arity|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_whitespace|const"><span>parse_whitespace</span></a></span><span>
  </span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace_impl|const"><span>parse_whitespace_impl</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_whitespace|const"><span>parse_whitespace</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Input.html#Parser_Input.rdmem_inp_assn|const"><span>rdmem_inp_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.rdmem_it_assn|const"><span>rdmem_it_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.rdm_parser_unit_assn|const"><span>rdm_parser_unit_assn</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_13148..13158"><span>parse_whitespace_def</span></a><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.is_whitespace_alt|fact"><span>is_whitespace_alt</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace_impl.refine|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace_impl_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace_impl.refine_raw|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace_impl.refine|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace_impl_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace_impl.refine_raw|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span> 
    
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace1_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace1_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace1_def_raw|axiom"><span class="entity_def" id="offset_14691..14701">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace1|const"><span>parse_whitespace1</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_valid|const"><span>i_valid</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
    </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_eof|const"><span>i_eof</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
      </span><span class="main"><span>(</span></span><span class="bound"><span>c</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_read|const"><span>i_read</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span class="main"><span>;</span></span><span>
      </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.whitespace|const"><span>whitespace</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
        </span><span class="main"><span>(</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_whitespace|const"><span>parse_whitespace</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span>
        </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>}</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>}</span></span><span>
  </span><span class="main"><span>}</span></span><span>"</span></span></span><span>  
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace1_correct|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace1_correct|thm"><span class="entity_def" id="offset_15008..15033">parse_whitespace1_correct</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2_unit|const"><span>parser_spec2_unit</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span>top</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="bound"><span>it'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>err</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_ws1|const"><span>cnf_ws1</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_whitespace1|const"><span>parse_whitespace1</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> inp it
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_ws1_def|fact"><span>cnf_ws1_def</span></a><span> 
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_14691..14701"><span>parse_whitespace1_def</span></a><span> 
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2_unitD|fact"><span>parser_spec2_unitD</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_13617..13641"><span>parse_whitespace_correct</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Refine_Util.html#Refine_Util.clarsimp_all|method"><span class="operator"><span>clarsimp_all</span></span></a><span>
      
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>
      
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed1_remsize|fact"><span>parsed1_remsize</span></a><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed_remsize|fact"><span>parsed_remsize</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>fail</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_ignore_left1I|fact"><span>g_ignore_left1I</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_charI|fact"><span>g_charI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>
        
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>    

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace1.mcomb|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace1.arity|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace1.itype|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace1.mcomb|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace1.arity|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace1.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_whitespace1|const"><span>parse_whitespace1</span></a></span><span>
  </span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace1_impl|const"><span>parse_whitespace1_impl</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_whitespace1|const"><span>parse_whitespace1</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Input.html#Parser_Input.rdmem_inp_assn|const"><span>rdmem_inp_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.rdmem_it_assn|const"><span>rdmem_it_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.rdm_parser_unit_assn|const"><span>rdm_parser_unit_assn</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_14691..14701"><span>parse_whitespace1_def</span></a><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.is_whitespace_alt|fact"><span>is_whitespace_alt</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace1_impl.refine|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace1_impl_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace1_impl.refine_raw|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace1_impl.refine|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace1_impl_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace1_impl.refine_raw|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_whitespace1_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span> 
    
    
    
  </span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Clause›</span></span></span><span>         
        
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_clause_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_clause_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_clause_def_raw|axiom"><span class="entity_def" id="offset_16001..16011">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.parse_clause|const"><span>parse_clause</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
    </span><span class="main"><span>(</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.WHILEIT|const"><span>WHILEIT</span></a><span> 
      </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>err</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> 
          </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed|const"><span>parsed</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="bound"><span>it'</span></span><span> 
        </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>err</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span>
            </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>brk</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>xs</span></span><span class="main"><span>,</span></span><span class="bound"><span>res</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_literal|const"><span>cnf_literal</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_right|const"><span>≪</span></a></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_ws1|const"><span>cnf_ws1</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl|const"><span>&amp;*</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.ceRevInsert|const"><span>ceRevInsert</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> 
          </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>brk</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>xs</span></span><span class="main"><span>,</span></span><span class="bound"><span>res</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_literal|const"><span>cnf_literal</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_right|const"><span>≪</span></a></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_ws1|const"><span>cnf_ws1</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl|const"><span>&amp;*</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.ceRevInsert|const"><span>ceRevInsert</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_right|const"><span>≪</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&lt;</span></a></span><span class="main"><span>{</span></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.char_0|const"><span>char_0</span></a><span class="main"><span>}</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&gt;</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>  
          </span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> 
      </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span> 
      </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
      
        </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_eof|const"><span>i_eof</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span>
          </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
          </span><span class="bound"><span>c</span></span><span class="main"><span>←</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_peek|const"><span>i_peek</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span>
          
          </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.char_0|const"><span>char_0</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
            </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_next|const"><span>i_next</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span>
            </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed1|const"><span>parsed1</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.char_0|const"><span>char_0</span></a><span> </span><span class="bound"><span>it'</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
            </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
            </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span>
          </span><span class="main"><span>}</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
            </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_literal|const"><span>parse_literal</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span>
            </span><span class="main"><span>(</span></span><span class="bound"><span>err'</span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_whitespace1|const"><span>parse_whitespace1</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it'</span></span><span class="main"><span>;</span></span><span>
            
            </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="bound"><span>err'</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
              </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
              </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span>
            </span><span class="main"><span>}</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
              </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
              </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>res</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="bound"><span>l</span></span><span> </span><span class="bound"><span>res</span></span><span class="main"><span>;</span></span><span>
              </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span>     
            </span><span class="main"><span>}</span></span><span>  
          </span><span class="main"><span>}</span></span><span>
        </span><span class="main"><span>}</span></span><span>
      </span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> 
      </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>

      
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span class="main"><span>(</span></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>  
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span>  
  </span><span class="main"><span>}</span></span><span>"</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.parse_clause_correct|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_clause_correct|thm"><span class="entity_def" id="offset_17367..17387">parse_clause_correct</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2|const"><span>parser_spec2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span>top</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span>top</span></a><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_clause|const"><span>cnf_clause</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_clause|const"><span>parse_clause</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> inp it
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_clause_def|fact"><span>cnf_clause_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.acam_insert.g_starr_conv_l|fact"><span>acam_insert.g_starr_conv_l</span></a><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_16001..16011"><span>parse_clause_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span> 
        </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.while.WHILEIT_rule|fact"><span>WHILEIT_rule</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> R</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Wellfounded.html#Wellfounded.measure|const"><span>measure</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="skolem"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.zero_neq_one_class.of_bool|const"><span>of_bool</span></a><span> </span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span>
        </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2D|fact"><span>parser_spec2D</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_11848..11869"><span>parse_literal_correct</span></a><span class="main"><span class="main"><span>]</span></span></span><span>  
        </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2_unitD|fact"><span>parser_spec2_unitD</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_15008..15033"><span>parse_whitespace1_correct</span></a><span class="main"><span class="main"><span>]</span></span></span><span>  
      </span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Refine_Util.html#Refine_Util.clarsimp_all|method"><span class="operator"><span>clarsimp_all</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed_remsize|fact"><span>parsed_remsize</span></a><span class="main"><span>)</span></span><span> 
      
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.gI_cons|fact"><span>gI_cons</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_starl_emptyI|fact"><span>g_starl_emptyI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_6942..6965"><span>parsed1_from_peek_nextI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>
      
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_ignore_rightI|fact"><span>g_ignore_rightI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_charI|fact"><span>g_charI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> 
    
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
      
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>
        
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.gI_cons|fact"><span>gI_cons</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_starl_stepI|fact"><span>g_starl_stepI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>assumption</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_ignore_rightI|fact"><span>g_ignore_rightI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>assumption</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>assumption</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
        
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>        
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>          

    
  </span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Formula›</span></span></span><span>
    
  </span><span class="comment1"><span>(* Operation that allows clause insertion to fail (e.g. out of memory).
    Not strictly necessary here, but makes later refinement easier
  *)</span></span><span>  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parser_insert_cl_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parser_insert_cl_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parser_insert_cl_def_raw|axiom"><span class="entity_def" id="offset_18872..18882">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.parser_insert_cl|const"><span>parser_insert_cl</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cl</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>fml</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.SPEC|const"><span>SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>fml'</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>err</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>fml'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>cl</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>fml</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>    

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop_def_raw|axiom"><span class="entity_def" id="offset_18966..18976">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop|const"><span>parse_cnf_loop</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
    </span><span class="main"><span>(</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.WHILEIT|const"><span>WHILEIT</span></a><span> 
      </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span>
          </span><span class="main"><span>(</span></span><span class="bound"><span>err</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span> 
        </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed|const"><span>parsed</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="bound"><span>it'</span></span><span>
        </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>err</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>brk</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>xs</span></span><span class="main"><span>,</span></span><span class="bound"><span>res</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&lt;</span></a></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.whitespace|const"><span>whitespace</span></a><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left|const"><span>≫</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_ws|const"><span>cnf_ws</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left|const"><span>≫</span></a></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_clause|const"><span>cnf_clause</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl|const"><span>&amp;*</span></a></span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>v<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
        </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>err</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>brk</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>xs</span></span><span class="main"><span>,</span></span><span class="bound"><span>res</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&lt;</span></a></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.whitespace|const"><span>whitespace</span></a><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left|const"><span>≫</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_ws|const"><span>cnf_ws</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left|const"><span>≫</span></a></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_clause|const"><span>cnf_clause</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl|const"><span>&amp;*</span></a></span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>v<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_right|const"><span>≪</span></a></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_ws|const"><span>cnf_ws</span></a><span> </span><span class="main"><span>)</span></span><span> </span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>brk</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_eof|const"><span>i_eof</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
        
        </span><span class="main"><span>(</span></span><span class="bound"><span>c</span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>)</span></span><span class="main"><span>←</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_read|const"><span>i_read</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span>  </span><span class="comment1"><span>― ‹Read next character. It must be whitespace.›</span></span><span>
        
        </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
        </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.whitespace|const"><span>whitespace</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span>
          </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
          </span><span class="main"><span>(</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_whitespace|const"><span>parse_whitespace</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it'</span></span><span class="main"><span>;</span></span><span> </span><span class="comment1"><span>― ‹Parse more whitespace›</span></span><span>
          </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
          
          </span><span class="comment1"><span>― ‹If we have EOF, we finish. Otherwise we parse next clause.›</span></span><span>
          </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_valid|const"><span>i_valid</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it'</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
          </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_eof|const"><span>i_eof</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span>
            </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
            </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>cl</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_clause|const"><span>parse_clause</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it'</span></span><span class="main"><span>;</span></span><span>
          
            </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
              </span><span class="main"><span>(</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>res</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parser_insert_cl|const"><span>parser_insert_cl</span></a><span> </span><span class="bound"><span>cl</span></span><span> </span><span class="bound"><span>res</span></span><span class="main"><span>;</span></span><span>
              </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span>
            </span><span class="main"><span>}</span></span><span>
          </span><span class="main"><span>}</span></span><span>
        </span><span class="main"><span>}</span></span><span>
      </span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>v<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
  
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span>  
  </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.cnf_aux_loop_def|fact"><span class="entity_def" id="CNF_Parser_Impl.cnf_aux_loop_def|thm"><span class="entity_def" id="CNF_Parser_Impl.cnf_aux_loop_def_raw|axiom"><span class="entity_def" id="offset_20365..20375">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.cnf_aux_loop|const"><span>cnf_aux_loop</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_ws1|const"><span>cnf_ws1</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left|const"><span>≫</span></a></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_clause|const"><span>cnf_clause</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl|const"><span>&amp;*</span></a></span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>v<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_right|const"><span>≪</span></a></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_ws|const"><span>cnf_ws</span></a><span>"</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.ws_oneI|fact"><span class="entity_def" id="CNF_Parser_Impl.ws_oneI|thm"><span class="entity_def" id="offset_20463..20470">ws_oneI</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.whitespace|const"><span>whitespace</span></a><span class="main"><span>;</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_ws|const"><span>cnf_ws</span></a><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_ws|const"><span>cnf_ws</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_ws_def|fact"><span>cnf_ws_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.gI_cons|fact"><span>gI_cons</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.gI_cons|fact"><span>gI_cons</span></a><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>[</span></span><span class="free"><span>x</span></span><span class="main"><span>]</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="free"><span>xs</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_starr_stepI|fact"><span>g_starr_stepI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_charI|fact"><span>g_charI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop_correct|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop_correct|thm"><span class="entity_def" id="offset_20740..20762">parse_cnf_loop_correct</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2|const"><span>parser_spec2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span>top</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span>top</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.cnf_aux_loop|const"><span>cnf_aux_loop</span></a><span> </span><span class="free"><span>v<span class="hidden">⇩</span><sub>0</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_cnf_loop|const"><span>parse_cnf_loop</span></a><span> </span><span class="free"><span>v<span class="hidden">⇩</span><sub>0</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> inp it
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_18966..18976"><span>parse_cnf_loop_def</span></a><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_ws1_def|fact"><span>cnf_ws1_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_20365..20375"><span>cnf_aux_loop_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_18872..18882"><span>parser_insert_cl_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span> 
        </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.while.WHILEIT_rule|fact"><span>WHILEIT_rule</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> R</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Wellfounded.html#Wellfounded.measure|const"><span>measure</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="skolem"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.zero_neq_one_class.of_bool|const"><span>of_bool</span></a><span> </span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span>
        </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2D|fact"><span>parser_spec2D</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_17367..17387"><span>parse_clause_correct</span></a><span class="main"><span class="main"><span>]</span></span></span><span>  
        </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2_unitD|fact"><span>parser_spec2_unitD</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_13617..13641"><span>parse_whitespace_correct</span></a><span class="main"><span class="main"><span>]</span></span></span><span>  
      </span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Refine_Util.html#Refine_Util.clarsimp_all|method"><span class="operator"><span>clarsimp_all</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed_remsize|fact"><span>parsed_remsize</span></a><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed1_remsize|fact"><span>parsed1_remsize</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left_assoc|fact"><span>g_ignore_left_assoc</span></a><span class="main"><span>)</span></span><span> 
      
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.gI_cons|fact"><span>gI_cons</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_starl_emptyI|fact"><span>g_starl_emptyI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
        
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>
        
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>
        
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_ignore_rightI|fact"><span>g_ignore_rightI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
        
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_20463..20470"><span>ws_oneI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
              
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
        
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>

        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>
        
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.gI_cons|fact"><span>gI_cons</span></a><span class="main"><span>)</span></span><span>        
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_starl_stepI|fact"><span>g_starl_stepI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
        
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_ignore_left1I|fact"><span>g_ignore_left1I</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_charI|fact"><span>g_charI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
        
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_ignore_leftI|fact"><span>g_ignore_leftI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
        
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>                

      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> it' brk err res xs
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>err</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>brk</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
        
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
        
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>
        
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
          
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>

          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_ignore_rightI|fact"><span>g_ignore_rightI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> w<span class="hidden">⇩</span><sub>2</sub></span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
          </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_ws_def|fact"><span>cnf_ws_def</span></a><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_starr_emptyI|fact"><span>g_starr_emptyI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>        

    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.cnf_ws_join|fact"><span class="entity_def" id="CNF_Parser_Impl.cnf_ws_join|thm"><span class="entity_def" id="offset_22794..22805">cnf_ws_join</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_ws|const"><span>cnf_ws</span></a><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_ws|const"><span>cnf_ws</span></a><span class="main"><span>;</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_ws|const"><span>cnf_ws</span></a><span class="main"><span>;</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_ws_def|fact"><span>cnf_ws_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.acam_ignore.g_starr_join|fact"><span>acam_ignore.g_starr_join</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2_def|fact"><span>g_lift2_def</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&lt;</span></a></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.whitespace|const"><span>whitespace</span></a><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&gt;</span></a></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>flip</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_monad_laws|fact"><span>g_monad_laws</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>


  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.cnf_aux_formula_def|fact"><span class="entity_def" id="CNF_Parser_Impl.cnf_aux_formula_def|thm"><span class="entity_def" id="CNF_Parser_Impl.cnf_aux_formula_def_raw|axiom"><span class="entity_def" id="offset_22994..23004">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.cnf_aux_formula|const"><span>cnf_aux_formula</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_ws|const"><span>cnf_ws</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left|const"><span>≫</span></a></span><span> 
      </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>v<span class="hidden">⇩</span><sub>0</sub></span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_clause|const"><span>cnf_clause</span></a><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.cnf_aux_loop|const"><span>cnf_aux_loop</span></a><span> </span><span class="main"><span>{</span></span><span class="bound"><span>v<span class="hidden">⇩</span><sub>0</sub></span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    
    
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.cnf_aux_dimacs|fact"><span class="entity_def" id="CNF_Parser_Impl.cnf_aux_dimacs|thm"><span class="entity_def" id="offset_23124..23138">cnf_aux_dimacs</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_dimacs|const"><span>cnf_dimacs</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_comments|const"><span>cnf_comments</span></a><span class="main"><span>;</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_p_header|const"><span>cnf_p_header</span></a><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.cnf_aux_formula|const"><span>cnf_aux_formula</span></a><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_ws|const"><span>cnf_ws</span></a><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_cnf|const"><span>cnf_cnf</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_right|const"><span>≪</span></a></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_ws|const"><span>cnf_ws</span></a><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.cnf_aux_formula|const"><span>cnf_aux_formula</span></a><span>"</span></span></span><span>    
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_cnf_def|fact"><span>cnf_cnf_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left_def|fact"><span>g_ignore_left_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_right_def|fact"><span>g_ignore_right_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2_def|fact"><span>g_lift2_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_20365..20375"><span>cnf_aux_loop_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_22994..23004"><span>cnf_aux_formula_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.union_bind_distrib_right|fact"><span>union_bind_distrib_right</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.union_bind_distrib_left|fact"><span>union_bind_distrib_left</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr_insert_first_elem_conv|fact"><span>g_starr_insert_first_elem_conv</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_22794..22805"><span>cnf_ws_join</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_dimacs_def|fact"><span>cnf_dimacs_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_option_ignore_conv|fact"><span>g_option_ignore_conv</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left_def|fact"><span>g_ignore_left_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>  
  
    
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_formula_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_formula_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_formula_def_raw|axiom"><span class="entity_def" id="offset_23653..23663">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_formula|const"><span>parse_cnf_aux_formula</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_whitespace|const"><span>parse_whitespace</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span class="main"><span>;</span></span><span>
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_valid|const"><span>i_valid</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
  
    </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>res</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span class="main"><span>;</span></span><span>
    
    </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_eof|const"><span>i_eof</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span>
      </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
      </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>cl</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_clause|const"><span>parse_clause</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span>
      
      </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
        </span><span class="main"><span>(</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>res</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parser_insert_cl|const"><span>parser_insert_cl</span></a><span> </span><span class="bound"><span>cl</span></span><span> </span><span class="bound"><span>res</span></span><span class="main"><span>;</span></span><span>
        </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_cnf_loop|const"><span>parse_cnf_loop</span></a><span> </span><span class="bound"><span>res</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span>
      </span><span class="main"><span>}</span></span><span>
    </span><span class="main"><span>}</span></span><span>
  </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_formula_correct|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_formula_correct|thm"><span class="entity_def" id="offset_24176..24205">parse_cnf_aux_formula_correct</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2|const"><span>parser_spec2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span>top</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span>top</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.cnf_aux_formula|const"><span>cnf_aux_formula</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_cnf_aux_formula|const"><span>parse_cnf_aux_formula</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> inp it
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_23653..23663"><span>parse_cnf_aux_formula_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_22994..23004"><span>cnf_aux_formula_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_18872..18882"><span>parser_insert_cl_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span> 
        </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2D|fact"><span>parser_spec2D</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_17367..17387"><span>parse_clause_correct</span></a><span class="main"><span class="main"><span>]</span></span></span><span>  
        </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2_unitD|fact"><span>parser_spec2_unitD</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_13617..13641"><span>parse_whitespace_correct</span></a><span class="main"><span class="main"><span>]</span></span></span><span>  
        </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2D|fact"><span>parser_spec2D</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_20740..20762"><span>parse_cnf_loop_correct</span></a><span class="main"><span class="main"><span>]</span></span></span><span>  
      </span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Refine_Util.html#Refine_Util.clarsimp_all|method"><span class="operator"><span>clarsimp_all</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed_remsize|fact"><span>parsed_remsize</span></a><span class="main"><span>)</span></span><span> 
      
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>
        
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_mk_empty_rightI|fact"><span>g_mk_empty_rightI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_ignore_leftI|fact"><span>g_ignore_leftI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_unionI_left|fact"><span>g_unionI_left</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_returnI|fact"><span>g_returnI</span></a><span class="main"><span>)</span></span><span>
        
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>  
        
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>  
          
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>
        
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_ignore_leftI|fact"><span>g_ignore_leftI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_unionI_right|fact"><span>g_unionI_right</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_bindI|fact"><span>g_bindI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>    
        
    
  </span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Comments and Header›</span></span></span><span>  
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.cnf_comment_alt|fact"><span class="entity_def" id="CNF_Parser_Impl.cnf_comment_alt|thm"><span class="entity_def" id="offset_25390..25405">cnf_comment_alt</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_comment|const"><span>cnf_comment</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.cnf_aux_block|const"><span>cnf_aux_block</span></a><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.char_c|const"><span>char_c</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_comment_def|fact"><span>cnf_comment_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_4014..4024"><span>cnf_aux_block_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_2376..2386"><span>cnf_aux_skip_to_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left_def|fact"><span>g_ignore_left_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.cnf_p_header_alt|fact"><span class="entity_def" id="CNF_Parser_Impl.cnf_p_header_alt|thm"><span class="entity_def" id="offset_25551..25567">cnf_p_header_alt</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_p_header|const"><span>cnf_p_header</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.cnf_aux_block|const"><span>cnf_aux_block</span></a><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.char_p|const"><span>char_p</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_p_header_def|fact"><span>cnf_p_header_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_4014..4024"><span>cnf_aux_block_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_2376..2386"><span>cnf_aux_skip_to_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left_def|fact"><span>g_ignore_left_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_comments_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_comments_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_comments_def_raw|axiom"><span class="entity_def" id="offset_25714..25724">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.parse_comments|const"><span>parse_comments</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
    </span><span class="main"><span>(</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>)</span></span><span class="main"><span>←</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.WHILEIT|const"><span>WHILEIT</span></a><span> 
      </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>it'</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>err</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span>
          </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed|const"><span>parsed</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="bound"><span>it'</span></span><span>
        </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>err</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>xs</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_ws|const"><span>cnf_ws</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.cnf_aux_block|const"><span>cnf_aux_block</span></a><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.char_c|const"><span>char_c</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl|const"><span>&amp;*</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.ceIgnore|const"><span>ceIgnore</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>    
      </span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>brk</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_eof|const"><span>i_eof</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
        </span><span class="bound"><span>c</span></span><span class="main"><span>←</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_peek|const"><span>i_peek</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span>
        
        </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.whitespace|const"><span>whitespace</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
          </span><span class="main"><span>(</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_whitespace1|const"><span>parse_whitespace1</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span>
          </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>it'</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span> </span><span class="comment1"><span>― ‹Error cannot happen, but this way makes termination easier to prove!›</span></span><span>
        </span><span class="main"><span>}</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.char_c|const"><span>char_c</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
          </span><span class="main"><span>(</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_skip_block|const"><span>parse_skip_block</span></a><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.char_c|const"><span>char_c</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span>
          </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>it'</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span>
        </span><span class="main"><span>}</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
      
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>}</span></span><span>"</span></span></span><span>  


  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.cnf_ws_ws1I|fact"><span class="entity_def" id="CNF_Parser_Impl.cnf_ws_ws1I|thm"><span class="entity_def" id="offset_26480..26491">cnf_ws_ws1I</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_ws1|const"><span>cnf_ws1</span></a><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_ws|const"><span>cnf_ws</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_ws_def|fact"><span>cnf_ws_def</span></a><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_ws1_def|fact"><span>cnf_ws1_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left_def|fact"><span>g_ignore_left_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr_unfold|fact"><span>g_starr_unfold</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
    
    
    
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.parse_comments_correct|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_comments_correct|thm"><span class="entity_def" id="offset_26663..26685">parse_comments_correct</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2_unit|const"><span>parser_spec2_unit</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span>top</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span>top</span></a><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_comments|const"><span>cnf_comments</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_comments|const"><span>parse_comments</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> inp it
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_25714..25724"><span>parse_comments_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span>
        </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.while.WHILEIT_rule|fact"><span>WHILEIT_rule</span></a><span class="main"><span class="main"><span>[</span></span></span><span> </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> R</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Wellfounded.html#Wellfounded.measure|const"><span>measure</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="skolem"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.zero_neq_one_class.of_bool|const"><span>of_bool</span></a><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span class="main"><span>]</span></span></span><span>
        </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2_unitD|fact"><span>parser_spec2_unitD</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_4095..4119"><span>parse_skip_block_correct</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
        </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2_unitD|fact"><span>parser_spec2_unitD</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_15008..15033"><span>parse_whitespace1_correct</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
      </span><span class="main"><span>)</span></span><span>

      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Refine_Util.html#Refine_Util.clarsimp_all|method"><span class="operator"><span>clarsimp_all</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed_remsize|fact"><span>parsed_remsize</span></a><span class="main"><span>)</span></span><span>
  
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.gI_cons|fact"><span>gI_cons</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_starl_emptyI|fact"><span>g_starl_emptyI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>
        
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>

        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.gI_cons|fact"><span>gI_cons</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_starl_stepI|fact"><span>g_starl_stepI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>        
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_unionI_left|fact"><span>g_unionI_left</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_26480..26491"><span>cnf_ws_ws1I</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>        
      
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>
        
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>
        
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.gI_cons|fact"><span>gI_cons</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_starl_stepI|fact"><span>g_starl_stepI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
        
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_unionI_right|fact"><span>g_unionI_right</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
              
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> 
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
        
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>  
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_25390..25405"><span>cnf_comment_alt</span></a><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_comments_def|fact"><span>cnf_comments_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.acam_ignore.g_starr_conv_l|fact"><span>acam_ignore.g_starr_conv_l</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>    
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_comments.mcomb|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_comments.arity|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_comments.itype|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_comments.mcomb|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_comments.arity|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_comments.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_comments|const"><span>parse_comments</span></a></span><span>
  </span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="CNF_Parser_Impl.parse_comments_impl|const"><span>parse_comments_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_comments|const"><span>parse_comments</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Input.html#Parser_Input.rdmem_inp_assn|const"><span>rdmem_inp_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.rdmem_it_assn|const"><span>rdmem_it_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.rdm_parser_unit_assn|const"><span>rdm_parser_unit_assn</span></a><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_25714..25724"><span>parse_comments_def</span></a><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.is_whitespace_alt|fact"><span>is_whitespace_alt</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_comments_impl.refine|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_comments_impl_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_comments_impl.refine_raw|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_comments_impl.refine|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_comments_impl_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_comments_impl.refine_raw|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_comments_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
    
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_maybe_p_header_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_maybe_p_header_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_maybe_p_header_def_raw|axiom"><span class="entity_def" id="offset_28291..28301">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.parse_maybe_p_header|const"><span>parse_maybe_p_header</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_valid|const"><span>i_valid</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
    </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_eof|const"><span>i_eof</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
      </span><span class="bound"><span>c</span></span><span class="main"><span>←</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_peek|const"><span>i_peek</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span class="main"><span>;</span></span><span>
      </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.char_p|const"><span>char_p</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_skip_block|const"><span>parse_skip_block</span></a><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.char_p|const"><span>char_p</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span>
      </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>}</span></span><span>
  </span><span class="main"><span>}</span></span><span>"</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.parse_maybe_p_header_correct|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_maybe_p_header_correct|thm"><span class="entity_def" id="offset_28555..28583">parse_maybe_p_header_correct</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2_unit|const"><span>parser_spec2_unit</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span>top</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span>top</span></a><span> </span><span class="main"><span>(</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_p_header|const"><span>cnf_p_header</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_maybe_p_header|const"><span>parse_maybe_p_header</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> inp it
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_28291..28301"><span>parse_maybe_p_header_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span>
        </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2_unitD|fact"><span>parser_spec2_unitD</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_4095..4119"><span>parse_skip_block_correct</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
      </span><span class="main"><span>)</span></span><span>

      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Refine_Util.html#Refine_Util.clarsimp_all|method"><span class="operator"><span>clarsimp_all</span></span></a><span class="main"><span>)</span></span><span>
      
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span>
        
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_25551..25567"><span>cnf_p_header_alt</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_unionI_right|fact"><span>g_unionI_right</span></a><span class="main"><span>)</span></span><span>
      
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_unionI_left|fact"><span>g_unionI_left</span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_returnI|fact"><span>g_returnI</span></a><span class="main"><span>)</span></span><span>  
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_maybe_p_header.mcomb|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_maybe_p_header.arity|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_maybe_p_header.itype|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_maybe_p_header.mcomb|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_maybe_p_header.arity|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_maybe_p_header.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_maybe_p_header|const"><span>parse_maybe_p_header</span></a></span><span>
  </span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="CNF_Parser_Impl.parse_maybe_p_header_impl|const"><span>parse_maybe_p_header_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_maybe_p_header|const"><span>parse_maybe_p_header</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Input.html#Parser_Input.rdmem_inp_assn|const"><span>rdmem_inp_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.rdmem_it_assn|const"><span>rdmem_it_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.rdm_parser_unit_assn|const"><span>rdm_parser_unit_assn</span></a><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_28291..28301"><span>parse_maybe_p_header_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_maybe_p_header_impl.refine|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_maybe_p_header_impl_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_maybe_p_header_impl.refine_raw|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_maybe_p_header_impl.refine|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_maybe_p_header_impl_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_maybe_p_header_impl.refine_raw|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_maybe_p_header_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
    
    
      
  </span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹DIMACS File›</span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_dimacs_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_dimacs_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_dimacs_def_raw|axiom"><span class="entity_def" id="offset_29421..29431">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.parse_dimacs|const"><span>parse_dimacs</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>err<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_comments|const"><span>parse_comments</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span class="main"><span>;</span></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>err<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_maybe_p_header|const"><span>parse_maybe_p_header</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span>
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>err<span class="hidden">⇩</span><sub>3</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_cnf_aux_formula|const"><span>parse_cnf_aux_formula</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span>
    
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_valid|const"><span>i_valid</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
    </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>err<span class="hidden">⇩</span><sub>4</sub></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_eof|const"><span>i_eof</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span>
    
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>err<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span class="bound"><span>err<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span class="bound"><span>err<span class="hidden">⇩</span><sub>3</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span class="bound"><span>err<span class="hidden">⇩</span><sub>4</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_29789..29794">lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.not_implies_casesE|fact"><span class="entity_def" id="CNF_Parser_Impl.not_implies_casesE|thm"><span class="entity_def" id="offset_29795..29813">not_implies_casesE</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>Q</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span>"</span></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="free"><span>P</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Q</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_29789..29794"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.parse_dimacs_correct|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_dimacs_correct|thm"><span>parse_dimacs_correct</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2|const"><span>parser_spec2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span>top</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="bound"><span>it'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>err</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_eof|const"><span>i_eof</span></a><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it'</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_dimacs|const"><span>cnf_dimacs</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_dimacs|const"><span>parse_dimacs</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> inp it
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_29421..29431"><span>parse_dimacs_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span>
        </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2_unitD|fact"><span>parser_spec2_unitD</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_26663..26685"><span>parse_comments_correct</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
        </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2_unitD|fact"><span>parser_spec2_unitD</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_28555..28583"><span>parse_maybe_p_header_correct</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
        </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2D|fact"><span>parser_spec2D</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_24176..24205"><span>parse_cnf_aux_formula_correct</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
      </span><span class="main"><span>)</span></span><span>
      
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Refine_Util.html#Refine_Util.clarsimp_all|method"><span class="operator"><span>clarsimp_all</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed_remsize|fact"><span>parsed_remsize</span></a><span class="main"><span>)</span></span><span>
      
      </span><span class="comment1"><span>(* Avoiding exponential blowup, by handling each error case first *)</span></span><span>
      
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_29795..29813"><span>not_implies_casesE</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_29795..29813"><span>not_implies_casesE</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_29795..29813"><span>not_implies_casesE</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
            
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.allI|fact"><span>allI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_parsed|method"><span class="operator"><span>g_parsed</span></span></a><span class="main"><span>)</span></span><span>
  
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_23124..23138"><span>cnf_aux_dimacs</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.g_bindI|fact"><span>g_bindI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    

    
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>             


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Builder State›</span></span></span><span>
</span><span class="comment1"><span>(*
  Building the initial formula in the clause database 
*)</span></span><span>


</span><span class="comment1"><span>(* next_id × clause_builder × cdb *)</span></span><span>  
</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.builder_state|type"><span>builder_state</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld|type"><span>cbld</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb|type"><span>cdb</span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹The invariants take an extra argument for the capacity to reserve for proof checking›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.bs_invar_def|fact"><span class="entity_def" id="CNF_Parser_Impl.bs_invar_def|thm"><span class="entity_def" id="CNF_Parser_Impl.bs_invar_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="CNF_Parser_Impl.bs_invar|const"><span>bs_invar</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_state|type"><span>builder_state</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>bs_invar</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cap<span class="hidden">⇩</span><sub>2</sub></span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>ncid</span></span><span class="main"><span>,</span></span><span class="bound"><span>cbld</span></span><span class="main"><span>,</span></span><span class="bound"><span>cdb</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> 
      </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span class="bound"><span>ncid</span></span><span> 
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_invar|const"><span>cbld_invar</span></a><span> </span><span class="bound"><span>cbld</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span class="bound"><span class="entity"><span>cap<span class="hidden">⇩</span><sub>2</sub></span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_cap|const"><span>cbld_α_cap</span></a><span> </span><span class="bound"><span>cbld</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="bound"><span>cdb</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>{</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>..&lt;</span></a></span><span class="bound"><span>ncid</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>}</span></a></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.ulit_of|const"><span>ulit_of</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>⋃</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran|const"><span>ran</span></a><span> </span><span class="bound"><span>cdb</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>{</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>..</span></a></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_maxlit|const"><span>cbld_α_maxlit</span></a><span> </span><span class="bound"><span>cbld</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>}</span></a></span><span>
    "</span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.bs_\&lt;alpha&gt;F_def|fact"><span class="entity_def" id="CNF_Parser_Impl.bs_\&lt;alpha&gt;F_def|thm"><span class="entity_def" id="CNF_Parser_Impl.bs_\&lt;alpha&gt;F_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="CNF_Parser_Impl.bs_\&lt;alpha&gt;F|const"><span>bs_αF</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_state|type"><span>builder_state</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.dimacs_var|type"><span>dimacs_var</span></a><span> </span><a class="entity_ref" href="SAT_Basic.html#SAT_Basic.cnf|type"><span>cnf</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>bs_αF</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>ncid</span></span><span class="main"><span>,</span></span><span class="bound"><span>cbld</span></span><span class="main"><span>,</span></span><span class="bound"><span>cdb</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran|const"><span>ran</span></a><span> </span><span class="bound"><span>cdb</span></span><span>"</span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.bs_\&lt;alpha&gt;C_def|fact"><span class="entity_def" id="CNF_Parser_Impl.bs_\&lt;alpha&gt;C_def|thm"><span class="entity_def" id="CNF_Parser_Impl.bs_\&lt;alpha&gt;C_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="CNF_Parser_Impl.bs_\&lt;alpha&gt;C|const"><span>bs_αC</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_state|type"><span>builder_state</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.dimacs_var|type"><span>dimacs_var</span></a><span> </span><a class="entity_ref" href="SAT_Basic.html#SAT_Basic.clause|type"><span>clause</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>bs_αC</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>ncid</span></span><span class="main"><span>,</span></span><span class="bound"><span>cbld</span></span><span class="main"><span>,</span></span><span class="bound"><span>cdb</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_clause|const"><span>cbld_α_clause</span></a><span> </span><span class="bound"><span>cbld</span></span><span>"</span></span></span><span>

  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.bs_invar_antimono|fact"><span class="entity_def" id="CNF_Parser_Impl.bs_invar_antimono|thm"><span>bs_invar_antimono</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_invar|const"><span>bs_invar</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>cap'</span></span><span> </span><span class="free"><span>bs</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>cap</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span class="free"><span>cap'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_invar|const"><span>bs_invar</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>cap</span></span><span> </span><span class="free"><span>bs</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_invar_def|fact"><span>bs_invar_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
      
</span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.builder_init_def|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_init_def|thm"><span class="entity_def" id="CNF_Parser_Impl.builder_init_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="CNF_Parser_Impl.builder_init|const"><span>builder_init</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_state|type"><span>builder_state</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres|type"><span>nres</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>builder_init</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cap<span class="hidden">⇩</span><sub>2</sub></span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
    </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>ncid</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.mk_cid|const"><span>mk_cid</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>;</span></span><span>
    </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>cbld</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_new|const"><span>cbld_new</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span class="bound"><span class="entity"><span>cap<span class="hidden">⇩</span><sub>2</sub></span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
    </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>cdb</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_empty|const"><span>cdb_empty</span></a><span class="main"><span>;</span></span><span> 
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>ncid</span></span><span class="main"><span>,</span></span><span class="bound"><span>cbld</span></span><span class="main"><span>,</span></span><span class="bound"><span>cdb</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>}</span></span><span>"</span></span></span><span> 
  
   
</span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.builder_add_lit_def|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_add_lit_def|thm"><span class="entity_def" id="CNF_Parser_Impl.builder_add_lit_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="CNF_Parser_Impl.builder_add_lit|const"><span>builder_add_lit</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.dimacs_var|type"><span>dimacs_var</span></a><span> </span><a class="entity_ref" href="SAT_Basic.html#SAT_Basic.literal|type"><span>literal</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_state|type"><span>builder_state</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_state|type"><span>builder_state</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres|type"><span>nres</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>builder_add_lit</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>ncid</span></span><span class="main"><span>,</span></span><span class="bound"><span>cbld</span></span><span class="main"><span>,</span></span><span class="bound"><span>cdb</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span>
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_invar|const"><span>cbld_invar</span></a><span> </span><span class="bound"><span>cbld</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
    </span><span class="bound"><span>cbld</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_add_lit|const"><span>cbld_add_lit</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span> </span><span class="bound"><span>cbld</span></span><span class="main"><span>;</span></span><span>
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>ncid</span></span><span class="main"><span>,</span></span><span class="bound"><span>cbld</span></span><span class="main"><span>,</span></span><span class="bound"><span>cdb</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>}</span></span><span>"</span></span></span><span>  
  


</span><span class="comment1"><span>(* TODO: Move *)</span></span><span>  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.dyn_check_incr_cid_def|fact"><span class="entity_def" id="CNF_Parser_Impl.dyn_check_incr_cid_def|thm"><span class="entity_def" id="CNF_Parser_Impl.dyn_check_incr_cid_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.dyn_check_incr_cid|const"><span>dyn_check_incr_cid</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cid</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> 
  </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.dest_cid|const"><span>dest_cid</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>cid</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.max_size_incl|const"><span>max_size_incl</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span>
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.mk_cid|const"><span>mk_cid</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.dest_cid|const"><span>dest_cid</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>cid</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span> 
  </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> 
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>cid</span></span></span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span>
  "</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.dyn_check_incr_cid_correct|fact"><span class="entity_def" id="CNF_Parser_Impl.dyn_check_incr_cid_correct|thm"><span>dyn_check_incr_cid_correct</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|attribute"><span class="operator"><span>refine_vcg</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.dyn_check_incr_cid|const"><span>dyn_check_incr_cid</span></a><span> </span><span class="free"><span>cid</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.SPEC|const"><span>SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>cid'</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>err</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>cid'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.mk_cid|const"><span>mk_cid</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.dest_cid|const"><span>dest_cid</span></a><span> </span><span class="free"><span>cid</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>    
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.dyn_check_incr_cid_def|fact"><span>dyn_check_incr_cid_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>        
  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.dyn_check_incr_cid.mcomb|fact"><span class="entity_def" id="CNF_Parser_Impl.dyn_check_incr_cid.arity|fact"><span class="entity_def" id="CNF_Parser_Impl.dyn_check_incr_cid.itype|fact"><span class="entity_def" id="CNF_Parser_Impl.dyn_check_incr_cid.mcomb|thm"><span class="entity_def" id="CNF_Parser_Impl.dyn_check_incr_cid.arity|thm"><span class="entity_def" id="CNF_Parser_Impl.dyn_check_incr_cid.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.dyn_check_incr_cid|const"><span>dyn_check_incr_cid</span></a></span><span>  
  
</span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="CNF_Parser_Impl.dyn_check_incr_cid_impl|const"><span>dyn_check_incr_cid_impl</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.dyn_check_incr_cid|const"><span>dyn_check_incr_cid</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.cid_assn|const"><span>cid_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.cid_assn|const"><span>cid_assn</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>×<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.dyn_check_incr_cid_def|fact"><span>dyn_check_incr_cid_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.annot_snat_const|method"><span class="operator"><span>annot_snat_const</span></span></a><span> </span><span class="quoted"><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.size_T|const"><span>size_T</span></a></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.dyn_check_incr_cid_impl.refine|fact"><span class="entity_def" id="CNF_Parser_Impl.dyn_check_incr_cid_impl_def|fact"><span class="entity_def" id="CNF_Parser_Impl.dyn_check_incr_cid_impl.refine_raw|fact"><span class="entity_def" id="CNF_Parser_Impl.dyn_check_incr_cid_impl.refine|thm"><span class="entity_def" id="CNF_Parser_Impl.dyn_check_incr_cid_impl_def|thm"><span class="entity_def" id="CNF_Parser_Impl.dyn_check_incr_cid_impl.refine_raw|thm"><span class="entity_def" id="CNF_Parser_Impl.dyn_check_incr_cid_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
  

      
</span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.builder_finish_clause_def|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_finish_clause_def|thm"><span class="entity_def" id="CNF_Parser_Impl.builder_finish_clause_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="CNF_Parser_Impl.builder_finish_clause|const"><span>builder_finish_clause</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_state|type"><span>builder_state</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_state|type"><span>builder_state</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres|type"><span>nres</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>builder_finish_clause</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>ncid</span></span><span class="main"><span>,</span></span><span class="bound"><span>cbld</span></span><span class="main"><span>,</span></span><span class="bound"><span>cdb</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
    </span><span class="main"><span>(</span></span><span class="bound"><span>ncid'</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.dyn_check_incr_cid|const"><span>dyn_check_incr_cid</span></a><span> </span><span class="bound"><span>ncid</span></span><span class="main"><span>;</span></span><span>
    </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>err</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
      </span><span class="main"><span>(</span></span><span class="bound"><span>cl</span></span><span class="main"><span>,</span></span><span class="bound"><span>cbld</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_finish_clause|const"><span>cbld_finish_clause</span></a><span> </span><span class="bound"><span>cbld</span></span><span class="main"><span>;</span></span><span>
      </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>cdb</span></span><span> </span><span class="bound"><span>ncid</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
      </span><span class="bound"><span>cdb</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_insert|const"><span>cdb_insert</span></a><span> </span><span class="bound"><span>ncid</span></span><span> </span><span class="bound"><span>cl</span></span><span> </span><span class="bound"><span>cdb</span></span><span class="main"><span>;</span></span><span>
      </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="bound"><span>ncid'</span></span><span class="main"><span>,</span></span><span class="bound"><span>cbld</span></span><span class="main"><span>,</span></span><span class="bound"><span>cdb</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>}</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
      </span><span class="bound"><span>cbld</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_abort_clause|const"><span>cbld_abort_clause</span></a><span> </span><span class="bound"><span>cbld</span></span><span class="main"><span>;</span></span><span>
      </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="bound"><span>ncid</span></span><span class="main"><span>,</span></span><span class="bound"><span>cbld</span></span><span class="main"><span>,</span></span><span class="bound"><span>cdb</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>}</span></span><span>
  </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  

</span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.builder_abort_clause_def|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_abort_clause_def|thm"><span class="entity_def" id="CNF_Parser_Impl.builder_abort_clause_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="CNF_Parser_Impl.builder_abort_clause|const"><span>builder_abort_clause</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_state|type"><span>builder_state</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_state|type"><span>builder_state</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres|type"><span>nres</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>builder_abort_clause</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>ncid</span></span><span class="main"><span>,</span></span><span class="bound"><span>cbld</span></span><span class="main"><span>,</span></span><span class="bound"><span>cdb</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
    </span><span class="bound"><span>cbld</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_abort_clause|const"><span>cbld_abort_clause</span></a><span> </span><span class="bound"><span>cbld</span></span><span class="main"><span>;</span></span><span>
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>ncid</span></span><span class="main"><span>,</span></span><span class="bound"><span>cbld</span></span><span class="main"><span>,</span></span><span class="bound"><span>cdb</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  
    
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.builder_init_correct|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_init_correct|thm"><span>builder_init_correct</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|attribute"><span class="operator"><span>refine_vcg</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_init|const"><span>builder_init</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.SPEC|const"><span>SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>bs</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_invar|const"><span>bs_invar</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="bound"><span>bs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;F|const"><span>bs_αF</span></a><span> </span><span class="bound"><span>bs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;C|const"><span>bs_αC</span></a><span> </span><span class="bound"><span>bs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_init_def|fact"><span>builder_init_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_invar_def|fact"><span>bs_invar_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;F_def|fact"><span>bs_αF_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;C_def|fact"><span>bs_αC_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_empty_def|fact"><span>cdb_empty_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.builder_add_lit_correct|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_add_lit_correct|thm"><span>builder_add_lit_correct</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|attribute"><span class="operator"><span>refine_vcg</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_invar|const"><span>bs_invar</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="free"><span>bs</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span>
    </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_add_lit|const"><span>builder_add_lit</span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="free"><span>bs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.SPEC|const"><span>SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>bs'</span></span><span class="main"><span>.</span></span><span> 
      </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_invar|const"><span>bs_invar</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>cap<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>bs'</span></span><span> 
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;F|const"><span>bs_αF</span></a><span> </span><span class="bound"><span>bs'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;F|const"><span>bs_αF</span></a><span> </span><span class="free"><span>bs</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;C|const"><span>bs_αC</span></a><span> </span><span class="bound"><span>bs'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;C|const"><span>bs_αC</span></a><span> </span><span class="free"><span>bs</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_add_lit_def|fact"><span>builder_add_lit_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_invar_def|fact"><span>bs_invar_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;F_def|fact"><span>bs_αF_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;C_def|fact"><span>bs_αC_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
  
  

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.builder_finish_clause_correct|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_finish_clause_correct|thm"><span>builder_finish_clause_correct</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|attribute"><span class="operator"><span>refine_vcg</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_invar|const"><span>bs_invar</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="free"><span>bs</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span>
  </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_finish_clause|const"><span>builder_finish_clause</span></a><span> </span><span class="free"><span>bs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.SPEC|const"><span>SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>bs'</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> 
      </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_invar|const"><span>bs_invar</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>cap<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>bs'</span></span><span> 
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;C|const"><span>bs_αC</span></a><span> </span><span class="bound"><span>bs'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>err</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> 
        </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;F|const"><span>bs_αF</span></a><span> </span><span class="bound"><span>bs'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;C|const"><span>bs_αC</span></a><span> </span><span class="free"><span>bs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;F|const"><span>bs_αF</span></a><span> </span><span class="free"><span>bs</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>    
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_finish_clause_def|fact"><span>builder_finish_clause_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_invar_def|fact"><span>bs_invar_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;F_def|fact"><span>bs_αF_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;C_def|fact"><span>bs_αC_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Refine_Util.html#Refine_Util.clarsimp_all|method"><span class="operator"><span>clarsimp_all</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_Un|fact"><span>image_Un</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_maxlit_bound|fact"><span>cbld_α_maxlit_bound</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.builder_abort_clause_correct|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_abort_clause_correct|thm"><span>builder_abort_clause_correct</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|attribute"><span class="operator"><span>refine_vcg</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_invar|const"><span>bs_invar</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="free"><span>bs</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span>
  </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_abort_clause|const"><span>builder_abort_clause</span></a><span> </span><span class="free"><span>bs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.SPEC|const"><span>SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>bs'</span></span><span class="main"><span>.</span></span><span> 
      </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_invar|const"><span>bs_invar</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="bound"><span>bs'</span></span><span> 
      </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;F|const"><span>bs_αF</span></a><span> </span><span class="bound"><span>bs'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;F|const"><span>bs_αF</span></a><span> </span><span class="free"><span>bs</span></span><span>
      </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;C|const"><span>bs_αC</span></a><span> </span><span class="bound"><span>bs'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>
    </span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_abort_clause_def|fact"><span>builder_abort_clause_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_invar_def|fact"><span>bs_invar_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;F_def|fact"><span>bs_αF_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;C_def|fact"><span>bs_αC_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Refine_Util.html#Refine_Util.clarsimp_all|method"><span class="operator"><span>clarsimp_all</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>  

</span><span class="comment1"><span>(*  
lemma cdb_lits_in_maxlit: "⟦ cdb_invar cdb; l∈cdb_lits cdb ⟧ ⟹ var_of_lit l ∈ maxlit_vdom (cdb_maxlit cdb)"  
  unfolding cdb_invar_def cdb_lits_def maxlit_vdom_def cdb_maxlit_def
  apply (clarsimp)
  apply (rule exI[where x="ulit_of l"])
  by auto
*)</span></span><span>
</span><span class="comment1"><span>(*      
lemma builder_finish_building_correct[refine_vcg]: "⟦ bs_ob_invar cap<span class="hidden">⇩</span><sub>1</sub> cap<span class="hidden">⇩</span><sub>2</sub> bsob ⟧ ⟹
  builder_finish_building bsob ≤ SPEC (λcsop. cs_op_invar cap<span class="hidden">⇩</span><sub>1</sub> csop ∧ checker_invar (bs_ob_α bsob) (cs_op_α csop))"  
  unfolding builder_finish_building_def
  apply refine_vcg
  unfolding cs_op_invar_def cs_op_α_def bs_ob_invar_def  bs_ob_α_def
  by (auto simp: cdb_lits_in_maxlit)
*)</span></span><span>



</span><span class="comment1"><span>(* Implementation: Builder *)</span></span><span>    
  
    
</span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.bs_assn_def|fact"><span class="entity_def" id="CNF_Parser_Impl.bs_assn_def|thm"><span class="entity_def" id="CNF_Parser_Impl.bs_assn_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.bs_assn|const"><span>bs_assn</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.cid_assn|const"><span>cid_assn</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>×<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_assn|const"><span>cbld_assn</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>×<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_assn|const"><span>cdb_assn</span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.builder_abort_clause.mcomb|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_abort_clause.arity|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_abort_clause.itype|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_finish_clause.mcomb|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_finish_clause.arity|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_finish_clause.itype|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_add_lit.mcomb|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_add_lit.arity|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_add_lit.itype|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_init.mcomb|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_init.arity|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_init.itype|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_abort_clause.mcomb|thm"><span class="entity_def" id="CNF_Parser_Impl.builder_abort_clause.arity|thm"><span class="entity_def" id="CNF_Parser_Impl.builder_abort_clause.itype|thm"><span class="entity_def" id="CNF_Parser_Impl.builder_finish_clause.mcomb|thm"><span class="entity_def" id="CNF_Parser_Impl.builder_finish_clause.arity|thm"><span class="entity_def" id="CNF_Parser_Impl.builder_finish_clause.itype|thm"><span class="entity_def" id="CNF_Parser_Impl.builder_add_lit.mcomb|thm"><span class="entity_def" id="CNF_Parser_Impl.builder_add_lit.arity|thm"><span class="entity_def" id="CNF_Parser_Impl.builder_add_lit.itype|thm"><span class="entity_def" id="CNF_Parser_Impl.builder_init.mcomb|thm"><span class="entity_def" id="CNF_Parser_Impl.builder_init.arity|thm"><span class="entity_def" id="CNF_Parser_Impl.builder_init.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> 
  </span><span class="quoted"><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_init|const"><span>builder_init</span></a></span><span> 
  </span><span class="quoted"><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_add_lit|const"><span>builder_add_lit</span></a></span><span> 
  </span><span class="quoted"><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_finish_clause|const"><span>builder_finish_clause</span></a></span><span> 
  </span><span class="quoted"><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_abort_clause|const"><span>builder_abort_clause</span></a></span><span> 
 
</span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="CNF_Parser_Impl.builder_init_impl|const"><span>builder_init_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_init|const"><span>builder_init</span></a><span>"</span></span></span><span> 
  </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="bound"><span>cap<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="bound"><span>cap<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.max_size|const"><span>max_size</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.size_assn|const"><span>size_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.size_assn|const"><span>size_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_assn|const"><span>bs_assn</span></a><span>"</span></span></span><span>   
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_init_def|fact"><span>builder_init_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_assn_def|fact"><span>bs_assn_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.annot_snat_const|method"><span class="operator"><span>annot_snat_const</span></span></a><span> </span><span class="quoted"><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.size_T|const"><span>size_T</span></a></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.builder_init_impl.refine|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_init_impl_def|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_init_impl.refine_raw|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_init_impl.refine|thm"><span class="entity_def" id="CNF_Parser_Impl.builder_init_impl_def|thm"><span class="entity_def" id="CNF_Parser_Impl.builder_init_impl.refine_raw|thm"><span class="entity_def" id="CNF_Parser_Impl.builder_init_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
 
</span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="CNF_Parser_Impl.builder_add_lit_impl|const"><span>builder_add_lit_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_add_lit|const"><span>builder_add_lit</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.ulit_assn|const"><span>ulit_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_assn|const"><span>bs_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_assn|const"><span>bs_assn</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_add_lit_def|fact"><span>builder_add_lit_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_assn_def|fact"><span>bs_assn_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.builder_add_lit_impl.refine|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_add_lit_impl_def|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_add_lit_impl.refine_raw|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_add_lit_impl.refine|thm"><span class="entity_def" id="CNF_Parser_Impl.builder_add_lit_impl_def|thm"><span class="entity_def" id="CNF_Parser_Impl.builder_add_lit_impl.refine_raw|thm"><span class="entity_def" id="CNF_Parser_Impl.builder_add_lit_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
   
</span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="CNF_Parser_Impl.builder_finish_clause_impl|const"><span>builder_finish_clause_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_finish_clause|const"><span>builder_finish_clause</span></a></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_assn|const"><span>bs_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>×<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_assn|const"><span>bs_assn</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_finish_clause_def|fact"><span>builder_finish_clause_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_assn_def|fact"><span>bs_assn_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.builder_finish_clause_impl.refine|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_finish_clause_impl_def|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_finish_clause_impl.refine_raw|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_finish_clause_impl.refine|thm"><span class="entity_def" id="CNF_Parser_Impl.builder_finish_clause_impl_def|thm"><span class="entity_def" id="CNF_Parser_Impl.builder_finish_clause_impl.refine_raw|thm"><span class="entity_def" id="CNF_Parser_Impl.builder_finish_clause_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>

  
</span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="CNF_Parser_Impl.builder_abort_clause_impl|const"><span>builder_abort_clause_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_abort_clause|const"><span>builder_abort_clause</span></a></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_assn|const"><span>bs_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_assn|const"><span>bs_assn</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_abort_clause_def|fact"><span>builder_abort_clause_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_assn_def|fact"><span>bs_assn_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.builder_abort_clause_impl.refine|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_abort_clause_impl_def|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_abort_clause_impl.refine_raw|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_abort_clause_impl.refine|thm"><span class="entity_def" id="CNF_Parser_Impl.builder_abort_clause_impl_def|thm"><span class="entity_def" id="CNF_Parser_Impl.builder_abort_clause_impl.refine_raw|thm"><span class="entity_def" id="CNF_Parser_Impl.builder_abort_clause_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
  
</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Parsing with Builder State›</span></span></span><span>
  

</span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_clause2_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_clause2_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_clause2_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.parse_clause2|const"><span>parse_clause2</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>bs</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
  </span><span class="main"><span>(</span></span><span class="bound"><span>bs</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.WHILET|const"><span>WHILET</span></a><span> 
    </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>bs</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span> 
    </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>bs</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
    
      </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_valid|const"><span>i_valid</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
      </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_eof|const"><span>i_eof</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span>
        </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>bs</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
        </span><span class="bound"><span>c</span></span><span class="main"><span>←</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_peek|const"><span>i_peek</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span>
        
        </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.char_0|const"><span>char_0</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
          </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_next|const"><span>i_next</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span>
          </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
          
          </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>bs</span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span>
        </span><span class="main"><span>}</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
          </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_literal|const"><span>parse_literal</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span>
          </span><span class="main"><span>(</span></span><span class="bound"><span>err'</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_whitespace1|const"><span>parse_whitespace1</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span>
          
          </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="bound"><span>err'</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span>
            </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>bs</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
            </span><span class="bound"><span>bs</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_add_lit|const"><span>builder_add_lit</span></a><span> </span><span class="bound"><span>l</span></span><span> </span><span class="bound"><span>bs</span></span><span class="main"><span>;</span></span><span>
            </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>bs</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span>     
          </span><span class="main"><span>}</span></span><span>  
        </span><span class="main"><span>}</span></span><span>
      </span><span class="main"><span>}</span></span><span>
    </span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> 
    </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>bs</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>

  </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>  
  </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>bs</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span>  
</span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_clause|const"><span>parse_clause</span></a></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.bs_clause_rel_def|fact"><span class="entity_def" id="CNF_Parser_Impl.bs_clause_rel_def|thm"><span class="entity_def" id="CNF_Parser_Impl.bs_clause_rel_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.bs_clause_rel|const"><span>bs_clause_rel</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cap<span class="hidden">⇩</span><sub>2</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>fml</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>bs</span></span><span class="main"><span>,</span></span><span class="bound"><span>cl</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> 
    </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_invar|const"><span>bs_invar</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cap<span class="hidden">⇩</span><sub>2</sub></span></span></span></span><span> </span><span class="bound"><span>bs</span></span><span>
  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;F|const"><span>bs_αF</span></a><span> </span><span class="bound"><span>bs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>fml</span></span></span></span><span>
  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;C|const"><span>bs_αC</span></a><span> </span><span class="bound"><span>bs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>cl</span></span><span>     
</span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.parse_clause2_loop_state_rel|const"><span>parse_clause2_loop_state_rel</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>bs<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>{</span></span><span> 
  </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>bs</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>cl</span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>,</span></span><span class="bound"><span>err'</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk'</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> 
    </span><span class="main"><span>(</span></span><span class="bound"><span>bs</span></span><span class="main"><span>,</span></span><span class="bound"><span>cl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_clause_rel|const"><span>bs_clause_rel</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.zero_neq_one_class.of_bool|const"><span>of_bool</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>err</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;F|const"><span>bs_αF</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>bs<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span class="main"><span>)</span></span><span>    
  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>err</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span>  
  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span>  
  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>err'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span>
  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>brk</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span>  
</span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_37788..37793">lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.builder_add_lit_refine_aux|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_add_lit_refine_aux|thm"><span>builder_add_lit_refine_aux</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span>bs</span></span><span class="main"><span>,</span></span><span class="free"><span>it</span></span><span class="main"><span>,</span></span><span class="free"><span>err</span></span><span class="main"><span>,</span></span><span class="free"><span>brk</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>cl</span></span><span class="main"><span>,</span></span><span class="free"><span>it'</span></span><span class="main"><span>,</span></span><span class="free"><span>err'</span></span><span class="main"><span>,</span></span><span class="free"><span>brk'</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_clause2_loop_state_rel|const"><span>parse_clause2_loop_state_rel</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>bs<span class="hidden">⇩</span><sub>0</sub></span></span><span> </span><span class="free"><span>inp</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>l</span></span><span class="main"><span>,</span></span><span class="free"><span>l'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it''</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it'</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_add_lit|const"><span>builder_add_lit</span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="free"><span>bs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.conc_fun|const"><span>⇓</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_clause_rel|const"><span>bs_clause_rel</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it''</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;F|const"><span>bs_αF</span></a><span> </span><span class="free"><span>bs<span class="hidden">⇩</span><sub>0</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="free"><span>l'</span></span><span> </span><span class="free"><span>cl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_37788..37793"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_clause_rel_def|fact"><span>bs_clause_rel_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_invar_antimono|fact"><span>bs_invar_antimono</span></a><span class="main"><span>)</span></span><span>

  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.parse_clause2_refine|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_clause2_refine|thm"><span>parse_clause2_refine</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_invar|const"><span>bs_invar</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>bs<span class="hidden">⇩</span><sub>0</sub></span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;C|const"><span>bs_αC</span></a><span> </span><span class="free"><span>bs<span class="hidden">⇩</span><sub>0</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>  </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_clause2|const"><span>parse_clause2</span></a><span> </span><span class="free"><span>bs<span class="hidden">⇩</span><sub>0</sub></span></span><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span> 
  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.conc_fun|const"><span>⇓</span></a></span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>bs</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>cl</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>bs</span></span><span> </span><span class="bound"><span>cl</span></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>bs</span></span><span class="main"><span>,</span></span><span class="bound"><span>cl</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_clause_rel|const"><span>bs_clause_rel</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.zero_neq_one_class.of_bool|const"><span>of_bool</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;F|const"><span>bs_αF</span></a><span> </span><span class="free"><span>bs<span class="hidden">⇩</span><sub>0</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>}</span></span><span> 
  </span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_clause|const"><span>parse_clause</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_clause2_def|fact"><span>parse_clause2_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_clause_def|fact"><span>parse_clause_def</span></a><span>
  
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_LLVM/ISABELLE_HOME/src/HOL/Library/rewrite.ML.html#Rewrite.rewrite|method"><span class="operator"><span>rewrite</span></span></a><span> </span><span class="quasi_keyword"><span>at</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span class="keyword1"><span>let</span></span></span><span> </span><span class="bound"><span class="bound"><span>x</span></span></span><span class="main"><span class="main"><span>=</span></span></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a></a><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="keyword1"><span class="keyword1"><span>in</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span>"</span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.let_to_bind_conv|fact"><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.let_to_bind_conv|fact"><span>let_to_bind_conv</span></a></a><span class="main"><span>)</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_rcg|method"><span class="operator"><span>refine_rcg</span></span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_add_lit_refine_aux|fact"><span>builder_add_lit_refine_aux</span></a><span class="main"><span>)</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine2|fact"><span class="dynamic"><span class="dynamic"><span>refine2</span></span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Heuristics.html#Refine_Heuristics.refine_dref_RELATES|attribute"><span class="operator"><span>refine_dref_RELATES</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Heuristics.html#Refine_Heuristics.RELATESI|fact"><span>RELATESI</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_clause2_loop_state_rel|const"><span>parse_clause2_loop_state_rel</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>bs<span class="hidden">⇩</span><sub>0</sub></span></span><span> </span><span class="free"><span>inp</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Heuristics.html#Refine_Heuristics.refine_dref_type|method"><span class="operator"><span>refine_dref_type</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Eisbach.Eisbach.html#Eisbach.all|method"><span class="operator"><span>all</span></span></a><span> </span><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span class="operator"><span>fail</span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>?</span></span></span><span>›</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_clause_rel_def|fact"><span>bs_clause_rel_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp_all</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed1_remsize|fact"><span>parsed1_remsize</span></a><span class="main"><span>)</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_invar_antimono|fact"><span>bs_invar_antimono</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>fail</span></span><span class="main"><span>)</span></span><span> 
  
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.impI|fact"><span>impI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>


    
</span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.os_fml_rel_def|fact"><span class="entity_def" id="CNF_Parser_Impl.os_fml_rel_def|thm"><span class="entity_def" id="CNF_Parser_Impl.os_fml_rel_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.os_fml_rel|const"><span>os_fml_rel</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.br|const"><span>br</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;F|const"><span>bs_αF</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>bs</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_invar|const"><span>bs_invar</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>bs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;C|const"><span>bs_αC</span></a><span> </span><span class="bound"><span>bs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.parse_clause2_refine&apos;|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_clause2_refine&apos;|thm"><span>parse_clause2_refine'</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine|attribute"><span class="operator"><span>refine</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>os<span class="hidden">⇩</span><sub>0</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>fml</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.os_fml_rel|const"><span>os_fml_rel</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span class="main"><span>;</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>inp</span></span><span class="main"><span>,</span></span><span class="free"><span>inp'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span class="main"><span>;</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>it</span></span><span class="main"><span>,</span></span><span class="free"><span>it'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> 
  </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_clause2|const"><span>parse_clause2</span></a><span> </span><span class="free"><span>os<span class="hidden">⇩</span><sub>0</sub></span></span><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span> 
  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.conc_fun|const"><span>⇓</span></a></span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>bs</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>cl</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>bs</span></span><span> </span><span class="bound"><span>cl</span></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>bs</span></span><span class="main"><span>,</span></span><span class="bound"><span>cl</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_clause_rel|const"><span>bs_clause_rel</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.zero_neq_one_class.of_bool|const"><span>of_bool</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>fml</span></span><span> </span><span class="main"><span>}</span></span><span>
  </span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_clause|const"><span>parse_clause</span></a><span> </span><span class="free"><span>inp'</span></span><span> </span><span class="free"><span>it'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.os_fml_rel_def|fact"><span>os_fml_rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.clarify|method"><span class="operator"><span>clarify</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.preorder_class.order_trans|fact"><span>order_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_clause2_refine|fact"><span>parse_clause2_refine</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>


</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parser_insert_cl|const"><span>parser_insert_cl</span></a></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_39750..39755">lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.builder_finish_clause_refine|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_finish_clause_refine|thm"><span>builder_finish_clause_refine</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine|attribute"><span class="operator"><span>refine</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>bs</span></span><span class="main"><span>,</span></span><span class="free"><span>cl</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_clause_rel|const"><span>bs_clause_rel</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>fml</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_finish_clause|const"><span>builder_finish_clause</span></a><span> </span><span class="free"><span>bs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.conc_fun|const"><span>⇓</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.bool_rel|const"><span>bool_rel</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.prod_rel_syn|const"><span>×<span class="hidden">⇩</span><sub>r</sub></span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.os_fml_rel|const"><span>os_fml_rel</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parser_insert_cl|const"><span>parser_insert_cl</span></a><span> </span><span class="free"><span>cl</span></span><span> </span><span class="free"><span>fml</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>        
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_39750..39755"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.os_fml_rel_def|fact"><span>os_fml_rel_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_clause_rel_def|fact"><span>bs_clause_rel_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parser_insert_cl_def|fact"><span>parser_insert_cl_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.clarify|method"><span class="operator"><span>clarify</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.preorder_class.order_trans|fact"><span>order_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_finish_clause_correct|fact"><span>builder_finish_clause_correct</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.pw_le_iff|fact"><span>pw_le_iff</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_pw_simps|fact"><span class="dynamic"><span class="dynamic"><span>refine_pw_simps</span></span></span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop_state_rel|const"><span>parse_cnf_loop_state_rel</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>os</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="bound"><span>fml</span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk'</span></span><span class="main"><span>,</span></span><span class="bound"><span>err'</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span>
    </span><span class="main"><span>(</span></span><span class="bound"><span>os</span></span><span class="main"><span>,</span></span><span class="bound"><span>fml</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.os_fml_rel|const"><span>os_fml_rel</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it'</span></span><span>
  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span>
  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>brk</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span>
  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>err'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span>  
   </span><span class="main"><span>}</span></span><span>"</span></span></span><span>  
  
  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop_abort_clause_aux_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop_abort_clause_aux_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop_abort_clause_aux_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop_abort_clause_aux|const"><span>parse_cnf_loop_abort_clause_aux</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>bs</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
  </span><span class="bound"><span>os</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_abort_clause|const"><span>builder_abort_clause</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>bs</span></span></span></span><span class="main"><span>;</span></span><span>
  </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>os</span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span>
</span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_40537..40542">lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop_abort_clause_aux_refine|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop_abort_clause_aux_refine|thm"><span>parse_cnf_loop_abort_clause_aux_refine</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine|attribute"><span class="operator"><span>refine</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>bs</span></span><span class="main"><span>,</span></span><span class="free"><span>cl</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_clause_rel|const"><span>bs_clause_rel</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>fml</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>it</span></span><span class="main"><span>,</span></span><span class="free"><span>it'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_cnf_loop_abort_clause_aux|const"><span>parse_cnf_loop_abort_clause_aux</span></a><span> </span><span class="free"><span>bs</span></span><span> </span><span class="free"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span class="main"><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.conc_fun|const"><span>⇓</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_cnf_loop_state_rel|const"><span>parse_cnf_loop_state_rel</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>inp</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>fml</span></span><span class="main"><span>,</span></span><span class="free"><span>it'</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_cnf_loop_abort_clause_aux_def|fact"><span>parse_cnf_loop_abort_clause_aux_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_40537..40542"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_clause_rel_def|fact"><span>bs_clause_rel_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.os_fml_rel_def|fact"><span>os_fml_rel_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span class="main"><span>)</span></span><span>
  
  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop2_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop2_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop2_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop2|const"><span>parse_cnf_loop2</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>os</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
  </span><span class="main"><span>(</span></span><span class="bound"><span>os</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.WHILEIT|const"><span>WHILEIT</span></a><span> 
    </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>os</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_valid|const"><span>i_valid</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>os</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>brk</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_eof|const"><span>i_eof</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>os</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
      
      </span><span class="main"><span>(</span></span><span class="bound"><span>c</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span class="main"><span>←</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_read|const"><span>i_read</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span> 
      
      </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.whitespace|const"><span>whitespace</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span>
        </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>os</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
        </span><span class="main"><span>(</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_whitespace|const"><span>parse_whitespace</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span>
        
        </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_valid|const"><span>i_valid</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
        
        </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_eof|const"><span>i_eof</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span>
          </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>os</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
          </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>bs</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_clause2|const"><span>parse_clause2</span></a><span> </span><span class="bound"><span>os</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span>
        
          </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
            </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_cnf_loop_abort_clause_aux|const"><span>parse_cnf_loop_abort_clause_aux</span></a><span> </span><span class="bound"><span>bs</span></span><span> </span><span class="bound"><span>it</span></span><span>
          </span><span class="main"><span>}</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
            </span><span class="main"><span>(</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>os</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_finish_clause|const"><span>builder_finish_clause</span></a><span> </span><span class="bound"><span>bs</span></span><span class="main"><span>;</span></span><span>
            </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>os</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span>
          </span><span class="main"><span>}</span></span><span>
        </span><span class="main"><span>}</span></span><span>
      </span><span class="main"><span>}</span></span><span>
    </span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>os</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>

  </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>os</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span>  
</span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.os_fml_rel_antimono|fact"><span class="entity_def" id="CNF_Parser_Impl.os_fml_rel_antimono|thm"><span>os_fml_rel_antimono</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.os_fml_rel|const"><span>os_fml_rel</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.os_fml_rel|const"><span>os_fml_rel</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it'</span></span><span>"</span></span></span><span>   
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.os_fml_rel_def|fact"><span>os_fml_rel_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_invar_antimono|fact"><span>bs_invar_antimono</span></a><span class="main"><span>)</span></span><span>
   
   
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_42043..42048">lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop2_refine|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop2_refine|thm"><span>parse_cnf_loop2_refine</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine|attribute"><span class="operator"><span>refine</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>os</span></span><span class="main"><span>,</span></span><span class="free"><span>fml</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.os_fml_rel|const"><span>os_fml_rel</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>inp</span></span><span class="main"><span>,</span></span><span class="free"><span>inp'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>it</span></span><span class="main"><span>,</span></span><span class="free"><span>it'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_cnf_loop2|const"><span>parse_cnf_loop2</span></a><span> </span><span class="free"><span>os</span></span><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span> 
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.conc_fun|const"><span>⇓</span></a></span><span class="main"><span>{</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>os</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>fml</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>os</span></span><span> </span><span class="bound"><span>fml</span></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>os</span></span><span class="main"><span>,</span></span><span class="bound"><span>fml</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.os_fml_rel|const"><span>os_fml_rel</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><span>}</span></span><span> 
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_cnf_loop|const"><span>parse_cnf_loop</span></a><span> </span><span class="free"><span>fml</span></span><span> </span><span class="free"><span>inp'</span></span><span> </span><span class="free"><span>it'</span></span><span> </span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#offset_42043..42048"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_cnf_loop2_def|fact"><span>parse_cnf_loop2_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_cnf_loop_def|fact"><span>parse_cnf_loop_def</span></a><span>  
  
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Heuristics.html#Refine_Heuristics.refine_dref_RELATES|attribute"><span class="operator"><span>refine_dref_RELATES</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Heuristics.html#Refine_Heuristics.RELATESI|fact"><span>RELATESI</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_cnf_loop_state_rel|const"><span>parse_cnf_loop_state_rel</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>inp</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_rcg|method"><span class="operator"><span>refine_rcg</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Heuristics.html#Refine_Heuristics.refine_dref_type|method"><span class="operator"><span>refine_dref_type</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Refine_Util.html#Refine_Util.clarsimp_all|method"><span class="operator"><span>clarsimp_all</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.os_fml_rel_antimono|fact"><span>os_fml_rel_antimono</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span class="operator"><span>fail</span></span><span class="main"><span>)</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.os_fml_rel_antimono|fact"><span>os_fml_rel_antimono</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span class="operator"><span>fail</span></span><span class="main"><span>)</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.os_fml_rel_antimono|fact"><span>os_fml_rel_antimono</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span class="operator"><span>fail</span></span><span class="main"><span>)</span></span><span>
  
  
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span class="operator"><span>fail</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span class="operator"><span>fail</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span class="operator"><span>fail</span></span><span class="main"><span>)</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>     
  
      
</span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_abort_clause_aux_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_abort_clause_aux_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_abort_clause_aux_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_abort_clause_aux|const"><span>parse_cnf_aux_abort_clause_aux</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>bs</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
  </span><span class="bound"><span>os</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_abort_clause|const"><span>builder_abort_clause</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>bs</span></span></span></span><span class="main"><span>;</span></span><span>
  </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>os</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  

</span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_formula2_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_formula2_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_formula2_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_formula2|const"><span>parse_cnf_aux_formula2</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
  </span><span class="main"><span>(</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_whitespace|const"><span>parse_whitespace</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span class="main"><span>;</span></span><span>
  
  </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_valid|const"><span>i_valid</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>

  </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.max_size|const"><span>max_size</span></a><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>

  </span><span class="bound"><span>os</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_init|const"><span>builder_init</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
  
  </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_eof|const"><span>i_eof</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span>
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>os</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>bs</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_clause2|const"><span>parse_clause2</span></a><span> </span><span class="bound"><span>os</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span>

    </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
      </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_cnf_aux_abort_clause_aux|const"><span>parse_cnf_aux_abort_clause_aux</span></a><span> </span><span class="bound"><span>bs</span></span><span> </span><span class="bound"><span>it</span></span><span>
    </span><span class="main"><span>}</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
      </span><span class="main"><span>(</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>os</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_finish_clause|const"><span>builder_finish_clause</span></a><span> </span><span class="bound"><span>bs</span></span><span class="main"><span>;</span></span><span>
      </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>os</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_cnf_loop2|const"><span>parse_cnf_loop2</span></a><span> </span><span class="bound"><span>os</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span>
    </span><span class="main"><span>}</span></span><span>
  </span><span class="main"><span>}</span></span><span>
</span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.builder_init_refine|fact"><span class="entity_def" id="CNF_Parser_Impl.builder_init_refine|thm"><span>builder_init_refine</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine|attribute"><span class="operator"><span>refine</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_init|const"><span>builder_init</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span class="main"><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.conc_fun|const"><span>⇓</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.os_fml_rel|const"><span>os_fml_rel</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.os_fml_rel_def|fact"><span>os_fml_rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>bs</span></span><span class="main"><span>,</span></span><span class="free"><span>cl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_clause_rel|const"><span>bs_clause_rel</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>fml</span></span><span>"</span></span></span><span>  
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_abort_clause_aux_refine|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_abort_clause_aux_refine|thm"><span>parse_cnf_aux_abort_clause_aux_refine</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine|attribute"><span class="operator"><span>refine</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>bs</span></span><span class="main"><span>,</span></span><span class="free"><span>cl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_clause_rel|const"><span>bs_clause_rel</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>fml</span></span><span class="main"><span>;</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>it</span></span><span class="main"><span>,</span></span><span class="free"><span>it'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span>  </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> 
  </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_cnf_aux_abort_clause_aux|const"><span>parse_cnf_aux_abort_clause_aux</span></a><span> </span><span class="free"><span>bs</span></span><span> </span><span class="free"><span>it</span></span><span> 
  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span class="main"><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.conc_fun|const"><span>⇓</span></a></span><span class="main"><span>{</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>os</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>fml</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>os</span></span><span> </span><span class="bound"><span>fml</span></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>os</span></span><span class="main"><span>,</span></span><span class="bound"><span>fml</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.os_fml_rel|const"><span>os_fml_rel</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><span>}</span></span><span>
  </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span>fml</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="free"><span>it'</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_cnf_aux_abort_clause_aux_def|fact"><span>parse_cnf_aux_abort_clause_aux_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_clause_rel_def|fact"><span>bs_clause_rel_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.clarify|method"><span class="operator"><span>clarify</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.os_fml_rel_def|fact"><span>os_fml_rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
  
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_formula2_refine|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_formula2_refine|thm"><span>parse_cnf_aux_formula2_refine</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine|attribute"><span class="operator"><span>refine</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>inp</span></span><span class="main"><span>,</span></span><span class="free"><span>inp'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span class="main"><span>;</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>it</span></span><span class="main"><span>,</span></span><span class="free"><span>it'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.max_size|const"><span>max_size</span></a><span> </span><span class="main"><span>⟧</span></span><span> 
  </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_cnf_aux_formula2|const"><span>parse_cnf_aux_formula2</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span> 
  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span class="main"><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.conc_fun|const"><span>⇓</span></a></span><span class="main"><span>{</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>os</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>fml</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>os</span></span><span> </span><span class="bound"><span>fml</span></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>os</span></span><span class="main"><span>,</span></span><span class="bound"><span>fml</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.os_fml_rel|const"><span>os_fml_rel</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><span>}</span></span><span> 
  </span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_cnf_aux_formula|const"><span>parse_cnf_aux_formula</span></a><span> </span><span class="free"><span>inp'</span></span><span> </span><span class="free"><span>it'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_cnf_aux_formula2_def|fact"><span>parse_cnf_aux_formula2_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_cnf_aux_formula_def|fact"><span>parse_cnf_aux_formula_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_rcg|method"><span class="operator"><span>refine_rcg</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Heuristics.html#Refine_Heuristics.refine_dref_type|method"><span class="operator"><span>refine_dref_type</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Refine_Util.html#Refine_Util.clarsimp_all|method"><span class="operator"><span>clarsimp_all</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>        
  
  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_dimacs2_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_dimacs2_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_dimacs2_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="CNF_Parser_Impl.parse_dimacs2|const"><span>parse_dimacs2</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
  </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>err<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_comments|const"><span>parse_comments</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span class="main"><span>;</span></span><span>
  </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>err<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_maybe_p_header|const"><span>parse_maybe_p_header</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span>
  </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
  
  </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>err<span class="hidden">⇩</span><sub>3</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_cnf_aux_formula2|const"><span>parse_cnf_aux_formula2</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span>
  
  </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_valid|const"><span>i_valid</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
  </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>err<span class="hidden">⇩</span><sub>4</sub></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_eof|const"><span>i_eof</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span>
  
  </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>res</span></span><span class="main"><span>,</span></span><span class="bound"><span>err<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span class="bound"><span>err<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span class="bound"><span>err<span class="hidden">⇩</span><sub>3</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span class="bound"><span>err<span class="hidden">⇩</span><sub>4</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.parse_dimacs2_refine|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_dimacs2_refine|thm"><span>parse_dimacs2_refine</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span class="main"><span>(</span></span><span class="free"><span>inp</span></span><span class="main"><span>,</span></span><span class="free"><span>inp'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span class="main"><span>;</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>it</span></span><span class="main"><span>,</span></span><span class="free"><span>it'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.max_size|const"><span>max_size</span></a><span class="main"><span>⟧</span></span><span> 
  </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_dimacs2|const"><span>parse_dimacs2</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span> 
  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span class="main"><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.conc_fun|const"><span>⇓</span></a></span><span class="main"><span>{</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>os</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>fml</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>os</span></span><span> </span><span class="bound"><span>fml</span></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>os</span></span><span class="main"><span>,</span></span><span class="bound"><span>fml</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.os_fml_rel|const"><span>os_fml_rel</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><span>}</span></span><span>
  </span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_dimacs|const"><span>parse_dimacs</span></a><span> </span><span class="free"><span>inp'</span></span><span> </span><span class="free"><span>it'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_dimacs2_def|fact"><span>parse_dimacs2_def</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_dimacs_def|fact"><span>parse_dimacs_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_rcg|method"><span class="operator"><span>refine_rcg</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Heuristics.html#Refine_Heuristics.refine_dref_type|method"><span class="operator"><span>refine_dref_type</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>    
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.parse_dimacs2_correct|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_dimacs2_correct|thm"><span>parse_dimacs2_correct</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|attribute"><span class="operator"><span>refine_vcg</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_valid|const"><span>i_valid</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.max_size|const"><span>max_size</span></a><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> 
    </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_dimacs2|const"><span>parse_dimacs2</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span> 
  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.SPEC|const"><span>SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>os</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_invar|const"><span>bs_invar</span></a><span> </span><span class="free"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="bound"><span>os</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;C|const"><span>bs_αC</span></a><span> </span><span class="bound"><span>os</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>err</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed|const"><span>parsed</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_eof|const"><span>i_eof</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>xs</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;F|const"><span>bs_αF</span></a><span> </span><span class="bound"><span>os</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_dimacs|const"><span>cnf_dimacs</span></a><span> </span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.preorder_class.order_trans|fact"><span>order_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_dimacs2_refine|fact"><span>parse_dimacs2_refine</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.IdI|fact"><span>IdI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.IdI|fact"><span>IdI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.preorder_class.order_trans|fact"><span>order_trans</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.order_class.monoD|fact"><span>monoD</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.conc_fun_mono|fact"><span>conc_fun_mono</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2D|fact"><span>parser_spec2D</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_dimacs_correct|fact"><span>parse_dimacs_correct</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.pw_le_iff|fact"><span>pw_le_iff</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_pw_simps|fact"><span class="dynamic"><span class="dynamic"><span>refine_pw_simps</span></span></span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.os_fml_rel_def|fact"><span>os_fml_rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_invar_antimono|fact"><span>bs_invar_antimono</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  

</span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.read_dimacs_file_def|fact"><span class="entity_def" id="CNF_Parser_Impl.read_dimacs_file_def|thm"><span class="entity_def" id="CNF_Parser_Impl.read_dimacs_file_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="CNF_Parser_Impl.read_dimacs_file|const"><span>read_dimacs_file</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Input.html#Parser_Input.input|type"><span>input</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_state|type"><span>builder_state</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres|type"><span>nres</span></a><span>"</span></span></span><span> 
</span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>read_dimacs_file</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
  </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_size|const"><span>i_size</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.max_size_incl|const"><span>max_size_incl</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
    </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.max_size_incl|const"><span>max_size_incl</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_size|const"><span>i_size</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>;</span></span><span>
    </span><span class="bound"><span>it</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_make_iterator|const"><span>i_make_iterator</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span class="main"><span>;</span></span><span>
    
    </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>os</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_dimacs2|const"><span>parse_dimacs2</span></a><span> </span><span class="bound"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span>
    
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>os</span></span><span class="main"><span>,</span></span><span class="bound"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>}</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
    </span><span class="bound"><span>os</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.builder_init|const"><span>builder_init</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>;</span></span><span> </span><span class="comment1"><span>― ‹This is an error, we just need some builder to return›</span></span><span>
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>os</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span>  
  </span><span class="main"><span>}</span></span><span>  
</span><span class="main"><span>}</span></span><span>"</span></span></span><span>  
    

</span><span class="comment1"><span>(* TODO: Move *)</span></span><span>  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.parsed_to_end|fact"><span class="entity_def" id="CNF_Parser_Impl.parsed_to_end|thm"><span>parsed_to_end</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed|const"><span>parsed</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>it'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_rem|const"><span>i_rem</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed_def|fact"><span>parsed_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize_def|fact"><span>i_remsize_def</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CNF_Parser_Impl.read_dimacs_file_correct|fact"><span class="entity_def" id="CNF_Parser_Impl.read_dimacs_file_correct|thm"><span>read_dimacs_file_correct</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|attribute"><span class="operator"><span>refine_vcg</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.read_dimacs_file|const"><span>read_dimacs_file</span></a><span> </span><span class="free"><span>inp</span></span><span> 
  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.SPEC|const"><span>SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>os</span></span><span class="main"><span>,</span></span><span class="bound"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_invar|const"><span>bs_invar</span></a><span> </span><span class="bound"><span>cap<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="bound"><span>os</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;C|const"><span>bs_αC</span></a><span> </span><span class="bound"><span>os</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>err</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.input.i_data|const"><span>i_data</span></a><span> </span><span class="free"><span>inp</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_\&lt;alpha&gt;F|const"><span>bs_αF</span></a><span> </span><span class="bound"><span>os</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.cnf_dimacs|const"><span>cnf_dimacs</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.read_dimacs_file_def|fact"><span>read_dimacs_file_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parsed_to_end|fact"><span>parsed_to_end</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

  
  
</span><span class="comment1"><span>(* TODO, ctd here: refine down to LLVM, to test if we have all assumptions. 
  Then continue with formula parser *)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_clause2|const"><span>parse_clause2</span></a></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_clause2.mcomb|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_clause2.arity|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_clause2.itype|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_clause2.mcomb|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_clause2.arity|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_clause2.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_clause2|const"><span>parse_clause2</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="CNF_Parser_Impl.parse_clause2_impl|const"><span>parse_clause2_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Misc.html#Sepref_Misc.uncurry2|const"><span>uncurry2</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_clause2|const"><span>parse_clause2</span></a><span>"</span></span></span><span> 
  </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_assn|const"><span>bs_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.rdmem_inp_assn|const"><span>rdmem_inp_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.rdmem_it_assn|const"><span>rdmem_it_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.rdm_parser_assn|const"><span>rdm_parser_assn</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_assn|const"><span>bs_assn</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_clause2_def|fact"><span>parse_clause2_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_clause2_impl.refine|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_clause2_impl_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_clause2_impl.refine_raw|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_clause2_impl.refine|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_clause2_impl_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_clause2_impl.refine_raw|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_clause2_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
    
</span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop2.mcomb|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop2.arity|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop2.itype|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop2.mcomb|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop2.arity|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop2.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_cnf_loop2|const"><span>parse_cnf_loop2</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop2_impl|const"><span>parse_cnf_loop2_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Misc.html#Sepref_Misc.uncurry2|const"><span>uncurry2</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_cnf_loop2|const"><span>parse_cnf_loop2</span></a><span>"</span></span></span><span> 
  </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_assn|const"><span>bs_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.rdmem_inp_assn|const"><span>rdmem_inp_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.rdmem_it_assn|const"><span>rdmem_it_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.rdm_parser_assn|const"><span>rdm_parser_assn</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_assn|const"><span>bs_assn</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_cnf_loop2_def|fact"><span>parse_cnf_loop2_def</span></a><span> </span><a class="entity_ref" href="CNF_Grammar.html#CNF_Grammar.is_whitespace_alt|fact"><span>is_whitespace_alt</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_cnf_loop_abort_clause_aux_def|fact"><span>parse_cnf_loop_abort_clause_aux_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop2_impl.refine|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop2_impl_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop2_impl.refine_raw|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop2_impl.refine|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop2_impl_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop2_impl.refine_raw|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_loop2_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_formula2.mcomb|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_formula2.arity|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_formula2.itype|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_formula2.mcomb|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_formula2.arity|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_formula2.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_cnf_aux_formula2|const"><span>parse_cnf_aux_formula2</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_formula2_impl|const"><span>parse_cnf_aux_formula2_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Misc.html#Sepref_Misc.uncurry2|const"><span>uncurry2</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_cnf_aux_formula2|const"><span>parse_cnf_aux_formula2</span></a><span>"</span></span></span><span> 
  </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.size_assn|const"><span>size_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.rdmem_inp_assn|const"><span>rdmem_inp_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.rdmem_it_assn|const"><span>rdmem_it_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.rdm_parser_assn|const"><span>rdm_parser_assn</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_assn|const"><span>bs_assn</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_cnf_aux_formula2_def|fact"><span>parse_cnf_aux_formula2_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_cnf_aux_abort_clause_aux_def|fact"><span>parse_cnf_aux_abort_clause_aux_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_formula2_impl.refine|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_formula2_impl_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_formula2_impl.refine_raw|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_formula2_impl.refine|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_formula2_impl_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_formula2_impl.refine_raw|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_cnf_aux_formula2_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
    
</span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_dimacs2.mcomb|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_dimacs2.arity|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_dimacs2.itype|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_dimacs2.mcomb|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_dimacs2.arity|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_dimacs2.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_dimacs2|const"><span>parse_dimacs2</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="CNF_Parser_Impl.parse_dimacs2_impl|const"><span>parse_dimacs2_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Misc.html#Sepref_Misc.uncurry2|const"><span>uncurry2</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_dimacs2|const"><span>parse_dimacs2</span></a><span>"</span></span></span><span> 
  </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.size_assn|const"><span>size_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.rdmem_inp_assn|const"><span>rdmem_inp_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.rdmem_it_assn|const"><span>rdmem_it_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.rdm_parser_assn|const"><span>rdm_parser_assn</span></a><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_assn|const"><span>bs_assn</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.parse_dimacs2_def|fact"><span>parse_dimacs2_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.parse_dimacs2_impl.refine|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_dimacs2_impl_def|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_dimacs2_impl.refine_raw|fact"><span class="entity_def" id="CNF_Parser_Impl.parse_dimacs2_impl.refine|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_dimacs2_impl_def|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_dimacs2_impl.refine_raw|thm"><span class="entity_def" id="CNF_Parser_Impl.parse_dimacs2_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
    
</span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.read_dimacs_file.mcomb|fact"><span class="entity_def" id="CNF_Parser_Impl.read_dimacs_file.arity|fact"><span class="entity_def" id="CNF_Parser_Impl.read_dimacs_file.itype|fact"><span class="entity_def" id="CNF_Parser_Impl.read_dimacs_file.mcomb|thm"><span class="entity_def" id="CNF_Parser_Impl.read_dimacs_file.arity|thm"><span class="entity_def" id="CNF_Parser_Impl.read_dimacs_file.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.read_dimacs_file|const"><span>read_dimacs_file</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="CNF_Parser_Impl.read_dimacs_file_impl|const"><span>read_dimacs_file_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.read_dimacs_file|const"><span>read_dimacs_file</span></a><span>"</span></span></span><span> 
  </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Input.html#Parser_Input.rdmem_inp_assn|const"><span>rdmem_inp_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.bs_assn|const"><span>bs_assn</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>×<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.size_assn|const"><span>size_assn</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>×<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.read_dimacs_file_def|fact"><span>read_dimacs_file_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.annot_snat_const|method"><span class="operator"><span>annot_snat_const</span></span></a><span> </span><span class="quoted"><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.size_T|const"><span>size_T</span></a></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="CNF_Parser_Impl.read_dimacs_file_impl.refine|fact"><span class="entity_def" id="CNF_Parser_Impl.read_dimacs_file_impl_def|fact"><span class="entity_def" id="CNF_Parser_Impl.read_dimacs_file_impl.refine_raw|fact"><span class="entity_def" id="CNF_Parser_Impl.read_dimacs_file_impl.refine|thm"><span class="entity_def" id="CNF_Parser_Impl.read_dimacs_file_impl_def|thm"><span class="entity_def" id="CNF_Parser_Impl.read_dimacs_file_impl.refine_raw|thm"><span class="entity_def" id="CNF_Parser_Impl.read_dimacs_file_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>export_llvm</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="CNF_Parser_Impl.html#CNF_Parser_Impl.read_dimacs_file_impl|const"><span>read_dimacs_file_impl</span></a></span><span>
  
  
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre>
</body>

</html>