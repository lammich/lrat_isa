<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Parser_Refine</title>
</head>


<body>
<div class="head">
<h1>Theory Parser_Refine</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Refining Grammars to Parsers›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="Parser_Refine.html"><span>Parser_Refine</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="Parser_Input.html"><span>Parser_Input</span></a><span> </span><a href="Ndet_Parser_Monad.html"><span>Ndet_Parser_Monad</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Parser_Refine.parser_spec1_def|fact"><span class="entity_def" id="Parser_Refine.parser_spec1_def|thm"><span class="entity_def" id="Parser_Refine.parser_spec1_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Parser_Refine.parser_spec1|const"><span>parser_spec1</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> 
    </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed|const"><span>parsed</span></a><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>xs</span></span><span class="main"><span>,</span></span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>r</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>    
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Parser_Refine.parser_spec2_def|fact"><span class="entity_def" id="Parser_Refine.parser_spec2_def|thm"><span class="entity_def" id="Parser_Refine.parser_spec2_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Parser_Refine.parser_spec2|const"><span>parser_spec2</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Q</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_valid|const"><span>i_valid</span></a><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span>
    </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.SPEC|const"><span>SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>r</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed|const"><span>parsed</span></a><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Q</span></span></span></span><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>err</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>xs</span></span><span class="main"><span>,</span></span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>    

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Parser_Refine.parser_spec2_unit_def|fact"><span class="entity_def" id="Parser_Refine.parser_spec2_unit_def|thm"><span class="entity_def" id="Parser_Refine.parser_spec2_unit_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Parser_Refine.parser_spec2_unit|const"><span>parser_spec2_unit</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Q</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_valid|const"><span>i_valid</span></a><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span>
    </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.SPEC|const"><span>SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed|const"><span>parsed</span></a><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Q</span></span></span></span><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>err</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>xs</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>    
    
</span><span class="comment1"><span>(*    
  lemma "parser_spec2 P Q g p = (∀inp it. i_valid inp it ∧ P inp it ⟶ 
    p inp it ≤ SPEC (λ((r,err),it'). VALID_PARSE inp it it' ∧ Q inp it r err it' ∧ (¬err ⟶ PARSED inp it it' g r)))"  
    unfolding parser_spec2_def VALID_PARSE_def PARSED_def
    by (simp add: pw_le_iff refine_pw_simps) blast
*)</span></span><span>    
    
        
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_970..975">lemma</span></span></span><span> </span><span class="entity_def" id="Parser_Refine.parser_spec2I|fact"><span class="entity_def" id="Parser_Refine.parser_spec2I|thm"><span>parser_spec2I</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span class="main"><span>?</span></span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟦</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_valid|const"><span>i_valid</span></a><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.SPEC|const"><span>SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>r</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed|const"><span>parsed</span></a><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>err</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>xs</span></span><span class="main"><span>,</span></span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2|const"><span>parser_spec2</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#offset_970..975"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2_def|fact"><span>parser_spec2_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_1255..1260">lemma</span></span></span><span> </span><span class="entity_def" id="Parser_Refine.parser_spec2D|fact"><span class="entity_def" id="Parser_Refine.parser_spec2D|thm"><span>parser_spec2D</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2|const"><span>parser_spec2</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span>  
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_valid|const"><span>i_valid</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.SPEC|const"><span>SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>r</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed|const"><span>parsed</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>err</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>xs</span></span><span class="main"><span>,</span></span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#offset_1255..1260"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2_def|fact"><span>parser_spec2_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_1543..1548">lemma</span></span></span><span> </span><span class="entity_def" id="Parser_Refine.parser_spec2_unitI|fact"><span class="entity_def" id="Parser_Refine.parser_spec2_unitI|thm"><span>parser_spec2_unitI</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span class="main"><span>?</span></span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟦</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_valid|const"><span>i_valid</span></a><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.SPEC|const"><span>SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed|const"><span>parsed</span></a><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="bound"><span>inp</span></span><span> </span><span class="bound"><span>it</span></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>err</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>xs</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2_unit|const"><span>parser_spec2_unit</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#offset_1543..1548"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2_unit_def|fact"><span>parser_spec2_unit_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_1838..1843">lemma</span></span></span><span> </span><span class="entity_def" id="Parser_Refine.parser_spec2_unitD|fact"><span class="entity_def" id="Parser_Refine.parser_spec2_unitD|thm"><span>parser_spec2_unitD</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2_unit|const"><span>parser_spec2_unit</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span>  
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_valid|const"><span>i_valid</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.SPEC|const"><span>SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>err</span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed|const"><span>parsed</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>err</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>xs</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#offset_1838..1843"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parser_spec2_unit_def|fact"><span>parser_spec2_unit_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    
    
  </span><span class="comment1"><span>(* parser_spec2 will be enough for now, as that's partial correctness! *)</span></span><span>
    
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Parser_Refine.parser_spec_def|fact"><span class="entity_def" id="Parser_Refine.parser_spec_def|thm"><span class="entity_def" id="Parser_Refine.parser_spec_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Parser_Refine.parser_spec|const"><span>parser_spec</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span> 
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_valid|const"><span>i_valid</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span> 
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.SPEC|const"><span>SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>r</span></span><span class="main"><span>,</span></span><span class="bound"><span>err</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>it'</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.i_remsize|const"><span>i_remsize</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span> 
      </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>err</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>xs</span></span><span> </span><span class="bound"><span>it'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed|const"><span>parsed</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Domain|const"><span>Domain</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed|const"><span>parsed</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>inp</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>it</span></span></span></span><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="bound"><span>it'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>xs</span></span><span class="main"><span>,</span></span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span>
      </span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
      


  </span><span class="comment1"><span>(* TODO: Move *)</span></span><span>  
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Parser_Refine.parsed&apos;_parse|fact"><span class="entity_def" id="Parser_Refine.parsed&apos;_parse|thm"><span>parsed'_parse</span></span></span><span class="main"><span>:</span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed|const"><span>parsed</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span> </span><span class="free"><span>xs1</span></span><span> </span><span class="free"><span>it1</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed|const"><span>parsed</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it1</span></span><span> </span><span class="free"><span>xs2</span></span><span> </span><span class="free"><span>it2</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed|const"><span>parsed</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>xs1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="free"><span>xs2</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>it2</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Parser_Refine.parsed&apos;_parse1|fact"><span class="entity_def" id="Parser_Refine.parsed&apos;_parse1|thm"><span>parsed'_parse1</span></span></span><span class="main"><span>:</span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed1|const"><span>parsed1</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>it1</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed|const"><span>parsed</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it1</span></span><span> </span><span class="free"><span>xs2</span></span><span> </span><span class="free"><span>it2</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed|const"><span>parsed</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>xs2</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>it2</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Parser_Refine.parsed&apos;_finish|fact"><span class="entity_def" id="Parser_Refine.parsed&apos;_finish(2)|thm"><span class="entity_def" id="Parser_Refine.parsed&apos;_finish(1)|thm"><span>parsed'_finish</span></span></span></span><span class="main"><span>:</span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed|const"><span>parsed</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>it1</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed|const"><span>parsed</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>it1</span></span><span>"</span></span></span><span>  
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed1|const"><span>parsed1</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>it1</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Parser_Input.html#Parser_Input.parsed|const"><span>parsed</span></a><span> </span><span class="free"><span>inp</span></span><span> </span><span class="free"><span>it</span></span><span> </span><span class="main"><span>[</span></span><span class="free"><span>x</span></span><span class="main"><span>]</span></span><span> </span><span class="free"><span>it1</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Parser_Refine.g_parsed.g_parsed|method"><span>method</span></span></span></span><span> </span><span class="entity_def" id="Parser_Refine.g_parsed|method"><span>g_parsed</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Eisbach.Eisbach.html#Eisbach.determ|method"><span class="operator"><span>determ</span></span></a><span> </span><span class="quoted"><span>‹</span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parsed&apos;_finish|fact"><span>parsed'_finish</span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parsed&apos;_parse|fact"><span>parsed'_parse</span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#Parser_Refine.parsed&apos;_parse1|fact"><span>parsed'_parse1</span></a><span>›</span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>  



</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span> </span><span class="keyword1"><span class="command"><span>interpretation</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>    
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Parser_Refine.gI_cons|fact"><span class="entity_def" id="Parser_Refine.gI_cons|thm"><span>gI_cons</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>w</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>w'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>w'</span></span><span class="main"><span>,</span></span><span class="free"><span>r'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Parser_Refine.g_starr_emptyI|fact"><span class="entity_def" id="Parser_Refine.g_starr_emptyI|thm"><span>g_starr_emptyI</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="free"><span>fi</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr|const"><span>*&amp;</span></a></span><span> </span><span class="free"><span>fi</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr_unfold|fact"><span>g_starr_unfold</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_3265..3270">lemma</span></span></span><span> </span><span class="entity_def" id="Parser_Refine.g_starr_stepI|fact"><span class="entity_def" id="Parser_Refine.g_starr_stepI|thm"><span>g_starr_stepI</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>xs<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>r<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>xs<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>r<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr|const"><span>*&amp;</span></a></span><span> </span><span class="free"><span>fi</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>xs<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="free"><span>xs<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="free"><span>fi</span></span><span> </span><span class="free"><span>r<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>r<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr|const"><span>*&amp;</span></a></span><span> </span><span class="free"><span>fi</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr_unfold|fact"><span>g_starr_unfold</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#offset_3265..3270"><span>assms</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Parser_Refine.g_starl_emptyI|fact"><span class="entity_def" id="Parser_Refine.g_starl_emptyI|thm"><span>g_starl_emptyI</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="free"><span>fi</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl|const"><span>&amp;*</span></a></span><span> </span><span class="free"><span>fi</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl_unfold|fact"><span>g_starl_unfold</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_3601..3606">lemma</span></span></span><span> </span><span class="entity_def" id="Parser_Refine.g_starl_stepI|fact"><span class="entity_def" id="Parser_Refine.g_starl_stepI|thm"><span>g_starl_stepI</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>xs<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>r<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl|const"><span>&amp;*</span></a></span><span> </span><span class="free"><span>fi</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>xs<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>r<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>xs<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="free"><span>xs<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="free"><span>fi</span></span><span> </span><span class="free"><span>r<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>r<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl|const"><span>&amp;*</span></a></span><span> </span><span class="free"><span>fi</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl_unfold|fact"><span>g_starl_unfold</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#offset_3601..3606"><span>assms</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
    
        
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Parser_Refine.g_charI|fact"><span class="entity_def" id="Parser_Refine.g_charI|thm"><span>g_charI</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>C</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>[</span></span><span class="free"><span>c</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&lt;</span></a></span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&gt;</span></a></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char_def|fact"><span>g_char_def</span></a><span class="main"><span>)</span></span><span>
          
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Parser_Refine.g_returnI|fact"><span class="entity_def" id="Parser_Refine.g_returnI|thm"><span>g_returnI</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>,</span></span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_3990..3995">lemma</span></span></span><span> </span><span class="entity_def" id="Parser_Refine.g_bindI|fact"><span class="entity_def" id="Parser_Refine.g_bindI|thm"><span class="entity_def" id="offset_3996..4003">g_bindI</span></span></span><span class="main"><span>:</span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="free"><span>w<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>←</span></span><span class="free"><span>m</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>}</span></span><span> </span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#offset_3990..3995"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_bind|fact"><span>igr_bind</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4184..4189">lemma</span></span></span><span> </span><span class="entity_def" id="Parser_Refine.g_bind1I|fact"><span class="entity_def" id="Parser_Refine.g_bind1I|thm"><span>g_bind1I</span></span></span><span class="main"><span>:</span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>[</span></span><span class="free"><span>c</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>w<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>←</span></span><span class="free"><span>m</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>}</span></span><span> </span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#offset_4184..4189"><span>assms</span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#offset_3996..4003"><span>g_bindI</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>[</span></span><span class="free"><span>c</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>a</span></span></span><span> </span><span class="quoted"><span class="free"><span>m</span></span></span><span> </span><span class="quoted"><span class="free"><span>w<span class="hidden">⇩</span><sub>2</sub></span></span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span> </span><span class="quoted"><span class="free"><span>f</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4385..4390">lemma</span></span></span><span> </span><span class="entity_def" id="Parser_Refine.g_ignore_leftI|fact"><span class="entity_def" id="Parser_Refine.g_ignore_leftI|thm"><span class="entity_def" id="offset_4391..4405">g_ignore_leftI</span></span></span><span class="main"><span>:</span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>m<span class="hidden">⇩</span><sub>1</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>m<span class="hidden">⇩</span><sub>2</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="free"><span>w<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span> </span><span class="free"><span>m<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left|const"><span>≫</span></a></span><span> </span><span class="free"><span>m<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#offset_4385..4390"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left_def|fact"><span>g_ignore_left_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4581..4586">lemma</span></span></span><span> </span><span class="entity_def" id="Parser_Refine.g_ignore_left1I|fact"><span class="entity_def" id="Parser_Refine.g_ignore_left1I|thm"><span>g_ignore_left1I</span></span></span><span class="main"><span>:</span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>[</span></span><span class="free"><span>c</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>m<span class="hidden">⇩</span><sub>1</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>m<span class="hidden">⇩</span><sub>2</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>w<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span> </span><span class="free"><span>m<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left|const"><span>≫</span></a></span><span> </span><span class="free"><span>m<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#offset_4581..4586"><span>assms</span></a><span> </span><a class="entity_ref" href="Parser_Refine.html#offset_4391..4405"><span>g_ignore_leftI</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>[</span></span><span class="free"><span>c</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4774..4779">lemma</span></span></span><span> </span><span class="entity_def" id="Parser_Refine.g_ignore_rightI|fact"><span class="entity_def" id="Parser_Refine.g_ignore_rightI|thm"><span>g_ignore_rightI</span></span></span><span class="main"><span>:</span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>m<span class="hidden">⇩</span><sub>1</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>m<span class="hidden">⇩</span><sub>2</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="free"><span>w<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span> </span><span class="free"><span>m<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_right|const"><span>≪</span></a></span><span> </span><span class="free"><span>m<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#offset_4774..4779"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_right_def|fact"><span>g_ignore_right_def</span></a><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
        
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Parser_Refine.g_unionI_left|fact"><span class="entity_def" id="Parser_Refine.g_unionI_left|thm"><span>g_unionI_left</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span> 
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Parser_Refine.g_unionI_right|fact"><span class="entity_def" id="Parser_Refine.g_unionI_right|thm"><span>g_unionI_right</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span> 
    
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5151..5156">lemma</span></span></span><span> </span><span class="entity_def" id="Parser_Refine.g_applyI|fact"><span class="entity_def" id="Parser_Refine.g_applyI|thm"><span>g_applyI</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span class="main"><span>,</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Parser_Refine.html#offset_5151..5156"><span>assms</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_eq_iff|fact"><span>igr_eq_iff</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_simps|fact"><span class="dynamic"><span class="dynamic"><span>igr_simps</span></span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span class="main"><span>)</span></span><span>  
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Parser_Refine.g_mk_empty_leftI|fact"><span class="entity_def" id="Parser_Refine.g_mk_empty_leftI|thm"><span>g_mk_empty_leftI</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="free"><span>xs</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Parser_Refine.g_mk_empty_rightI|fact"><span class="entity_def" id="Parser_Refine.g_mk_empty_rightI|thm"><span>g_mk_empty_rightI</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>



</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre>
</body>

</html>