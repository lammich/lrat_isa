<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Zero_Term</title>
</head>


<body>
<div class="head">
<h1>Theory Zero_Term</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="Zero_Term.html"><span>Zero_Term</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> 
  </span><a href="LRAT_Sepref_Base.html"><span>LRAT_Sepref_Base</span></a><span>
  </span><a href="Unsigned_Literal.html"><span>Unsigned_Literal</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

    
  </span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Clause Buffer›</span></span></span><span>  

  </span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Internally used by clause builder›</span></span></span><span>
      
  </span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cbuf|type"><span>cbuf</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.dv_lit|type"><span>dv_lit</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span>"</span></span></span><span>  
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cbuf_\&lt;alpha&gt;_def|fact"><span class="entity_def" id="Zero_Term.cbuf_\&lt;alpha&gt;_def|thm"><span class="entity_def" id="Zero_Term.cbuf_\&lt;alpha&gt;_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cbuf_\&lt;alpha&gt;|const"><span>cbuf_α</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf|type"><span>cbuf</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.dv_clause|type"><span>dv_clause</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cbuf_α</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cbuf_\&lt;alpha&gt;_finite|fact"><span class="entity_def" id="Zero_Term.cbuf_\&lt;alpha&gt;_finite|thm"><span>cbuf_α_finite</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_\&lt;alpha&gt;|const"><span>cbuf_α</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_\&lt;alpha&gt;_def|fact"><span>cbuf_α_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cbuf_empty_def|fact"><span class="entity_def" id="Zero_Term.cbuf_empty_def|thm"><span class="entity_def" id="Zero_Term.cbuf_empty_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cbuf_empty|const"><span>cbuf_empty</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf|type"><span>cbuf</span></a></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cbuf_empty</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cbuf_flush_def|fact"><span class="entity_def" id="Zero_Term.cbuf_flush_def|thm"><span class="entity_def" id="Zero_Term.cbuf_flush_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cbuf_flush|const"><span>cbuf_flush</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf|type"><span>cbuf</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf|type"><span>cbuf</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cbuf_flush</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/IICF_Array_List.html#IICF_Array_List.op_emptied_list|const"><span>op_emptied_list</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cbuf_insert_def|fact"><span class="entity_def" id="Zero_Term.cbuf_insert_def|thm"><span class="entity_def" id="Zero_Term.cbuf_insert_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cbuf_insert|const"><span>cbuf_insert</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.dv_lit|type"><span>dv_lit</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf|type"><span>cbuf</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf|type"><span>cbuf</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cbuf_insert</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/IICF_List.html#IICF_List.op_list_append|const"><span>op_list_append</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span>"</span></span></span><span>
  
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cbuf_empty_correct|fact"><span class="entity_def" id="Zero_Term.cbuf_empty_correct|thm"><span>cbuf_empty_correct</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_\&lt;alpha&gt;|const"><span>cbuf_α</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_empty|const"><span>cbuf_empty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_\&lt;alpha&gt;_def|fact"><span>cbuf_α_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_empty_def|fact"><span>cbuf_empty_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cbuf_flush_correct|fact"><span class="entity_def" id="Zero_Term.cbuf_flush_correct|thm"><span>cbuf_flush_correct</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_\&lt;alpha&gt;|const"><span>cbuf_α</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_flush|const"><span>cbuf_flush</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_\&lt;alpha&gt;_def|fact"><span>cbuf_α_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_flush_def|fact"><span>cbuf_flush_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cbuf_insert_correct|fact"><span class="entity_def" id="Zero_Term.cbuf_insert_correct|thm"><span>cbuf_insert_correct</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_\&lt;alpha&gt;|const"><span>cbuf_α</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_insert|const"><span>cbuf_insert</span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_\&lt;alpha&gt;|const"><span>cbuf_α</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_\&lt;alpha&gt;_def|fact"><span>cbuf_α_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_insert_def|fact"><span>cbuf_insert_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cbuf_empty_length|fact"><span class="entity_def" id="Zero_Term.cbuf_empty_length|thm"><span>cbuf_empty_length</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_empty|const"><span>cbuf_empty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_empty_def|fact"><span>cbuf_empty_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cbuf_flush_length|fact"><span class="entity_def" id="Zero_Term.cbuf_flush_length|thm"><span>cbuf_flush_length</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_flush|const"><span>cbuf_flush</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_flush_def|fact"><span>cbuf_flush_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cbuf_insert_length|fact"><span class="entity_def" id="Zero_Term.cbuf_insert_length|thm"><span>cbuf_insert_length</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_insert|const"><span>cbuf_insert</span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_insert_def|fact"><span>cbuf_insert_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    
    
  </span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Zero_Term.cbuf_aux_assn|const"><span>cbuf_aux_assn</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/IICF_Array_List.html#IICF_Array_List.al_assn&apos;|const"><span>al_assn'</span></a><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.size_T|const"><span>size_T</span></a><span> </span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.ulit_assn|const"><span>ulit_assn</span></a><span>"</span></span></span><span>  

  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cbuf_insert.itype|fact"><span class="entity_def" id="Zero_Term.cbuf_flush.itype|fact"><span class="entity_def" id="Zero_Term.cbuf_empty.itype|fact"><span class="entity_def" id="Zero_Term.cbuf_insert.itype|thm"><span class="entity_def" id="Zero_Term.cbuf_flush.itype|thm"><span class="entity_def" id="Zero_Term.cbuf_empty.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_empty|const"><span>cbuf_empty</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_flush|const"><span>cbuf_flush</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_insert|const"><span>cbuf_insert</span></a></span><span>
        
  </span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cbuf_empty_impl|const"><span>cbuf_empty_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Misc.html#Sepref_Misc.uncurry0|const"><span>uncurry0</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_empty|const"><span>cbuf_empty</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.unit_assn|const"><span>unit_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_aux_assn|const"><span>cbuf_aux_assn</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_empty_def|fact"><span>cbuf_empty_def</span></a><span> </span><a class="entity_ref" href="../Isabelle_LLVM/IICF_Array_List.html#IICF_Array_List.al_fold_custom_empty|fact"><span>al_fold_custom_empty</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> </span><span class="tfree"><span>'l</span></span><span class="main"><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span></span><span class="quoted"><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.size_t|type"><span class="quoted"><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.size_t|type"><span class="quoted"><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.size_t|type"><span>size_t</span></a></span></a></span></a></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cbuf_empty_impl.refine|fact"><span class="entity_def" id="Zero_Term.cbuf_empty_impl_def|fact"><span class="entity_def" id="Zero_Term.cbuf_empty_impl.refine_raw|fact"><span class="entity_def" id="Zero_Term.cbuf_empty_impl.refine|thm"><span class="entity_def" id="Zero_Term.cbuf_empty_impl_def|thm"><span class="entity_def" id="Zero_Term.cbuf_empty_impl.refine_raw|thm"><span class="entity_def" id="Zero_Term.cbuf_empty_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cbuf_flush_impl|const"><span>cbuf_flush_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_flush|const"><span>cbuf_flush</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_aux_assn|const"><span>cbuf_aux_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_aux_assn|const"><span>cbuf_aux_assn</span></a><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_flush_def|fact"><span>cbuf_flush_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cbuf_flush_impl.refine|fact"><span class="entity_def" id="Zero_Term.cbuf_flush_impl_def|fact"><span class="entity_def" id="Zero_Term.cbuf_flush_impl.refine_raw|fact"><span class="entity_def" id="Zero_Term.cbuf_flush_impl.refine|thm"><span class="entity_def" id="Zero_Term.cbuf_flush_impl_def|thm"><span class="entity_def" id="Zero_Term.cbuf_flush_impl.refine_raw|thm"><span class="entity_def" id="Zero_Term.cbuf_flush_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cbuf_insert_impl|const"><span>cbuf_insert_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>oo</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_insert|const"><span>cbuf_insert</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>,</span></span><span class="bound"><span>xs</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.max_size|const"><span>max_size</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.ulit_assn|const"><span>ulit_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_aux_assn|const"><span>cbuf_aux_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_aux_assn|const"><span>cbuf_aux_assn</span></a><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_insert_def|fact"><span>cbuf_insert_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cbuf_insert_impl.refine|fact"><span class="entity_def" id="Zero_Term.cbuf_insert_impl_def|fact"><span class="entity_def" id="Zero_Term.cbuf_insert_impl.refine_raw|fact"><span class="entity_def" id="Zero_Term.cbuf_insert_impl.refine|thm"><span class="entity_def" id="Zero_Term.cbuf_insert_impl_def|thm"><span class="entity_def" id="Zero_Term.cbuf_insert_impl.refine_raw|thm"><span class="entity_def" id="Zero_Term.cbuf_insert_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>


  
</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Zero-Terminated Clause›</span></span></span><span>

  
  </span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="entity_def" id="Zero_Term.zclause|type"><span>zclause</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.dv_lit|type"><span>dv_lit</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.zcl_\&lt;alpha&gt;_def|fact"><span class="entity_def" id="Zero_Term.zcl_\&lt;alpha&gt;_def|thm"><span class="entity_def" id="Zero_Term.zcl_\&lt;alpha&gt;_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.zcl_\&lt;alpha&gt;|const"><span>zcl_α</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zclause|type"><span>zclause</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.dv_clause|type"><span>dv_clause</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>zcl_α</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.butlast|const"><span>butlast</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.zcl_invar_def|fact"><span class="entity_def" id="Zero_Term.zcl_invar_def|thm"><span class="entity_def" id="Zero_Term.zcl_invar_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.zcl_invar|const"><span>zcl_invar</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zclause|type"><span>zclause</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>zcl_invar</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.butlast|const"><span>butlast</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>"</span></span></span><span>


  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.zcl_\&lt;alpha&gt;_finite|fact"><span class="entity_def" id="Zero_Term.zcl_\&lt;alpha&gt;_finite|thm"><span>zcl_α_finite</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_\&lt;alpha&gt;|const"><span>zcl_α</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_\&lt;alpha&gt;_def|fact"><span>zcl_α_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.zcl_invar_Cons|fact"><span class="entity_def" id="Zero_Term.zcl_invar_Cons|thm"><span>zcl_invar_Cons</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_invar|const"><span>zcl_invar</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>xsz</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>xsz</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Bindings_HOL.html#Autoref_Bindings_HOL.is_None|const"><span>is_None</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_invar|const"><span>zcl_invar</span></a><span> </span><span class="free"><span>xsz</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>      
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_invar_def|fact"><span>zcl_invar_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.zcl_invar_Nil|fact"><span class="entity_def" id="Zero_Term.zcl_invar_Nil|thm"><span>zcl_invar_Nil</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_invar|const"><span>zcl_invar</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_invar_def|fact"><span>zcl_invar_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.zcl_make_aux_def|fact"><span class="entity_def" id="Zero_Term.zcl_make_aux_def|thm"><span class="entity_def" id="Zero_Term.zcl_make_aux_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Zero_Term.zcl_make_aux|const"><span>zcl_make_aux</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
    </span><span class="bound"><span>l</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/IICF_List.html#IICF_List.mop_list_length|const"><span>mop_list_length</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span class="main"><span>;</span></span><span>
    </span><span class="bound"><span>rs</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/IICF_List.html#IICF_List.mop_list_replicate|const"><span>mop_list_replicate</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.ulito_None|const"><span>ulito_None</span></a><span class="main"><span>;</span></span><span>
    
    </span><span class="bound"><span>rs</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Foreach.html#Refine_Foreach.nfoldli|const"><span>nfoldli</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.upt|const"><span>[</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.upt|const"><span>..&lt;</span></a></span><span class="bound"><span>l</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.upt|const"><span>]</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>rs</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span>
      </span><span class="bound"><span>t</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/IICF_List.html#IICF_List.mop_list_get|const"><span>mop_list_get</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>;</span></span><span>
      </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="bound"><span>t</span></span><span class="main"><span>;</span></span><span>
      </span><span class="bound"><span>rs</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/IICF_List.html#IICF_List.mop_list_set|const"><span>mop_list_set</span></a><span> </span><span class="bound"><span>rs</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>;</span></span><span>
      </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="bound"><span>rs</span></span><span>
    </span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>rs</span></span><span class="main"><span>;</span></span><span>
 
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="bound"><span>rs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>l</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
    </span><span class="bound"><span>rs</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="LRAT_Sepref_Base.html#LRAT_Sepref_Base.mk_b_assn|const"><span>mk_b_assn</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>rs</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="bound"><span>rs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.max_size|const"><span>max_size</span></a><span class="main"><span>)</span></span><span> </span><span class="bound"><span>rs</span></span><span class="main"><span>;</span></span><span>
    
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="bound"><span>rs</span></span><span> 
  </span><span class="main"><span>}</span></span><span>"</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.zcl_make_def|fact"><span class="entity_def" id="Zero_Term.zcl_make_def|thm"><span class="entity_def" id="Zero_Term.zcl_make_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Zero_Term.zcl_make|const"><span>zcl_make</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.zcl_make_aux_refine|fact"><span class="entity_def" id="Zero_Term.zcl_make_aux_refine|thm"><span>zcl_make_aux_refine</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_make_aux|const"><span>zcl_make_aux</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_make|const"><span>zcl_make</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><span class="main"><span>⟨</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.br|const"><span>br</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_\&lt;alpha&gt;|const"><span>zcl_α</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_invar|const"><span>zcl_invar</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres_rel|const"><span>nres_rel</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_make_def|fact"><span>zcl_make_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_make_aux_def|fact"><span>zcl_make_aux_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_relI|fact"><span>fun_relI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> xs
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Foreach.html#Refine_Foreach.nfoldli_rule|fact"><span>nfoldli_rule</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> 
        I</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="bound"><span>rs</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>rs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>xs</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.replicate|const"><span>replicate</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Refine_Util.html#Refine_Util.clarsimp_all|method"><span class="operator"><span>clarsimp_all</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.upt_eq_lel_conv|fact"><span>upt_eq_lel_conv</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_update_append|fact"><span>list_update_append</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take_Suc_conv_app_nth|fact"><span>take_Suc_conv_app_nth</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_invar_def|fact"><span>zcl_invar_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_\&lt;alpha&gt;_def|fact"><span>zcl_α_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.br_def|fact"><span>br_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    
  
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.zcl_fold_aux_def|fact"><span class="entity_def" id="Zero_Term.zcl_fold_aux_def|thm"><span class="entity_def" id="Zero_Term.zcl_fold_aux_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Zero_Term.zcl_fold_aux|const"><span>zcl_fold_aux</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
    </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>,</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>)</span></span><span class="main"><span>←</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.WHILET|const"><span>WHILET</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span class="bound"><span>brk</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
      </span><span class="bound"><span>xs'</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Proto_IICF_EOArray.html#Proto_IICF_EOArray.MOVE|const"><span>MOVE</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span class="main"><span>;</span></span><span>
      </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/IICF_List.html#IICF_List.mop_list_get|const"><span>mop_list_get</span></a><span> </span><span class="bound"><span>xs'</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>;</span></span><span>
      </span><span class="keyword1"><span>let</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="LRAT_Sepref_Base.html#LRAT_Sepref_Base.restore_bound|const"><span>restore_bound</span></a><span> </span><span class="bound"><span>xs'</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span class="main"><span>;</span></span><span>
      
      </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Bindings_HOL.html#Autoref_Bindings_HOL.is_None|const"><span>is_None</span></a><span> </span><span class="bound"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span>
        </span><span class="bound"><span>s</span></span><span class="main"><span>←</span></span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>;</span></span><span>
        </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
        </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>}</span></span><span>
    </span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="bound"><span>s</span></span><span>
  </span><span class="main"><span>}</span></span><span>"</span></span></span><span>  
      
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.zcl_fold_def|fact"><span class="entity_def" id="Zero_Term.zcl_fold_def|thm"><span class="entity_def" id="Zero_Term.zcl_fold_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Zero_Term.zcl_fold|const"><span>zcl_fold</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold_aux|const"><span>zcl_fold_aux</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Zero_Term.zcl_fold_def&apos;|fact"><span class="entity_def" id="Zero_Term.zcl_fold_def&apos;|thm"><span>zcl_fold_def'</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold_def|fact"><span>zcl_fold_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold_aux_def|fact"><span>zcl_fold_aux_def</span></a><span class="main"><span>]</span></span><span>
  
    
  </span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>private</span></span></span><span> </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.zcl_fold_aux_Suc_tl|fact"><span class="entity_def" id="Zero_Term.zcl_fold_aux_Suc_tl|thm"><span class="entity_def" id="offset_4133..4152">zcl_fold_aux_Suc_tl</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold_aux|const"><span>zcl_fold_aux</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold_aux|const"><span>zcl_fold_aux</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.tl|const"><span>tl</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold_aux_def|fact"><span>zcl_fold_aux_def</span></a><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Proto_IICF_EOArray.html#Proto_IICF_EOArray.MOVE_def|fact"><span>MOVE_def</span></a><span> </span><a class="entity_ref" href="LRAT_Sepref_Base.html#LRAT_Sepref_Base.unborrow&apos;_def|fact"><span>unborrow'_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_IdD|fact"><span>refine_IdD</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_rcg|method"><span class="operator"><span>refine_rcg</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Heuristics.html#Refine_Heuristics.refine_dref_RELATES|attribute"><span class="operator"><span>refine_dref_RELATES</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Heuristics.html#Refine_Heuristics.RELATESI|fact"><span>RELATESI</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> R</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.prod_rel_syn|const"><span>×<span class="hidden">⇩</span><sub>r</sub></span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>}</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.prod_rel_syn|const"><span>×<span class="hidden">⇩</span><sub>r</sub></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span>"</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Heuristics.html#Refine_Heuristics.refine_dref_type|method"><span class="operator"><span>refine_dref_type</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.nth_tl|fact"><span>Misc.nth_tl</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>      
    
  </span><span class="keyword2"><span class="keyword"><span>private</span></span></span><span> </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.zcl_fold_aux_tl_Suc|fact"><span class="entity_def" id="Zero_Term.zcl_fold_aux_tl_Suc|thm"><span class="entity_def" id="offset_4548..4567">zcl_fold_aux_tl_Suc</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold_aux|const"><span>zcl_fold_aux</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.tl|const"><span>tl</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold_aux|const"><span>zcl_fold_aux</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold_aux_def|fact"><span>zcl_fold_aux_def</span></a><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Proto_IICF_EOArray.html#Proto_IICF_EOArray.MOVE_def|fact"><span>MOVE_def</span></a><span> </span><a class="entity_ref" href="LRAT_Sepref_Base.html#LRAT_Sepref_Base.unborrow&apos;_def|fact"><span>unborrow'_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_IdD|fact"><span>refine_IdD</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_rcg|method"><span class="operator"><span>refine_rcg</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Heuristics.html#Refine_Heuristics.refine_dref_RELATES|attribute"><span class="operator"><span>refine_dref_RELATES</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Heuristics.html#Refine_Heuristics.RELATESI|fact"><span>RELATESI</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> R</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.prod_rel_syn|const"><span>×<span class="hidden">⇩</span><sub>r</sub></span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>}</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.prod_rel_syn|const"><span>×<span class="hidden">⇩</span><sub>r</sub></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span>"</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Heuristics.html#Refine_Heuristics.refine_dref_type|method"><span class="operator"><span>refine_dref_type</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.nth_tl|fact"><span>Misc.nth_tl</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>      

  </span><span class="keyword2"><span class="keyword"><span>private</span></span></span><span> </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.zcl_fold_aux_Cons|fact"><span class="entity_def" id="Zero_Term.zcl_fold_aux_Cons|thm"><span class="entity_def" id="offset_4959..4976">zcl_fold_aux_Cons</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold_aux|const"><span>zcl_fold_aux</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold_aux|const"><span>zcl_fold_aux</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.antisym|fact"><span>antisym</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.preorder_class.order_trans|fact"><span>order_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#offset_4133..4152"><span>zcl_fold_aux_Suc_tl</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.preorder_class.order_trans|fact"><span>order_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="Zero_Term.html#offset_4548..4567"><span>zcl_fold_aux_tl_Suc</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>  
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
        
  </span><span class="keyword2"><span class="keyword"><span>private</span></span></span><span> </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.zcl_fold_aux_unfold|fact"><span class="entity_def" id="Zero_Term.zcl_fold_aux_unfold|thm"><span class="entity_def" id="offset_5221..5240">zcl_fold_aux_unfold</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold_aux|const"><span>zcl_fold_aux</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span>
    </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
      </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/IICF_List.html#IICF_List.mop_list_get|const"><span>mop_list_get</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>;</span></span><span>
      </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Bindings_HOL.html#Autoref_Bindings_HOL.is_None|const"><span>is_None</span></a><span> </span><span class="bound"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="free"><span>s</span></span><span>
      </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span>
        </span><span class="bound"><span>s</span></span><span class="main"><span>←</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><span>;</span></span><span>
        </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
        </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold_aux|const"><span>zcl_fold_aux</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>s</span></span><span>
      </span><span class="main"><span>}</span></span><span>
    </span><span class="main"><span>}</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="free"><span>s</span></span><span>
  
  </span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold_aux_def|fact"><span>zcl_fold_aux_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>c</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.while.WHILET_unfold|fact"><span>WHILET_unfold</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.while.WHILET_unfold|fact"><span>WHILET_unfold</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.while.WHILET_unfold|fact"><span>WHILET_unfold</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.while.WHILET_unfold|fact"><span>WHILET_unfold</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.zcl_fold_unfold|fact"><span class="entity_def" id="Zero_Term.zcl_fold_unfold|thm"><span>zcl_fold_unfold</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold|const"><span>zcl_fold</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span>
    </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
      </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Bindings_HOL.html#Autoref_Bindings_HOL.is_None|const"><span>is_None</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="free"><span>s</span></span><span>
      </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span>
        </span><span class="bound"><span>s</span></span><span class="main"><span>←</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><span>;</span></span><span>
        </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold|const"><span>zcl_fold</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>s</span></span><span>
      </span><span class="main"><span>}</span></span><span>
    </span><span class="main"><span>}</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="free"><span>s</span></span><span>
  
  </span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold_def|fact"><span>zcl_fold_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_LLVM/ISABELLE_HOME/src/HOL/Library/rewrite.ML.html#Rewrite.rewrite|method"><span class="operator"><span>rewrite</span></span></a><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../Isabelle_LLVM/HOL-Library.Rewrite.html#Rewrite.rewrite_HOLE|const"><span class="main"><a class="entity_ref" href="../Isabelle_LLVM/HOL-Library.Rewrite.html#Rewrite.rewrite_HOLE|const"><span>⌑</span></a></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span></a></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span>"</span></span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#offset_5221..5240"><a class="entity_ref" href="Zero_Term.html#offset_5221..5240"><span>zcl_fold_aux_unfold</span></a></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>c</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Refine_Util.html#Refine_Util.fo_rule|method"><span class="operator"><span>fo_rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#offset_4959..4976"><span>zcl_fold_aux_Cons</span></a><span class="main"><span>)</span></span><span>
    
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>  
        
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.zcl_fold_refine|fact"><span class="entity_def" id="Zero_Term.zcl_fold_refine|thm"><span>zcl_fold_refine</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine|attribute"><span class="operator"><span>refine</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_6250..6252">XS</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span class="main"><span>,</span></span><span class="free"><span>xs'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_6280..6282">RS</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span class="free"><span>s'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>Rs</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_6308..6310">CR</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>s'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span class="bound"><span>s'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>Rs</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>c'</span></span><span> </span><span class="bound"><span>s'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.bool_rel|const"><span>bool_rel</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_6367..6376">F'_refine</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>l</span></span><span> </span><span class="bound"><span>l'</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>s'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟦</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span class="bound"><span>l'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span class="main"><span>;</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span class="bound"><span>s'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>Rs</span></span><span>  </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.conc_fun|const"><span>⇓</span></a></span><span class="free"><span>Rs</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f'</span></span><span> </span><span class="bound"><span>l'</span></span><span> </span><span class="bound"><span>s'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold|const"><span>zcl_fold</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.conc_fun|const"><span>⇓</span></a></span><span class="free"><span>Rs</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold|const"><span>zcl_fold</span></a><span> </span><span class="free"><span>xs'</span></span><span> </span><span class="free"><span>c'</span></span><span> </span><span class="free"><span>f'</span></span><span> </span><span class="free"><span>s'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold_def&apos;|fact"><span>zcl_fold_def'</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_rcg|method"><span class="operator"><span>refine_rcg</span></span></a><span> </span><a class="entity_ref" href="Zero_Term.html#offset_6367..6376"><span>F'_refine</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Heuristics.html#Refine_Heuristics.refine_dref_RELATES|attribute"><span class="operator"><span>refine_dref_RELATES</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Heuristics.html#Refine_Heuristics.RELATESI|fact"><span>RELATESI</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><span class="free"><span>Rs</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Heuristics.html#Refine_Heuristics.refine_dref_type|method"><span class="operator"><span>refine_dref_type</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#offset_6250..6252"><span>XS</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Refine_Util.html#Refine_Util.clarsimp_all|method"><span class="operator"><span>clarsimp_all</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#offset_6280..6282"><span>RS</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#offset_6308..6310"><span>CR</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.zcl_fold_nfoldli_refine|fact"><span class="entity_def" id="Zero_Term.zcl_fold_nfoldli_refine|thm"><span>zcl_fold_nfoldli_refine</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_invar|const"><span>zcl_invar</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold|const"><span>zcl_fold</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Foreach.html#Refine_Foreach.nfoldli|const"><span>nfoldli</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.butlast|const"><span>butlast</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>xs</span></span><span>"</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> s
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> x xs s
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold_unfold|fact"><span>zcl_fold_unfold</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_invar_Cons|fact"><span>zcl_invar_Cons</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.bind_mono|fact"><span>bind_mono</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.preorder_class.order_refl|fact"><span>order_refl</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.zcl_fold_foreach_refine|fact"><span class="entity_def" id="Zero_Term.zcl_fold_foreach_refine|thm"><span>zcl_fold_foreach_refine</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_7164..7167">RCL</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span class="main"><span>,</span></span><span class="free"><span>cl</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.br|const"><span>br</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_\&lt;alpha&gt;|const"><span>zcl_α</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_invar|const"><span>zcl_invar</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_7210..7212">RS</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span class="free"><span>s'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>Rs</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_7238..7240">CR</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>s'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span class="bound"><span>s'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>Rs</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>c'</span></span><span> </span><span class="bound"><span>s'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.bool_rel|const"><span>bool_rel</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_7297..7306">F'_refine</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>l</span></span><span> </span><span class="bound"><span>l'</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>s'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟦</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span class="bound"><span>l'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span class="main"><span>;</span></span><span> </span><span class="bound"><span>l'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_\&lt;alpha&gt;|const"><span>zcl_α</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>;</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span class="bound"><span>s'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>Rs</span></span><span>  </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.conc_fun|const"><span>⇓</span></a></span><span class="free"><span>Rs</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f'</span></span><span> </span><span class="bound"><span>l'</span></span><span> </span><span class="bound"><span>s'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold|const"><span>zcl_fold</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.conc_fun|const"><span>⇓</span></a></span><span class="free"><span>Rs</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Foreach.html#Refine_Foreach.FOREACHcd|const"><span>FOREACHcd</span></a><span> </span><span class="free"><span>cl</span></span><span> </span><span class="free"><span>c'</span></span><span> </span><span class="free"><span>f'</span></span><span> </span><span class="free"><span>s'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Foreach.html#Refine_Foreach.FOREACHcd_def|fact"><span>FOREACHcd_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine|fact"><span class="dynamic"><span class="dynamic"><span>refine</span></span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.rhs_step_bind_SPEC|fact"><span>rhs_step_bind_SPEC</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x'</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.butlast|const"><span>butlast</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#offset_7164..7167"><span>RCL</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_\&lt;alpha&gt;_def|fact"><span>zcl_α_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.br_def|fact"><span>br_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.preorder_class.order_trans|fact"><span>order_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold_nfoldli_refine|fact"><span>zcl_fold_nfoldli_refine</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#offset_7164..7167"><span>RCL</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.br_def|fact"><span>br_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Foreach.html#Refine_Foreach.nfoldli_invar_refine|fact"><span>nfoldli_invar_refine</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> I</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span>top</span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Heuristics.html#Refine_Heuristics.refine_dref_type|method"><span class="operator"><span>refine_dref_type</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Zero_Term.html#offset_7210..7212"><span>RS</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#offset_7238..7240"><span>CR</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Leof.html#Refine_Leof.pw_leof_iff|fact"><span>pw_leof_iff</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> l1 x l2 s s'
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Zero_Term.html#offset_7297..7306"><span>F'_refine</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_\&lt;alpha&gt;_def|fact"><span>zcl_α_def</span></a><span> 
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.image_set|fact"><span>image_set</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Zero_Term.zcl_aux_assn|const"><span>zcl_aux_assn</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn|const"><span>b_assn</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_LLVM/IICF_Array.html#IICF_Array.array_assn|const"><span>array_assn</span></a><span> </span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.ulito_assn|const"><span>ulito_assn</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>xs</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.max_size|const"><span>max_size</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>

  
  

  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.zcl_assn_def|fact"><span class="entity_def" id="Zero_Term.zcl_assn_def|thm"><span class="entity_def" id="Zero_Term.zcl_assn_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Zero_Term.zcl_assn|const"><span>zcl_assn</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hr_comp|const"><span>hr_comp</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_aux_assn|const"><span>zcl_aux_assn</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.br|const"><span>br</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_\&lt;alpha&gt;|const"><span>zcl_α</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_invar|const"><span>zcl_invar</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.fcomp_norm_unfold|attribute"><span class="operator"><span>fcomp_norm_unfold</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_assn_def|fact"><span>zcl_assn_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.zcl_assn_boundD|fact"><span class="entity_def" id="Zero_Term.zcl_assn_boundD|thm"><span>zcl_assn_boundD</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Translate.html#Sepref_Translate.sepref_bounds_dest|attribute"><span class="operator"><span>sepref_bounds_dest</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Basic.html#Sepref_Basic.rdomp|const"><span>rdomp</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_assn|const"><span>zcl_assn</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_assn_def|fact"><span>zcl_assn_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sep_Algebra_Add.html#Sep_Algebra_Add.sep_algebra_simps|fact"><span class="dynamic"><span class="dynamic"><span>sep_algebra_simps</span></span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.splits|fact"><span>prod.splits</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span class="main"><span>)</span></span><span>
  
    

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.zcl_make.mcomb|fact"><span class="entity_def" id="Zero_Term.zcl_make.arity|fact"><span class="entity_def" id="Zero_Term.zcl_make.itype|fact"><span class="entity_def" id="Zero_Term.zcl_make.mcomb|thm"><span class="entity_def" id="Zero_Term.zcl_make.arity|thm"><span class="entity_def" id="Zero_Term.zcl_make.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_make|const"><span>zcl_make</span></a></span><span>  
    
  </span><span class="keyword1"><span class="command"><span>find_theorems</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn|const"><span>b_assn</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a></span><span>
  
  
  </span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.zcl_make_impl|const"><span>zcl_make_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_make_aux|const"><span>zcl_make_aux</span></a><span>"</span></span></span><span> 
    </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="bound"><span>xs</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.max_size|const"><span>max_size</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_aux_assn|const"><span>cbuf_aux_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_aux_assn|const"><span>zcl_aux_assn</span></a><span>"</span></span></span><span>
</span><span class="comment1"><span>(*    apply (rule hfref_bassn_resI)
    subgoal
      unfolding zcl_make_aux_def
      apply refine_vcg
      apply (rule leof_True_rule)
      apply refine_vcg
      by auto  
    *)</span></span><span>  
    
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_make_aux_def|fact"><span>zcl_make_aux_def</span></a><span> </span><a class="entity_ref" href="../Isabelle_LLVM/IICF_Array.html#IICF_Array.array_fold_custom_replicate|fact"><span>array_fold_custom_replicate</span></a><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Refine_Monadic_Add.html#Refine_Monadic_Add.nfoldli_upt_by_while|fact"><span>nfoldli_upt_by_while</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.annot_snat_const|method"><span class="operator"><span>annot_snat_const</span></span></a><span> </span><span class="quoted"><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.size_T|const"><span>size_T</span></a></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.zcl_make_impl.refine|fact"><span class="entity_def" id="Zero_Term.zcl_make_impl_def|fact"><span class="entity_def" id="Zero_Term.zcl_make_impl.refine_raw|fact"><span class="entity_def" id="Zero_Term.zcl_make_impl.refine|thm"><span class="entity_def" id="Zero_Term.zcl_make_impl_def|thm"><span class="entity_def" id="Zero_Term.zcl_make_impl.refine_raw|thm"><span class="entity_def" id="Zero_Term.zcl_make_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
    
    
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Zero_Term.zcl_make_impl_hnr|fact"><span class="entity_def" id="Zero_Term.zcl_make_impl_hnr|thm"><span>zcl_make_impl_hnr</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_make_impl.refine|fact"><span>zcl_make_impl.refine</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.FCOMP|attribute"><span class="operator"><span>FCOMP</span></span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_make_aux_refine|fact"><span>zcl_make_aux_refine</span></a><span class="main"><span>]</span></span><span>  
    
  </span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.zcl_free_impl|const"><span>zcl_free_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Translate.html#Sepref_Translate.mop_free|const"><span>mop_free</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_assn|const"><span>zcl_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.unit_assn|const"><span>unit_assn</span></a><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.mop_free_alt|fact"><span>mop_free_alt</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_assn_def|fact"><span>zcl_assn_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.zcl_free_impl.refine|fact"><span class="entity_def" id="Zero_Term.zcl_free_impl_def|fact"><span class="entity_def" id="Zero_Term.zcl_free_impl.refine_raw|fact"><span class="entity_def" id="Zero_Term.zcl_free_impl.refine|thm"><span class="entity_def" id="Zero_Term.zcl_free_impl_def|thm"><span class="entity_def" id="Zero_Term.zcl_free_impl.refine_raw|thm"><span class="entity_def" id="Zero_Term.zcl_free_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Frame.html#Sepref_Frame.sepref_frame_free_rules|attribute"><span class="operator"><span>sepref_frame_free_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.MK_FREE_mopI|fact"><span>MK_FREE_mopI</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_free_impl.refine|fact"><span>zcl_free_impl.refine</span></a><span class="main"><span>]</span></span><span>  
    
  </span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Interface›</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_\&lt;alpha&gt;|const"><span>zcl_α</span></a></span><span> </span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_invar|const"><span>zcl_invar</span></a></span><span>
  
  </span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_make|const"><span>zcl_make</span></a></span><span> </span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_make_def|fact"><span>zcl_make_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_make_impl_hnr|fact"><span>zcl_make_impl_hnr</span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold|const"><span>zcl_fold</span></a></span><span> </span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold_foreach_refine|fact"><span>zcl_fold_foreach_refine</span></a><span>  </span><span class="comment1"><span>(* To be inlined for sepref *)</span></span><span>
  
    
  </span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Clause Builder›</span></span></span><span>  
    
  </span><span class="comment1"><span>(* Clause builder: Assemble in intermediate buffer, then make clause *)</span></span><span>  
    
  </span><span class="comment1"><span>(* max-lit × buf × bound *)</span></span><span>  
  </span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cbld|type"><span>cbld</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf|type"><span>cbuf</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span>"</span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cbld_invar_def|fact"><span class="entity_def" id="Zero_Term.cbld_invar_def|thm"><span class="entity_def" id="Zero_Term.cbld_invar_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cbld_invar|const"><span>cbld_invar</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld|type"><span>cbld</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cbld_invar</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>ml</span></span><span class="main"><span>,</span></span><span class="bound"><span>cb</span></span><span class="main"><span>,</span></span><span class="bound"><span>bnd</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="bound"><span>cb</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="bound"><span>bnd</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span>l</span></span><span class="main"><span>∈</span></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_\&lt;alpha&gt;|const"><span>cbuf_α</span></a><span> </span><span class="bound"><span>cb</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.ulit_of|const"><span>ulit_of</span></a><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="bound"><span>ml</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cbld_\&lt;alpha&gt;_clause_def|fact"><span class="entity_def" id="Zero_Term.cbld_\&lt;alpha&gt;_clause_def|thm"><span class="entity_def" id="Zero_Term.cbld_\&lt;alpha&gt;_clause_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cbld_\&lt;alpha&gt;_clause|const"><span>cbld_α_clause</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld|type"><span>cbld</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.dv_clause|type"><span>dv_clause</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cbld_α_clause</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>ml</span></span><span class="main"><span>,</span></span><span class="bound"><span>cb</span></span><span class="main"><span>,</span></span><span class="bound"><span>bnd</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_\&lt;alpha&gt;|const"><span>cbuf_α</span></a><span> </span><span class="bound"><span>cb</span></span><span>"</span></span></span><span>  
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cbld_\&lt;alpha&gt;_cap_def|fact"><span class="entity_def" id="Zero_Term.cbld_\&lt;alpha&gt;_cap_def|thm"><span class="entity_def" id="Zero_Term.cbld_\&lt;alpha&gt;_cap_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cbld_\&lt;alpha&gt;_cap|const"><span>cbld_α_cap</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld|type"><span>cbld</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cbld_α_cap</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>ml</span></span><span class="main"><span>,</span></span><span class="bound"><span>cb</span></span><span class="main"><span>,</span></span><span class="bound"><span>bnd</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>bnd</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="bound"><span>cb</span></span><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cbld_\&lt;alpha&gt;_maxlit_def|fact"><span class="entity_def" id="Zero_Term.cbld_\&lt;alpha&gt;_maxlit_def|thm"><span class="entity_def" id="Zero_Term.cbld_\&lt;alpha&gt;_maxlit_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cbld_\&lt;alpha&gt;_maxlit|const"><span>cbld_α_maxlit</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld|type"><span>cbld</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cbld_α_maxlit</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>ml</span></span><span class="main"><span>,</span></span><span class="bound"><span>cb</span></span><span class="main"><span>,</span></span><span class="bound"><span>bnd</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>ml</span></span><span>"</span></span></span><span>

  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cbld_\&lt;alpha&gt;_maxlit_bound|fact"><span class="entity_def" id="Zero_Term.cbld_\&lt;alpha&gt;_maxlit_bound|thm"><span>cbld_α_maxlit_bound</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_invar|const"><span>cbld_invar</span></a><span> </span><span class="free"><span>bld</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_clause|const"><span>cbld_α_clause</span></a><span> </span><span class="free"><span>bld</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.ulit_of|const"><span>ulit_of</span></a><span> </span><span class="free"><span>x</span></span><span>  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_maxlit|const"><span>cbld_α_maxlit</span></a><span> </span><span class="free"><span>bld</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_invar_def|fact"><span>cbld_invar_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_clause_def|fact"><span>cbld_α_clause_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_maxlit_def|fact"><span>cbld_α_maxlit_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>
  
    
  
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cbld_make_def|fact"><span class="entity_def" id="Zero_Term.cbld_make_def|thm"><span class="entity_def" id="Zero_Term.cbld_make_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cbld_make|const"><span>cbld_make</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>_</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld|type"><span>cbld</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cbld_make</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ml</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cb</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>bnd</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>ml</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>cb</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>bnd</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cbld_dest_def|fact"><span class="entity_def" id="Zero_Term.cbld_dest_def|thm"><span class="entity_def" id="Zero_Term.cbld_dest_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cbld_dest|const"><span>cbld_dest</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld|type"><span>cbld</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cbld_dest</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>bld</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>bld</span></span></span></span><span>"</span></span></span><span>
  
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cbld_new_def|fact"><span class="entity_def" id="Zero_Term.cbld_new_def|thm"><span class="entity_def" id="Zero_Term.cbld_new_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cbld_new|const"><span>cbld_new</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld|type"><span>cbld</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cbld_new</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cap</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_make|const"><span>cbld_make</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_empty|const"><span>cbuf_empty</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>cap</span></span></span></span><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cbld_new_correct|fact"><span class="entity_def" id="Zero_Term.cbld_new_correct(4)|thm"><span class="entity_def" id="Zero_Term.cbld_new_correct(3)|thm"><span class="entity_def" id="Zero_Term.cbld_new_correct(2)|thm"><span class="entity_def" id="Zero_Term.cbld_new_correct(1)|thm"><span>cbld_new_correct</span></span></span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span>
      </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_invar|const"><span>cbld_invar</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_new|const"><span>cbld_new</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_clause|const"><span>cbld_α_clause</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_new|const"><span>cbld_new</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
      </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_cap|const"><span>cbld_α_cap</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_new|const"><span>cbld_new</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
      </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_maxlit|const"><span>cbld_α_maxlit</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_new|const"><span>cbld_new</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_invar_def|fact"><span>cbld_invar_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_clause_def|fact"><span>cbld_α_clause_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_cap_def|fact"><span>cbld_α_cap_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_new_def|fact"><span>cbld_new_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_maxlit_def|fact"><span>cbld_α_maxlit_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cbld_add_lit_def|fact"><span class="entity_def" id="Zero_Term.cbld_add_lit_def|thm"><span class="entity_def" id="Zero_Term.cbld_add_lit_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cbld_add_lit|const"><span>cbld_add_lit</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.dv_lit|type"><span>dv_lit</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld|type"><span>cbld</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld|type"><span>cbld</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres|type"><span>nres</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cbld_add_lit</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>bld</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
      </span><span class="keyword1"><span>let</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>ml</span></span><span class="main"><span>,</span></span><span class="bound"><span>cb</span></span><span class="main"><span>,</span></span><span class="bound"><span>bnd</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_dest|const"><span>cbld_dest</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>bld</span></span></span></span><span class="main"><span>;</span></span><span>
      </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="bound"><span>cb</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="bound"><span>bnd</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
      </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>ml</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.max|const"><span>max</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.ulit_of|const"><span>ulit_of</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>ml</span></span><span class="main"><span>;</span></span><span>
      </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>cb</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_insert|const"><span>cbuf_insert</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span> </span><span class="bound"><span>cb</span></span><span class="main"><span>;</span></span><span>
      </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_make|const"><span>cbld_make</span></a><span> </span><span class="bound"><span>ml</span></span><span> </span><span class="bound"><span>cb</span></span><span> </span><span class="bound"><span>bnd</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
      
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cbld_add_lit_correct|fact"><span class="entity_def" id="Zero_Term.cbld_add_lit_correct|thm"><span>cbld_add_lit_correct</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|attribute"><span class="operator"><span>refine_vcg</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_invar|const"><span>cbld_invar</span></a><span> </span><span class="free"><span>bld</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_cap|const"><span>cbld_α_cap</span></a><span> </span><span class="free"><span>bld</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_add_lit|const"><span>cbld_add_lit</span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="free"><span>bld</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.SPEC|const"><span>SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>bld'</span></span><span class="main"><span>.</span></span><span> 
      </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_invar|const"><span>cbld_invar</span></a><span> </span><span class="bound"><span>bld'</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_clause|const"><span>cbld_α_clause</span></a><span> </span><span class="bound"><span>bld'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_clause|const"><span>cbld_α_clause</span></a><span> </span><span class="free"><span>bld</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_cap|const"><span>cbld_α_cap</span></a><span> </span><span class="bound"><span>bld'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_cap|const"><span>cbld_α_cap</span></a><span> </span><span class="free"><span>bld</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_maxlit|const"><span>cbld_α_maxlit</span></a><span> </span><span class="bound"><span>bld'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.max|const"><span>max</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_maxlit|const"><span>cbld_α_maxlit</span></a><span> </span><span class="free"><span>bld</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.ulit_of|const"><span>ulit_of</span></a><span> </span><span class="free"><span>l</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_add_lit_def|fact"><span>cbld_add_lit_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_invar_def|fact"><span>cbld_invar_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_clause_def|fact"><span>cbld_α_clause_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_cap_def|fact"><span>cbld_α_cap_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_maxlit_def|fact"><span>cbld_α_maxlit_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cbld_finish_clause_def|fact"><span class="entity_def" id="Zero_Term.cbld_finish_clause_def|thm"><span class="entity_def" id="Zero_Term.cbld_finish_clause_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cbld_finish_clause|const"><span>cbld_finish_clause</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld|type"><span>cbld</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.dv_clause|type"><span>dv_clause</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld|type"><span>cbld</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres|type"><span>nres</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cbld_finish_clause</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>bld</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
      </span><span class="keyword1"><span>let</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>ml</span></span><span class="main"><span>,</span></span><span class="bound"><span>cb</span></span><span class="main"><span>,</span></span><span class="bound"><span>bnd</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_dest|const"><span>cbld_dest</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>bld</span></span></span></span><span class="main"><span>;</span></span><span>
      </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="bound"><span>cb</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="bound"><span>bnd</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
      </span><span class="bound"><span>cl</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_make|const"><span>zcl_make</span></a><span> </span><span class="bound"><span>cb</span></span><span class="main"><span>;</span></span><span>
      </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>cb</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_flush|const"><span>cbuf_flush</span></a><span> </span><span class="bound"><span>cb</span></span><span class="main"><span>;</span></span><span>
      </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>cl</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_make|const"><span>cbld_make</span></a><span> </span><span class="bound"><span>ml</span></span><span> </span><span class="bound"><span>cb</span></span><span> </span><span class="bound"><span>bnd</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cbld_finish_clause_correct|fact"><span class="entity_def" id="Zero_Term.cbld_finish_clause_correct|thm"><span>cbld_finish_clause_correct</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|attribute"><span class="operator"><span>refine_vcg</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_invar|const"><span>cbld_invar</span></a><span> </span><span class="free"><span>bld</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_cap|const"><span>cbld_α_cap</span></a><span> </span><span class="free"><span>bld</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><span>⟧</span></span><span> 
    </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_finish_clause|const"><span>cbld_finish_clause</span></a><span> </span><span class="free"><span>bld</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.SPEC|const"><span>SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>cl</span></span><span class="main"><span>,</span></span><span class="bound"><span>bld'</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span>     
       </span><span class="bound"><span>cl</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_clause|const"><span>cbld_α_clause</span></a><span> </span><span class="free"><span>bld</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_invar|const"><span>cbld_invar</span></a><span> </span><span class="bound"><span>bld'</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_clause|const"><span>cbld_α_clause</span></a><span> </span><span class="bound"><span>bld'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_cap|const"><span>cbld_α_cap</span></a><span> </span><span class="bound"><span>bld'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>≥</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_cap|const"><span>cbld_α_cap</span></a><span> </span><span class="free"><span>bld</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_maxlit|const"><span>cbld_α_maxlit</span></a><span> </span><span class="bound"><span>bld'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_maxlit|const"><span>cbld_α_maxlit</span></a><span> </span><span class="free"><span>bld</span></span><span>
    </span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_finish_clause_def|fact"><span>cbld_finish_clause_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_invar_def|fact"><span>cbld_invar_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_clause_def|fact"><span>cbld_α_clause_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_cap_def|fact"><span>cbld_α_cap_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_maxlit_def|fact"><span>cbld_α_maxlit_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="comment1"><span>(* TODO: slight breaking of abstraction *)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_\&lt;alpha&gt;_def|fact"><span>cbuf_α_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cbld_abort_clause_def|fact"><span class="entity_def" id="Zero_Term.cbld_abort_clause_def|thm"><span class="entity_def" id="Zero_Term.cbld_abort_clause_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cbld_abort_clause|const"><span>cbld_abort_clause</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld|type"><span>cbld</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld|type"><span>cbld</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres|type"><span>nres</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cbld_abort_clause</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>bld</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
      </span><span class="keyword1"><span>let</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>ml</span></span><span class="main"><span>,</span></span><span class="bound"><span>cb</span></span><span class="main"><span>,</span></span><span class="bound"><span>bnd</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_dest|const"><span>cbld_dest</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>bld</span></span></span></span><span class="main"><span>;</span></span><span>
      </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>cb</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_flush|const"><span>cbuf_flush</span></a><span> </span><span class="bound"><span>cb</span></span><span class="main"><span>;</span></span><span>
      </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_make|const"><span>cbld_make</span></a><span> </span><span class="bound"><span>ml</span></span><span> </span><span class="bound"><span>cb</span></span><span> </span><span class="bound"><span>bnd</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cbld_abort_clause_correct|fact"><span class="entity_def" id="Zero_Term.cbld_abort_clause_correct|thm"><span>cbld_abort_clause_correct</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|attribute"><span class="operator"><span>refine_vcg</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_invar|const"><span>cbld_invar</span></a><span> </span><span class="free"><span>bld</span></span><span> </span><span class="main"><span>⟧</span></span><span> 
    </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_abort_clause|const"><span>cbld_abort_clause</span></a><span> </span><span class="free"><span>bld</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.SPEC|const"><span>SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>bld'</span></span><span class="main"><span>.</span></span><span>     
      </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_invar|const"><span>cbld_invar</span></a><span> </span><span class="bound"><span>bld'</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_clause|const"><span>cbld_α_clause</span></a><span> </span><span class="bound"><span>bld'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_cap|const"><span>cbld_α_cap</span></a><span> </span><span class="bound"><span>bld'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>≥</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_cap|const"><span>cbld_α_cap</span></a><span> </span><span class="free"><span>bld</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_maxlit|const"><span>cbld_α_maxlit</span></a><span> </span><span class="bound"><span>bld'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_maxlit|const"><span>cbld_α_maxlit</span></a><span> </span><span class="free"><span>bld</span></span><span>
    </span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_abort_clause_def|fact"><span>cbld_abort_clause_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_invar_def|fact"><span>cbld_invar_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_clause_def|fact"><span>cbld_α_clause_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_cap_def|fact"><span>cbld_α_cap_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_maxlit_def|fact"><span>cbld_α_maxlit_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>
    
        
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cbld_is_empty_def|fact"><span class="entity_def" id="Zero_Term.cbld_is_empty_def|thm"><span class="entity_def" id="Zero_Term.cbld_is_empty_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cbld_is_empty|const"><span>cbld_is_empty</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld|type"><span>cbld</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres|type"><span>nres</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cbld_is_empty</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>bld</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
      </span><span class="keyword1"><span>let</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>ml</span></span><span class="main"><span>,</span></span><span class="bound"><span>cb</span></span><span class="main"><span>,</span></span><span class="bound"><span>bnd</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_dest|const"><span>cbld_dest</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>bld</span></span></span></span><span class="main"><span>;</span></span><span>
      </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="bound"><span>cb</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
      </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>bld'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_make|const"><span>cbld_make</span></a><span> </span><span class="bound"><span>ml</span></span><span> </span><span class="bound"><span>cb</span></span><span> </span><span class="bound"><span>bnd</span></span><span class="main"><span>;</span></span><span>
      </span><a class="entity_ref" href="../Isabelle_LLVM/Proto_Sepref_Borrow.html#Proto_Sepref_Borrow.unborrow|const"><span>unborrow</span></a><span> </span><span class="bound"><span>bld'</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>bld</span></span></span></span><span class="main"><span>;</span></span><span>
      </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="bound"><span>r</span></span><span>
    </span><span class="main"><span>}</span></span><span>"</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cbld_is_empty_correct|fact"><span class="entity_def" id="Zero_Term.cbld_is_empty_correct|thm"><span>cbld_is_empty_correct</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|attribute"><span class="operator"><span>refine_vcg</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_invar|const"><span>cbld_invar</span></a><span> </span><span class="free"><span>bld</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_is_empty|const"><span>cbld_is_empty</span></a><span> </span><span class="free"><span>bld</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.SPEC|const"><span>SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_clause|const"><span>cbld_α_clause</span></a><span> </span><span class="free"><span>bld</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_is_empty_def|fact"><span>cbld_is_empty_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_invar_def|fact"><span>cbld_invar_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_clause_def|fact"><span>cbld_α_clause_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_\&lt;alpha&gt;_def|fact"><span>cbuf_α_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cbld_get_maxlit_def|fact"><span class="entity_def" id="Zero_Term.cbld_get_maxlit_def|thm"><span class="entity_def" id="Zero_Term.cbld_get_maxlit_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cbld_get_maxlit|const"><span>cbld_get_maxlit</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld|type"><span>cbld</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres|type"><span>nres</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cbld_get_maxlit</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>bld</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
      </span><span class="keyword1"><span>let</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>ml</span></span><span class="main"><span>,</span></span><span class="bound"><span>cb</span></span><span class="main"><span>,</span></span><span class="bound"><span>bnd</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_dest|const"><span>cbld_dest</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>bld</span></span></span></span><span class="main"><span>;</span></span><span>
      </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>bld'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_make|const"><span>cbld_make</span></a><span> </span><span class="bound"><span>ml</span></span><span> </span><span class="bound"><span>cb</span></span><span> </span><span class="bound"><span>bnd</span></span><span class="main"><span>;</span></span><span>
      </span><a class="entity_ref" href="../Isabelle_LLVM/Proto_Sepref_Borrow.html#Proto_Sepref_Borrow.unborrow|const"><span>unborrow</span></a><span> </span><span class="bound"><span>bld'</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>bld</span></span></span></span><span class="main"><span>;</span></span><span>
      </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="bound"><span>ml</span></span><span>
    </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.dbld_get_maxlit_correct|fact"><span class="entity_def" id="Zero_Term.dbld_get_maxlit_correct|thm"><span>dbld_get_maxlit_correct</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|attribute"><span class="operator"><span>refine_vcg</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_invar|const"><span>cbld_invar</span></a><span> </span><span class="free"><span>bld</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_get_maxlit|const"><span>cbld_get_maxlit</span></a><span> </span><span class="free"><span>bld</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.SPEC|const"><span>SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_maxlit|const"><span>cbld_α_maxlit</span></a><span> </span><span class="free"><span>bld</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_get_maxlit_def|fact"><span>cbld_get_maxlit_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_maxlit_def|fact"><span>cbld_α_maxlit_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
        

  </span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cbldi|type"><span>cbldi</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.lit_size_t|type"><span>lit_size_t</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.lit_size_t|type"><span>lit_size_t</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.size_t|type"><span>size_t</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/LLVM_DS_Array_List.html#LLVM_DS_Array_List.array_list|type"><span>array_list</span></a><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cbld_assn_def|fact"><span class="entity_def" id="Zero_Term.cbld_assn_def|thm"><span class="entity_def" id="Zero_Term.cbld_assn_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cbld_assn|const"><span>cbld_assn</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld|type"><span>cbld</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbldi|type"><span>cbldi</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Basic.html#Sepref_Basic.assn|type"><span>assn</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cbld_assn</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>ml</span></span><span class="main"><span>,</span></span><span class="bound"><span>cb</span></span><span class="main"><span>,</span></span><span class="bound"><span>bnd</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>mli</span></span><span class="main"><span>,</span></span><span class="bound"><span>cbi</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> 
      </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.lit_assn|const"><span>lit_assn</span></a><span> </span><span class="bound"><span>ml</span></span><span> </span><span class="bound"><span>mli</span></span><span> 
    </span><span class="main"><a class="entity_ref" href="../Isabelle_LLVM/Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_aux_assn|const"><span>cbuf_aux_assn</span></a><span> </span><span class="bound"><span>cb</span></span><span> </span><span class="bound"><span>cbi</span></span><span> 
    </span><span class="main"><a class="entity_ref" href="../Isabelle_LLVM/Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><a class="entity_ref" href="Proto_Sepref_Ghostvar.html#Proto_Sepref_Ghostvar.dropi_assn|const"><span>dropi_assn</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Basic.html#Sepref_Basic.rdomp|const"><span>rdomp</span></a><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.size_assn|const"><span>size_assn</span></a><span class="main"><span>)</span></span><span> </span><span class="bound"><span>bnd</span></span><span> </span><a class="entity_ref" href="Proto_Sepref_Ghostvar.html#Proto_Sepref_Ghostvar.ghost_var|const"><span>ghost_var</span></a><span>"</span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cbld_is_empty.mcomb|fact"><span class="entity_def" id="Zero_Term.cbld_is_empty.arity|fact"><span class="entity_def" id="Zero_Term.cbld_is_empty.itype|fact"><span class="entity_def" id="Zero_Term.cbld_finish_clause.mcomb|fact"><span class="entity_def" id="Zero_Term.cbld_finish_clause.arity|fact"><span class="entity_def" id="Zero_Term.cbld_finish_clause.itype|fact"><span class="entity_def" id="Zero_Term.cbld_add_lit.mcomb|fact"><span class="entity_def" id="Zero_Term.cbld_add_lit.arity|fact"><span class="entity_def" id="Zero_Term.cbld_add_lit.itype|fact"><span class="entity_def" id="Zero_Term.cbld_new.itype|fact"><span class="entity_def" id="Zero_Term.cbld_dest.itype|fact"><span class="entity_def" id="Zero_Term.cbld_make.itype|fact"><span class="entity_def" id="Zero_Term.cbld_is_empty.mcomb|thm"><span class="entity_def" id="Zero_Term.cbld_is_empty.arity|thm"><span class="entity_def" id="Zero_Term.cbld_is_empty.itype|thm"><span class="entity_def" id="Zero_Term.cbld_finish_clause.mcomb|thm"><span class="entity_def" id="Zero_Term.cbld_finish_clause.arity|thm"><span class="entity_def" id="Zero_Term.cbld_finish_clause.itype|thm"><span class="entity_def" id="Zero_Term.cbld_add_lit.mcomb|thm"><span class="entity_def" id="Zero_Term.cbld_add_lit.arity|thm"><span class="entity_def" id="Zero_Term.cbld_add_lit.itype|thm"><span class="entity_def" id="Zero_Term.cbld_new.itype|thm"><span class="entity_def" id="Zero_Term.cbld_dest.itype|thm"><span class="entity_def" id="Zero_Term.cbld_make.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_make|const"><span>cbld_make</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_dest|const"><span>cbld_dest</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_new|const"><span>cbld_new</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_add_lit|const"><span>cbld_add_lit</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_finish_clause|const"><span>cbld_finish_clause</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_is_empty|const"><span>cbld_is_empty</span></a></span><span>

      
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cbld_make_impl_def|fact"><span class="entity_def" id="Zero_Term.cbld_make_impl_def|thm"><span class="entity_def" id="Zero_Term.cbld_make_impl_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cbld_make_impl|const"><span>cbld_make_impl</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>_</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbldi|type"><span>cbldi</span></a><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Simple_Memory.html#Simple_Memory.llM|type"><span>llM</span></a><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cbld_make_impl</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>mli</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cbi</span></span></span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>mli</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>cbi</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cbld_make_impl_refine|fact"><span class="entity_def" id="Zero_Term.cbld_make_impl_refine|thm"><span>cbld_make_impl_refine</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Misc.html#Sepref_Misc.uncurry2|const"><span>uncurry2</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_make_impl|const"><span>cbld_make_impl</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Misc.html#Sepref_Misc.uncurry2|const"><span>uncurry2</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp3|const"><span>ooo</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_make|const"><span>cbld_make</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> 
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefptnd|const"><span>]<span class="hidden">⇩</span><sub>c</sub></span></a></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.lit_assn|const"><span>lit_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_aux_assn|const"><span>cbuf_aux_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.size_assn|const"><span>size_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_assn|const"><span>cbld_assn</span></a><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>ml</span></span><span class="main"><span>,</span></span><span class="bound"><span>cb</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>ml</span></span><span class="main"><span>,</span></span><span class="bound"><span>cb</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefptnd|const"><span>]<span class="hidden">⇩</span><sub>c</sub></span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_make_def|fact"><span>cbld_make_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_make_impl_def|fact"><span>cbld_make_impl_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_assn_def|fact"><span>cbld_assn_def</span></a><span> </span><a class="entity_ref" href="Proto_Sepref_Ghostvar.html#Proto_Sepref_Ghostvar.any_rel_def|fact"><span>any_rel_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Basic_VCG.html#Basic_VCG.vcg_normalize|method"><span class="operator"><span>vcg_normalize</span></span></a><span>
    
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>named_ss</span></span><span> </span><span>HOL_basic_ss_nomatch</span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="LRAT_Sepref_Base.html#LRAT_Sepref_Base.move_resolve_ex_eq|fact"><span>move_resolve_ex_eq</span></a><span class="main"><span>)</span></span><span>
    
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="LRAT_Sepref_Base.html#LRAT_Sepref_Base.rdomp_pure_rel_eq|fact"><span>rdomp_pure_rel_eq</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Basic_VCG.html#Basic_VCG.vcg|method"><span class="operator"><span>vcg</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>    
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cbld_make_impl_refine2|fact"><span class="entity_def" id="Zero_Term.cbld_make_impl_refine2|thm"><span>cbld_make_impl_refine2</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Misc.html#Sepref_Misc.uncurry2|const"><span>uncurry2</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_make_impl|const"><span>cbld_make_impl</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Misc.html#Sepref_Misc.uncurry2|const"><span>uncurry2</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp3|const"><span>ooo</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_make|const"><span>cbld_make</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> 
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefptnd|const"><span>]<span class="hidden">⇩</span><sub>c</sub></span></a></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.lit_assn|const"><span>lit_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_aux_assn|const"><span>cbuf_aux_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Proto_Sepref_Ghostvar.html#Proto_Sepref_Ghostvar.dropi_assn|const"><span>dropi_assn</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Basic.html#Sepref_Basic.rdomp|const"><span>rdomp</span></a><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.size_assn|const"><span>size_assn</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_assn|const"><span>cbld_assn</span></a><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>ml</span></span><span class="main"><span>,</span></span><span class="bound"><span>cb</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>ml</span></span><span class="main"><span>,</span></span><span class="bound"><span>cb</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefptnd|const"><span>]<span class="hidden">⇩</span><sub>c</sub></span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_make_def|fact"><span>cbld_make_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_make_impl_def|fact"><span>cbld_make_impl_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_assn_def|fact"><span>cbld_assn_def</span></a><span> </span><a class="entity_ref" href="Proto_Sepref_Ghostvar.html#Proto_Sepref_Ghostvar.any_rel_def|fact"><span>any_rel_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Basic_VCG.html#Basic_VCG.vcg_normalize|method"><span class="operator"><span>vcg_normalize</span></span></a><span>
    
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>named_ss</span></span><span> </span><span>HOL_basic_ss_nomatch</span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="LRAT_Sepref_Base.html#LRAT_Sepref_Base.move_resolve_ex_eq|fact"><span>move_resolve_ex_eq</span></a><span class="main"><span>)</span></span><span>
    
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="LRAT_Sepref_Base.html#LRAT_Sepref_Base.rdomp_pure_rel_eq|fact"><span>rdomp_pure_rel_eq</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Basic_VCG.html#Basic_VCG.vcg|method"><span class="operator"><span>vcg</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>    
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cbld_dest_impl_refine|fact"><span class="entity_def" id="Zero_Term.cbld_dest_impl_refine|thm"><span>cbld_dest_impl_refine</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="Proto_Sepref_Ghostvar.html#Proto_Sepref_Ghostvar.ghost_var|const"><span>ghost_var</span></a><span class="main"><span>::</span></span><span class="main"><span>1</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_dest|const"><span>cbld_dest</span></a><span class="main"><span>)</span></span><span> 
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefptnd|const"><span>]<span class="hidden">⇩</span><sub>c</sub></span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_assn|const"><span>cbld_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.lit_assn|const"><span>lit_assn</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>×<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbuf_aux_assn|const"><span>cbuf_aux_assn</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>×<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Proto_Sepref_Ghostvar.html#Proto_Sepref_Ghostvar.dropi_assn|const"><span>dropi_assn</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Basic.html#Sepref_Basic.rdomp|const"><span>rdomp</span></a><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.size_assn|const"><span>size_assn</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>ml</span></span><span class="main"><span>,</span></span><span class="bound"><span>cb</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>ml'</span></span><span class="main"><span>,</span></span><span class="bound"><span>cb'</span></span><span class="main"><span>,</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>ml'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="bound"><span>ml</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>cb'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="bound"><span>cb</span></span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefptnd|const"><span>]<span class="hidden">⇩</span><sub>c</sub></span></a></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_dest_def|fact"><span>cbld_dest_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_assn_def|fact"><span>cbld_assn_def</span></a><span> </span><a class="entity_ref" href="Proto_Sepref_Ghostvar.html#Proto_Sepref_Ghostvar.any_rel_def|fact"><span>any_rel_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Basic_VCG.html#Basic_VCG.vcg_normalize|method"><span class="operator"><span>vcg_normalize</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>named_ss</span></span><span> </span><span>HOL_basic_ss_nomatch</span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="LRAT_Sepref_Base.html#LRAT_Sepref_Base.move_resolve_ex_eq|fact"><span>move_resolve_ex_eq</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Basic_VCG.html#Basic_VCG.vcg|method"><span class="operator"><span>vcg</span></span></a><span>
  
  
  </span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cbld_new_impl|const"><span>cbld_new_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_new|const"><span>cbld_new</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.size_assn|const"><span>size_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_assn|const"><span>cbld_assn</span></a><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_new_def|fact"><span>cbld_new_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_LLVM/ISABELLE_HOME/src/HOL/Library/rewrite.ML.html#Rewrite.rewrite|method"><span class="operator"><span>rewrite</span></span></a><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_const_fold|fact"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_const_fold|fact"><span>unat_const_fold</span></a></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.lit_size_t|type"><span class="quoted"><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.lit_size_t|type"><span class="quoted"><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.lit_size_t|type"><span>lit_size_t</span></a></span></a></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cbld_new_impl.refine|fact"><span class="entity_def" id="Zero_Term.cbld_new_impl_def|fact"><span class="entity_def" id="Zero_Term.cbld_new_impl.refine_raw|fact"><span class="entity_def" id="Zero_Term.cbld_new_impl.refine|thm"><span class="entity_def" id="Zero_Term.cbld_new_impl_def|thm"><span class="entity_def" id="Zero_Term.cbld_new_impl.refine_raw|thm"><span class="entity_def" id="Zero_Term.cbld_new_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cbld_add_lit_impl|const"><span>cbld_add_lit_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_add_lit|const"><span>cbld_add_lit</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.ulit_assn|const"><span>ulit_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_assn|const"><span>cbld_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_assn|const"><span>cbld_assn</span></a><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_add_lit_def|fact"><span>cbld_add_lit_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.max_def|fact"><span>max_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cbld_add_lit_impl.refine|fact"><span class="entity_def" id="Zero_Term.cbld_add_lit_impl_def|fact"><span class="entity_def" id="Zero_Term.cbld_add_lit_impl.refine_raw|fact"><span class="entity_def" id="Zero_Term.cbld_add_lit_impl.refine|thm"><span class="entity_def" id="Zero_Term.cbld_add_lit_impl_def|thm"><span class="entity_def" id="Zero_Term.cbld_add_lit_impl.refine_raw|thm"><span class="entity_def" id="Zero_Term.cbld_add_lit_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cbld_finish_clause_impl|const"><span>cbld_finish_clause_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_finish_clause|const"><span>cbld_finish_clause</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_assn|const"><span>cbld_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_assn|const"><span>zcl_assn</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>×<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_assn|const"><span>cbld_assn</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_finish_clause_def|fact"><span>cbld_finish_clause_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cbld_finish_clause_impl.refine|fact"><span class="entity_def" id="Zero_Term.cbld_finish_clause_impl_def|fact"><span class="entity_def" id="Zero_Term.cbld_finish_clause_impl.refine_raw|fact"><span class="entity_def" id="Zero_Term.cbld_finish_clause_impl.refine|thm"><span class="entity_def" id="Zero_Term.cbld_finish_clause_impl_def|thm"><span class="entity_def" id="Zero_Term.cbld_finish_clause_impl.refine_raw|thm"><span class="entity_def" id="Zero_Term.cbld_finish_clause_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cbld_abort_clause_impl|const"><span>cbld_abort_clause_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_abort_clause|const"><span>cbld_abort_clause</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_assn|const"><span>cbld_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_assn|const"><span>cbld_assn</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_abort_clause_def|fact"><span>cbld_abort_clause_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cbld_abort_clause_impl.refine|fact"><span class="entity_def" id="Zero_Term.cbld_abort_clause_impl_def|fact"><span class="entity_def" id="Zero_Term.cbld_abort_clause_impl.refine_raw|fact"><span class="entity_def" id="Zero_Term.cbld_abort_clause_impl.refine|thm"><span class="entity_def" id="Zero_Term.cbld_abort_clause_impl_def|thm"><span class="entity_def" id="Zero_Term.cbld_abort_clause_impl.refine_raw|thm"><span class="entity_def" id="Zero_Term.cbld_abort_clause_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
            
  </span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cbld_is_empty_impl|const"><span>cbld_is_empty_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_is_empty|const"><span>cbld_is_empty</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_assn|const"><span>cbld_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_is_empty_def|fact"><span>cbld_is_empty_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.annot_snat_const|method"><span class="operator"><span>annot_snat_const</span></span></a><span> </span><span class="quoted"><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.size_T|const"><span>size_T</span></a></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cbld_is_empty_impl.refine|fact"><span class="entity_def" id="Zero_Term.cbld_is_empty_impl_def|fact"><span class="entity_def" id="Zero_Term.cbld_is_empty_impl.refine_raw|fact"><span class="entity_def" id="Zero_Term.cbld_is_empty_impl.refine|thm"><span class="entity_def" id="Zero_Term.cbld_is_empty_impl_def|thm"><span class="entity_def" id="Zero_Term.cbld_is_empty_impl.refine_raw|thm"><span class="entity_def" id="Zero_Term.cbld_is_empty_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cbld_get_maxlit_impl|const"><span>cbld_get_maxlit_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_get_maxlit|const"><span>cbld_get_maxlit</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_assn|const"><span>cbld_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.lit_assn|const"><span>lit_assn</span></a><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_get_maxlit_def|fact"><span>cbld_get_maxlit_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cbld_get_maxlit_impl.refine|fact"><span class="entity_def" id="Zero_Term.cbld_get_maxlit_impl_def|fact"><span class="entity_def" id="Zero_Term.cbld_get_maxlit_impl.refine_raw|fact"><span class="entity_def" id="Zero_Term.cbld_get_maxlit_impl.refine|thm"><span class="entity_def" id="Zero_Term.cbld_get_maxlit_impl_def|thm"><span class="entity_def" id="Zero_Term.cbld_get_maxlit_impl.refine_raw|thm"><span class="entity_def" id="Zero_Term.cbld_get_maxlit_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
    
        
  </span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cbld_free|const"><span>cbld_free</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_code|attribute"><span class="operator"><span>llvm_code</span></span></a><span class="main"><span>]</span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>cbld</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span class="keyword1"><span>let</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_dest|const"><span>cbld_dest</span></a><span> </span><span class="bound"><span>cbld</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_assn|const"><span>cbld_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.unit_assn|const"><span>unit_assn</span></a><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cbld_free.refine|fact"><span class="entity_def" id="Zero_Term.cbld_free_def|fact"><span class="entity_def" id="Zero_Term.cbld_free.refine_raw|fact"><span class="entity_def" id="Zero_Term.cbld_free.refine|thm"><span class="entity_def" id="Zero_Term.cbld_free_def|thm"><span class="entity_def" id="Zero_Term.cbld_free.refine_raw|thm"><span class="entity_def" id="Zero_Term.cbld_free_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cbld_free|fact"><span class="entity_def" id="Zero_Term.cbld_free|thm"><span>cbld_free</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Frame.html#Sepref_Frame.sepref_frame_free_rules|attribute"><span class="operator"><span>sepref_frame_free_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Basic.html#Sepref_Basic.MK_FREE|const"><span>MK_FREE</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_assn|const"><span>cbld_assn</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_free|const"><span>cbld_free</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.MK_FREE_hfrefI|fact"><span>MK_FREE_hfrefI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_free.refine|fact"><span>cbld_free.refine</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    
    
  </span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Interface›</span></span></span><span>  
  
  </span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_clause|const"><span>cbld_α_clause</span></a></span><span> </span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_\&lt;alpha&gt;_cap|const"><span>cbld_α_cap</span></a></span><span> </span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_invar|const"><span>cbld_invar</span></a></span><span>
  
  </span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_new|const"><span>cbld_new</span></a></span><span> </span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_new_correct|fact"><span>cbld_new_correct</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_new_impl.refine|fact"><span>cbld_new_impl.refine</span></a><span>
    
  </span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_add_lit|const"><span>cbld_add_lit</span></a></span><span> </span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_add_lit_correct|fact"><span>cbld_add_lit_correct</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_add_lit_impl.refine|fact"><span>cbld_add_lit_impl.refine</span></a><span>
  </span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_add_lit_impl|const"><span>cbld_add_lit_impl</span></a></span><span>
    
  </span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_finish_clause|const"><span>cbld_finish_clause</span></a></span><span> </span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_finish_clause_correct|fact"><span>cbld_finish_clause_correct</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_finish_clause_impl.refine|fact"><span>cbld_finish_clause_impl.refine</span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_abort_clause|const"><span>cbld_abort_clause</span></a></span><span> </span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_abort_clause_correct|fact"><span>cbld_abort_clause_correct</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_abort_clause_impl.refine|fact"><span>cbld_abort_clause_impl.refine</span></a><span>

  </span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_is_empty|const"><span>cbld_is_empty</span></a></span><span> </span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_is_empty_correct|fact"><span>cbld_is_empty_correct</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cbld_is_empty_impl.refine|fact"><span>cbld_is_empty_impl.refine</span></a><span>
    
    
  </span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Zero-Terminated Clause or empty List›</span></span></span><span>  
    
  </span><span class="comment1"><span>(*
    Used internally in clause database, to store non-present clauses as empty list
  *)</span></span><span>
    

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.zcl.is_init&apos;I|fact"><span class="entity_def" id="Zero_Term.zcl.is_init_eqI|fact"><span class="entity_def" id="Zero_Term.zcl.dflt_option_init_axioms|fact"><span class="entity_def" id="Zero_Term.zcl.option_assn_pure|fact"><span class="entity_def" id="Zero_Term.zcl.mk_free_option|fact"><span class="entity_def" id="Zero_Term.zcl.free_option_def|fact"><span class="entity_def" id="Zero_Term.zcl.hn_is_None|fact"><span class="entity_def" id="Zero_Term.zcl.hn_the|fact"><span class="entity_def" id="Zero_Term.zcl.hn_Some|fact"><span class="entity_def" id="Zero_Term.zcl.hn_None|fact"><span class="entity_def" id="Zero_Term.zcl.option_assn_def|fact"><span class="entity_def" id="Zero_Term.zcl.CMP|fact"><span class="entity_def" id="Zero_Term.zcl.UU|fact"><span class="entity_def" id="Zero_Term.zcl.dflt_option_axioms|fact"><span class="entity_def" id="Zero_Term.zcl.option_assn_def|thm"><span class="entity_def" id="Zero_Term.zcl.CMP|thm"><span class="entity_def" id="Zero_Term.zcl.UU|thm"><span class="entity_def" id="Zero_Term.zcl.is_init&apos;I|thm"><span class="entity_def" id="Zero_Term.zcl.is_init_eqI|thm"><span class="entity_def" id="Zero_Term.zcl.dflt_option_init_axioms|thm"><span class="entity_def" id="Zero_Term.zcl.option_assn_pure|thm"><span class="entity_def" id="Zero_Term.zcl.mk_free_option|thm"><span class="entity_def" id="Zero_Term.zcl.free_option_def|thm"><span class="entity_def" id="Zero_Term.zcl.hn_is_None|thm"><span class="entity_def" id="Zero_Term.zcl.hn_the|thm"><span class="entity_def" id="Zero_Term.zcl.hn_Some|thm"><span class="entity_def" id="Zero_Term.zcl.hn_None|thm"><span class="entity_def" id="Zero_Term.zcl.dflt_option_axioms|thm"><span class="entity_def" id="Zero_Term.zcl.free_option|const"><span class="entity_def" id="Zero_Term.zcl.option_assn|const"><span>interpretation</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> zcl</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="LRAT_Sepref_Base.html#LRAT_Sepref_Base.dflt_option_init|locale"><span>dflt_option_init</span></a><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_assn|const"><span>zcl_assn</span></a></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_LLVM/LLVM_Shallow.html#LLVM_Shallow.ll_ptrcmp_eq|const"><span>ll_ptrcmp_eq</span></a><span> </span><a class="entity_ref" href="../Isabelle_LLVM/LLVM_Shallow.html#LLVM_Shallow.null|const"><span>null</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>unfold_locales</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_assn_def|fact"><span>zcl_assn_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hr_comp_def|fact"><span>hr_comp_def</span></a><span> </span><a class="entity_ref" href="../Isabelle_LLVM/IICF_Array.html#IICF_Array.array_assn_def|fact"><span>array_assn_def</span></a><span> </span><a class="entity_ref" href="LRAT_Sepref_Base.html#LRAT_Sepref_Base.narray_assn_null_eq|fact"><span>narray_assn_null_eq</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_eq_iff|fact"><span>fun_eq_iff</span></a><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sep_Algebra_Add.html#Sep_Algebra_Add.sep_algebra_simps|fact"><span class="dynamic"><span class="dynamic"><span>sep_algebra_simps</span></span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> p
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/Basic_VCG.html#Basic_VCG.vcg_rules|attribute"><span class="operator"><span>vcg_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="LRAT_Sepref_Base.html#LRAT_Sepref_Base.ll_ptrcmp_eq_null&apos;_rl|fact"><span>ll_ptrcmp_eq_null'_rl</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Basic_VCG.html#Basic_VCG.vcg|method"><span class="operator"><span>vcg</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    
    
  </span><span class="comment1"><span>(*  
  definition "zclo_invar xs ≡ xs≠[] ⟶ zcl_invar xs"
  definition "zclo_α xs ≡ if xs=[] then None else Some (zcl_α xs)"
  
  definition "zcl_to_zclo xs ≡ xs"
  definition "zclo_to_zcl xs ≡ xs"
  
  definition "zclo_None ≡ []"
  definition "zclo_is_None xs ≡ xs=[]"
  
  lemma zcl_to_zclo_correct[simp]:
    "zcl_invar xs ⟹ zclo_invar (zcl_to_zclo xs)"
    "zcl_invar xs ⟹ zclo_α (zcl_to_zclo xs) = Some (zcl_α xs)"
    unfolding zclo_invar_def zclo_α_def zcl_to_zclo_def
    by auto
  
  lemma zclo_to_zcl_correct[simp]:  
    "zclo_invar xs ⟹ ¬is_None (zclo_α xs) ⟹ zcl_invar (zclo_to_zcl xs)"
    "zclo_invar xs ⟹ ¬is_None (zclo_α xs) ⟹ zcl_α (zclo_to_zcl xs) = the (zclo_α xs)"
    unfolding zclo_invar_def zclo_α_def zclo_to_zcl_def
    by auto
    
  lemma zclo_None_correct[simp]: 
    "zclo_invar zclo_None"
    "zclo_α zclo_None = None"
    unfolding zclo_invar_def zclo_None_def zclo_α_def by auto
  
  lemma zclo_is_None_correct[simp]: "zclo_invar xs ⟹ zclo_is_None xs ⟷ is_None (zclo_α xs)"
    unfolding zclo_invar_def zclo_is_None_def zclo_α_def by auto


  lemma is_init_eq_zcl_aux_assn[sepref_gen_algo_rules]: "GEN_ALGO zclo_None (is_init_eq zcl_aux_assn)"
    unfolding zclo_None_def 
    by (rule is_init_eq_array_assn)
  
  lemma is_init'_zcl_aux_assn[sepref_gen_algo_rules]: "GEN_ALGO zclo_None (is_init' zcl_aux_assn)"  
    by (simp add: is_init_eq_imp_init'_GA is_init_eq_zcl_aux_assn)
    
      
  sepref_register zclo_is_None
  sepref_def zclo_is_None_impl is "RETURN o zclo_is_None" :: "zcl_aux_assn<span class="hidden">⇧</span><sup>k</sup> →<span class="hidden">⇩</span><sub>a</sub> bool1_assn" 
    unfolding zclo_is_None_def
    by sepref
    
  *)</span></span><span>    
    
    
    
    
  </span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Clause Database›</span></span></span><span>  
      
  </span><span class="comment1"><span>(* Now, we implement the clause database by a list of zclauses and its length *)</span></span><span>  
  
  </span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cdb|type"><span>cdb</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map|type"><span>⇀</span></a></span><span> </span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.dv_clause|type"><span>dv_clause</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cdb_aux|type"><span>cdb_aux</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.dv_clause|type"><span>dv_clause</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cdb_invar_def|fact"><span class="entity_def" id="Zero_Term.cdb_invar_def|thm"><span class="entity_def" id="Zero_Term.cdb_invar_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cdb_invar|const"><span>cdb_invar</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux|type"><span>cdb_aux</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cdb_invar</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span class="bound"><span>cl</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="bound"><span>cl</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>l</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="bound"><span>cl</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="bound"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cdb_aux_\&lt;alpha&gt;_def|fact"><span class="entity_def" id="Zero_Term.cdb_aux_\&lt;alpha&gt;_def|thm"><span class="entity_def" id="Zero_Term.cdb_aux_\&lt;alpha&gt;_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cdb_aux_\&lt;alpha&gt;|const"><span>cdb_aux_α</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux|type"><span>cdb_aux</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb|type"><span>cdb</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cdb_aux_α</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span class="bound"><span>cl</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="bound"><span>cl</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="bound"><span>cl</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth|const"><span>!</span></a></span><span class="bound"><span>i</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>"</span></span></span><span>
  
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cdb_aux_assn_def|fact"><span class="entity_def" id="Zero_Term.cdb_aux_assn_def|thm"><span class="entity_def" id="Zero_Term.cdb_aux_assn_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Zero_Term.cdb_aux_assn|const"><span>cdb_aux_assn</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.size_assn|const"><span>size_assn</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>×<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Proto_IICF_EOArray.html#Proto_IICF_EOArray.woarray_assn|const"><span>woarray_assn</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl.option_assn|const"><span>zcl.option_assn</span></a><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cdb_assn_def|fact"><span class="entity_def" id="Zero_Term.cdb_assn_def|thm"><span class="entity_def" id="Zero_Term.cdb_assn_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Zero_Term.cdb_assn|const"><span>cdb_assn</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hr_comp|const"><span>hr_comp</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_assn|const"><span>cdb_aux_assn</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.br|const"><span>br</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_\&lt;alpha&gt;|const"><span>cdb_aux_α</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_invar|const"><span>cdb_invar</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.fcomp_norm_unfold|attribute"><span class="operator"><span>fcomp_norm_unfold</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_assn_def|fact"><span>cdb_assn_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span>
    
        
    
  </span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Empty›</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cdb_empty_def|fact"><span class="entity_def" id="Zero_Term.cdb_empty_def|thm"><span class="entity_def" id="Zero_Term.cdb_empty_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cdb_empty|const"><span>cdb_empty</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb|type"><span>cdb</span></a></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cdb_empty</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.empty|const"><span>Map.empty</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cdb_fold_custom_empty|fact"><span class="entity_def" id="Zero_Term.cdb_fold_custom_empty|thm"><span>cdb_fold_custom_empty</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.empty|const"><span>Map.empty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_empty|const"><span>cdb_empty</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_empty_def|fact"><span>cdb_empty_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cdb_aux_empty_def|fact"><span class="entity_def" id="Zero_Term.cdb_aux_empty_def|thm"><span class="entity_def" id="Zero_Term.cdb_aux_empty_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cdb_aux_empty|const"><span>cdb_aux_empty</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux|type"><span>cdb_aux</span></a></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cdb_aux_empty</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.replicate|const"><span>replicate</span></a><span> </span><span class="numeral"><span>16</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cdb_aux_empty_refine|fact"><span class="entity_def" id="Zero_Term.cdb_aux_empty_refine|thm"><span>cdb_aux_empty_refine</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_empty|const"><span>cdb_aux_empty</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_empty|const"><span>cdb_empty</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.br|const"><span>br</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_\&lt;alpha&gt;|const"><span>cdb_aux_α</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_invar|const"><span>cdb_invar</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_empty_def|fact"><span>cdb_empty_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_empty_def|fact"><span>cdb_aux_empty_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_invar_def|fact"><span>cdb_invar_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_\&lt;alpha&gt;_def|fact"><span>cdb_aux_α_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_eq_iff|fact"><span>fun_eq_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth_Cons&apos;|fact"><span>nth_Cons'</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span class="main"><span>)</span></span><span>
  
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cdb_empty.itype|fact"><span class="entity_def" id="Zero_Term.cdb_empty.itype|thm"><span>sepref_register</span></span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_empty|const"><span>cdb_empty</span></a></span><span>
  </span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cdb_empty_impl|const"><span>cdb_empty_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Misc.html#Sepref_Misc.uncurry0|const"><span>uncurry0</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_empty|const"><span>cdb_aux_empty</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.unit_assn|const"><span>unit_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_assn|const"><span>cdb_aux_assn</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_empty_def|fact"><span>cdb_aux_empty_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_assn_def|fact"><span>cdb_aux_assn_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.annot_snat_const|method"><span class="operator"><span>annot_snat_const</span></span></a><span> </span><span class="quoted"><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.size_T|const"><span>size_T</span></a></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="LRAT_Sepref_Base.html#LRAT_Sepref_Base.woarray_fold_custom_replicate|fact"><span>woarray_fold_custom_replicate</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cdb_empty_impl.refine|fact"><span class="entity_def" id="Zero_Term.cdb_empty_impl_def|fact"><span class="entity_def" id="Zero_Term.cdb_empty_impl.refine_raw|fact"><span class="entity_def" id="Zero_Term.cdb_empty_impl.refine|thm"><span class="entity_def" id="Zero_Term.cdb_empty_impl_def|thm"><span class="entity_def" id="Zero_Term.cdb_empty_impl.refine_raw|thm"><span class="entity_def" id="Zero_Term.cdb_empty_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cdb_empty_hnr|fact"><span class="entity_def" id="Zero_Term.cdb_empty_hnr|thm"><span>cdb_empty_hnr</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_empty_impl.refine|fact"><span>cdb_empty_impl.refine</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.FCOMP|attribute"><span class="operator"><span>FCOMP</span></span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_empty_refine|fact"><span>cdb_aux_empty_refine</span></a><span class="main"><span>]</span></span><span>

    
    
  </span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Insert›</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cdb_insert_def|fact"><span class="entity_def" id="Zero_Term.cdb_insert_def|thm"><span class="entity_def" id="Zero_Term.cdb_insert_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cdb_insert|const"><span>cdb_insert</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.dv_clause|type"><span>dv_clause</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb|type"><span>cdb</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb|type"><span>cdb</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres|type"><span>nres</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cdb_insert</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cid</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cl</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cdb</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>cdb</span></span></span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>cid</span></span></span></span><span class="main"><span>↦</span></span><span class="free"><span class="bound"><span class="entity"><span>cl</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    
        
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cdb_aux_insert_def|fact"><span class="entity_def" id="Zero_Term.cdb_aux_insert_def|thm"><span class="entity_def" id="Zero_Term.cdb_aux_insert_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cdb_aux_insert|const"><span>cdb_aux_insert</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.dv_clause|type"><span>dv_clause</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux|type"><span>cdb_aux</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux|type"><span>cdb_aux</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres|type"><span>nres</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cdb_aux_insert</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span class="bound"><span>css</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
      </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSUME|const"><span>ASSUME</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="bound"><span>c</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
      </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="bound"><span>c</span></span><span class="main"><span>;</span></span><span>
      
      </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.dest_cid|const"><span>dest_cid</span></a><span> </span><span class="bound"><span>i</span></span><span class="main"><span>;</span></span><span>
      
      </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span class="bound"><span>css</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="LRAT_Sepref_Base.html#LRAT_Sepref_Base.wo_ensure_capacity|const"><span>wo_ensure_capacity</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span> </span><span class="bound"><span>l</span></span><span> </span><span class="bound"><span>css</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>;</span></span><span>
      
      </span><span class="main"><span>(</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>,</span></span><span class="bound"><span>css</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="LRAT_Sepref_Base.html#LRAT_Sepref_Base.mop_wo_exchange|const"><span>mop_wo_exchange</span></a><span> </span><span class="bound"><span>css</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>;</span></span><span>
      
      </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span class="bound"><span>css</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cdb_aux_insert_refine|fact"><span class="entity_def" id="Zero_Term.cdb_aux_insert_refine|thm"><span>cdb_aux_insert_refine</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_insert|const"><span>cdb_aux_insert</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_insert|const"><span>cdb_insert</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.nat_rel|const"><span>nat_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.br|const"><span>br</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_\&lt;alpha&gt;|const"><span>cdb_aux_α</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_invar|const"><span>cdb_invar</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><span class="main"><span>⟨</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.br|const"><span>br</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_\&lt;alpha&gt;|const"><span>cdb_aux_α</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_invar|const"><span>cdb_invar</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres_rel|const"><span>nres_rel</span></a><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_insert_def|fact"><span>cdb_aux_insert_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_invar_def|fact"><span>cdb_invar_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_\&lt;alpha&gt;_def|fact"><span>cdb_aux_α_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.br_def|fact"><span>br_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.in_set_conv_nth|fact"><span>in_set_conv_nth</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth_list_update|fact"><span>nth_list_update</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.in_set_upd_cases|fact"><span>in_set_upd_cases</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan_iff|fact"><span>atLeastLessThan_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.linorder_class.leI|fact"><span>leI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.simps|fact"><span>option.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.canonically_ordered_monoid_add_class.zero_order|fact"><span>zero_order</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cdb_insert.mcomb|fact"><span class="entity_def" id="Zero_Term.cdb_insert.arity|fact"><span class="entity_def" id="Zero_Term.cdb_insert.itype|fact"><span class="entity_def" id="Zero_Term.cdb_insert.mcomb|thm"><span class="entity_def" id="Zero_Term.cdb_insert.arity|thm"><span class="entity_def" id="Zero_Term.cdb_insert.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_insert|const"><span>cdb_insert</span></a></span><span> 
    
  </span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cdb_insert_impl|const"><span>cdb_insert_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Misc.html#Sepref_Misc.uncurry2|const"><span>uncurry2</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_insert|const"><span>cdb_aux_insert</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.cid_assn|const"><span>cid_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_assn|const"><span>zcl_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_assn|const"><span>cdb_aux_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_assn|const"><span>cdb_aux_assn</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_insert_def|fact"><span>cdb_aux_insert_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_assn_def|fact"><span>cdb_aux_assn_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cdb_insert_impl.refine|fact"><span class="entity_def" id="Zero_Term.cdb_insert_impl_def|fact"><span class="entity_def" id="Zero_Term.cdb_insert_impl.refine_raw|fact"><span class="entity_def" id="Zero_Term.cdb_insert_impl.refine|thm"><span class="entity_def" id="Zero_Term.cdb_insert_impl_def|thm"><span class="entity_def" id="Zero_Term.cdb_insert_impl.refine_raw|thm"><span class="entity_def" id="Zero_Term.cdb_insert_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
    
  
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cdb_insert_hnr|fact"><span class="entity_def" id="Zero_Term.cdb_insert_hnr|thm"><span>cdb_insert_hnr</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_insert_impl.refine|fact"><span>cdb_insert_impl.refine</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.FCOMP|attribute"><span class="operator"><span>FCOMP</span></span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_insert_refine|fact"><span>cdb_aux_insert_refine</span></a><span class="main"><span>]</span></span><span>
      
  </span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Delete›</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cdb_delete_def|fact"><span class="entity_def" id="Zero_Term.cdb_delete_def|thm"><span class="entity_def" id="Zero_Term.cdb_delete_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cdb_delete|const"><span>cdb_delete</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb|type"><span>cdb</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb|type"><span>cdb</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres|type"><span>nres</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cdb_delete</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cid</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cdb</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>cdb</span></span></span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>cid</span></span></span></span><span class="main"><span>:=</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cdb_aux_delete_def|fact"><span class="entity_def" id="Zero_Term.cdb_aux_delete_def|thm"><span class="entity_def" id="Zero_Term.cdb_aux_delete_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cdb_aux_delete|const"><span>cdb_aux_delete</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux|type"><span>cdb_aux</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux|type"><span>cdb_aux</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres|type"><span>nres</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cdb_aux_delete</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>λ</span></span><span class="bound"><span>cid</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span class="bound"><span>css</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
      </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>cid</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.dest_cid|const"><span>dest_cid</span></a><span> </span><span class="bound"><span>cid</span></span><span class="main"><span>;</span></span><span>
      
      </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>cid</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span class="bound"><span>l</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
        </span><span class="main"><span>(</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>,</span></span><span class="bound"><span>css</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="LRAT_Sepref_Base.html#LRAT_Sepref_Base.mop_wo_exchange|const"><span>mop_wo_exchange</span></a><span> </span><span class="bound"><span>css</span></span><span> </span><span class="bound"><span>cid</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>;</span></span><span>
        </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span class="bound"><span>css</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>}</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span>
        </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span class="bound"><span>css</span></span><span class="main"><span>)</span></span><span>
    
    </span><span class="main"><span>}</span></span><span>"</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cdb_aux_delete_refine|fact"><span class="entity_def" id="Zero_Term.cdb_aux_delete_refine|thm"><span>cdb_aux_delete_refine</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_delete|const"><span>cdb_aux_delete</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_delete|const"><span>cdb_delete</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.nat_rel|const"><span>nat_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.br|const"><span>br</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_\&lt;alpha&gt;|const"><span>cdb_aux_α</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_invar|const"><span>cdb_invar</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><span class="main"><span>⟨</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.br|const"><span>br</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_\&lt;alpha&gt;|const"><span>cdb_aux_α</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_invar|const"><span>cdb_invar</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres_rel|const"><span>nres_rel</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_delete_def|fact"><span>cdb_aux_delete_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_delete_def|fact"><span>cdb_delete_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_invar_def|fact"><span>cdb_invar_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_\&lt;alpha&gt;_def|fact"><span>cdb_aux_α_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.br_def|fact"><span>br_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.in_set_upd_cases|fact"><span>in_set_upd_cases</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cdb_delete.mcomb|fact"><span class="entity_def" id="Zero_Term.cdb_delete.arity|fact"><span class="entity_def" id="Zero_Term.cdb_delete.itype|fact"><span class="entity_def" id="Zero_Term.cdb_delete.mcomb|thm"><span class="entity_def" id="Zero_Term.cdb_delete.arity|thm"><span class="entity_def" id="Zero_Term.cdb_delete.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_delete|const"><span>cdb_delete</span></a></span><span>
    
  </span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cdb_delete_impl|const"><span>cdb_delete_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_delete|const"><span>cdb_aux_delete</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.cid_assn|const"><span>cid_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_assn|const"><span>cdb_aux_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_assn|const"><span>cdb_aux_assn</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_delete_def|fact"><span>cdb_aux_delete_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_assn_def|fact"><span>cdb_aux_assn_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cdb_delete_impl.refine|fact"><span class="entity_def" id="Zero_Term.cdb_delete_impl_def|fact"><span class="entity_def" id="Zero_Term.cdb_delete_impl.refine_raw|fact"><span class="entity_def" id="Zero_Term.cdb_delete_impl.refine|thm"><span class="entity_def" id="Zero_Term.cdb_delete_impl_def|thm"><span class="entity_def" id="Zero_Term.cdb_delete_impl.refine_raw|thm"><span class="entity_def" id="Zero_Term.cdb_delete_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cdb_delete_hnr|fact"><span class="entity_def" id="Zero_Term.cdb_delete_hnr|thm"><span>cdb_delete_hnr</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_delete_impl.refine|fact"><span>cdb_delete_impl.refine</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.FCOMP|attribute"><span class="operator"><span>FCOMP</span></span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_delete_refine|fact"><span>cdb_aux_delete_refine</span></a><span class="main"><span>]</span></span><span>
      
  
  </span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Contains›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cdb_contains_def|fact"><span class="entity_def" id="Zero_Term.cdb_contains_def|thm"><span class="entity_def" id="Zero_Term.cdb_contains_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cdb_contains|const"><span>cdb_contains</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb|type"><span>cdb</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres|type"><span>nres</span></a><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cdb_contains</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cid</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cdb</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>cid</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>cdb</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cdb_aux_contains_def|fact"><span class="entity_def" id="Zero_Term.cdb_aux_contains_def|thm"><span class="entity_def" id="Zero_Term.cdb_aux_contains_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cdb_aux_contains|const"><span>cdb_aux_contains</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux|type"><span>cdb_aux</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres|type"><span>nres</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cdb_aux_contains</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span class="bound"><span>css</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
    </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.dest_cid|const"><span>dest_cid</span></a><span> </span><span class="bound"><span>i</span></span><span class="main"><span>;</span></span><span>
    </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span class="bound"><span>l</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
      </span><span class="bound"><span>css'</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Proto_IICF_EOArray.html#Proto_IICF_EOArray.mop_to_eo_conv|const"><span>mop_to_eo_conv</span></a><span> </span><span class="bound"><span>css</span></span><span class="main"><span>;</span></span><span>
      </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="LRAT_Sepref_Base.html#LRAT_Sepref_Base.eo_with|const"><span>eo_with</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>cs</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Bindings_HOL.html#Autoref_Bindings_HOL.is_None|const"><span>is_None</span></a><span> </span><span class="bound"><span>cs</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>css'</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>;</span></span><span>
      </span><span class="bound"><span>css'</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Proto_IICF_EOArray.html#Proto_IICF_EOArray.mop_to_wo_conv|const"><span>mop_to_wo_conv</span></a><span> </span><span class="bound"><span>css'</span></span><span class="main"><span>;</span></span><span>
      </span><a class="entity_ref" href="../Isabelle_LLVM/Proto_Sepref_Borrow.html#Proto_Sepref_Borrow.unborrow|const"><span>unborrow</span></a><span> </span><span class="bound"><span>css'</span></span><span> </span><span class="bound"><span>css</span></span><span class="main"><span>;</span></span><span>
      </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="bound"><span>r</span></span><span>
    </span><span class="main"><span>}</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span>
  </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cdb_aux_contains_refine|fact"><span class="entity_def" id="Zero_Term.cdb_aux_contains_refine|thm"><span>cdb_aux_contains_refine</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_contains|const"><span>cdb_aux_contains</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_contains|const"><span>cdb_contains</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.nat_rel|const"><span>nat_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.br|const"><span>br</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_\&lt;alpha&gt;|const"><span>cdb_aux_α</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_invar|const"><span>cdb_invar</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><span class="main"><span>⟨</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.bool_rel|const"><span>bool_rel</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres_rel|const"><span>nres_rel</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_contains_def|fact"><span>cdb_aux_contains_def</span></a><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Proto_IICF_EOArray.html#Proto_IICF_EOArray.mop_to_eo_conv_def|fact"><span>mop_to_eo_conv_def</span></a><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Proto_IICF_EOArray.html#Proto_IICF_EOArray.mop_to_wo_conv_def|fact"><span>mop_to_wo_conv_def</span></a><span> </span><a class="entity_ref" href="LRAT_Sepref_Base.html#LRAT_Sepref_Base.eo_with_def|fact"><span>eo_with_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_relI|fact"><span>fun_relI</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres_relI|fact"><span>nres_relI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_invar_def|fact"><span>cdb_invar_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_\&lt;alpha&gt;_def|fact"><span>cdb_aux_α_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.br_def|fact"><span>br_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cdb_contains.mcomb|fact"><span class="entity_def" id="Zero_Term.cdb_contains.arity|fact"><span class="entity_def" id="Zero_Term.cdb_contains.itype|fact"><span class="entity_def" id="Zero_Term.cdb_contains.mcomb|thm"><span class="entity_def" id="Zero_Term.cdb_contains.arity|thm"><span class="entity_def" id="Zero_Term.cdb_contains.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_contains|const"><span>cdb_contains</span></a></span><span>
  
  </span><span class="keyword1"><span class="command"><span>sepref_def</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cdb_contains_impl|const"><span>cdb_contains_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_contains|const"><span>cdb_aux_contains</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.cid_assn|const"><span>cid_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_assn|const"><span>cdb_aux_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_contains_def|fact"><span>cdb_aux_contains_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_assn_def|fact"><span>cdb_aux_assn_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cdb_contains_impl.refine|fact"><span class="entity_def" id="Zero_Term.cdb_contains_impl_def|fact"><span class="entity_def" id="Zero_Term.cdb_contains_impl.refine_raw|fact"><span class="entity_def" id="Zero_Term.cdb_contains_impl.refine|thm"><span class="entity_def" id="Zero_Term.cdb_contains_impl_def|thm"><span class="entity_def" id="Zero_Term.cdb_contains_impl.refine_raw|thm"><span class="entity_def" id="Zero_Term.cdb_contains_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cdb_contains_hnr|fact"><span class="entity_def" id="Zero_Term.cdb_contains_hnr|thm"><span>cdb_contains_hnr</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_contains_impl.refine|fact"><span>cdb_contains_impl.refine</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.FCOMP|attribute"><span class="operator"><span>FCOMP</span></span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_contains_refine|fact"><span>cdb_aux_contains_refine</span></a><span class="main"><span>]</span></span><span>
  
    
  </span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Free›</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cdb_free_def|fact"><span class="entity_def" id="Zero_Term.cdb_free_def|thm"><span class="entity_def" id="Zero_Term.cdb_free_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Zero_Term.cdb_free|const"><span>cdb_free</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>λ</span></span><span class="bound"><span>cdb</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_invar|const"><span>cdb_invar</span></a><span> </span><span class="bound"><span>cdb</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span> </span><span class="keyword1"><span>let</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span class="bound"><span>css</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>cdb</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="LRAT_Sepref_Base.html#LRAT_Sepref_Base.mop_woarray_free|const"><span>mop_woarray_free</span></a><span> </span><span class="bound"><span>l</span></span><span> </span><span class="bound"><span>css</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cdb_free_refine|fact"><span class="entity_def" id="Zero_Term.cdb_free_refine|thm"><span>cdb_free_refine</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_free|const"><span>cdb_free</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Translate.html#Sepref_Translate.mop_free|const"><span>mop_free</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.br|const"><span>br</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_\&lt;alpha&gt;|const"><span>cdb_aux_α</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_invar|const"><span>cdb_invar</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><span class="main"><span>⟨</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.unit_rel|const"><span>unit_rel</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres_rel|const"><span>nres_rel</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_free_def|fact"><span>cdb_free_def</span></a><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Translate.html#Sepref_Translate.mop_free_def|fact"><span>mop_free_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.br_def|fact"><span>br_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_invar_def|fact"><span>cdb_invar_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    
    
  </span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cdb_free_impl|const"><span>cdb_free_impl</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_code|attribute"><span class="operator"><span>llvm_code</span></span></a><span class="main"><span>]</span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_free|const"><span>cdb_free</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_assn|const"><span>cdb_aux_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.unit_assn|const"><span>unit_assn</span></a><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_assn_def|fact"><span>cdb_aux_assn_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_free_def|fact"><span>cdb_free_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cdb_free_impl.refine|fact"><span class="entity_def" id="Zero_Term.cdb_free_impl_def|fact"><span class="entity_def" id="Zero_Term.cdb_free_impl.refine_raw|fact"><span class="entity_def" id="Zero_Term.cdb_free_impl.refine|thm"><span class="entity_def" id="Zero_Term.cdb_free_impl_def|thm"><span class="entity_def" id="Zero_Term.cdb_free_impl.refine_raw|thm"><span class="entity_def" id="Zero_Term.cdb_free_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Zero_Term.cdb_assn_free|fact"><span class="entity_def" id="Zero_Term.cdb_assn_free|thm"><span>cdb_assn_free</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Frame.html#Sepref_Frame.sepref_frame_free_rules|attribute"><span class="operator"><span>sepref_frame_free_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.MK_FREE_mopI|fact"><span>MK_FREE_mopI</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_free_impl.refine|fact"><span>cdb_free_impl.refine</span></a><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.FCOMP|attribute"><span class="operator"><span>FCOMP</span></span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_free_refine|fact"><span>cdb_free_refine</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
    

  </span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Iteration over Clause›</span></span></span><span>    

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.clause_iteration_setup.intro|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup_def|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.intro|thm"><span class="entity_def" id="Zero_Term.clause_iteration_setup_def|thm"><span class="entity_def" id="Zero_Term.clause_iteration_setup_def|axiom"><span>locale</span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Zero_Term.clause_iteration_setup|locale"><span class="entity_def" id="Zero_Term.clause_iteration_setup|const"><span class="entity_def" id="offset_25877..25899">clause_iteration_setup</span></span></span><span> </span><span class="main"><span>=</span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>ci</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'pi</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Isabelle_LLVM/LLVM_Shallow.html#LLVM_Shallow.llvm_rep|class"><span>llvm_rep</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'si</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Isabelle_LLVM/LLVM_Shallow.html#LLVM_Shallow.llvm_rep|class"><span>llvm_rep</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>1</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Simple_Memory.html#Simple_Memory.llM|type"><span>llM</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'p</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'s</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>fi</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'pi</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.lit_size_t|type"><span>lit_size_t</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'si</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'si</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Simple_Memory.html#Simple_Memory.llM|type"><span>llM</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'p</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.dv_lit|type"><span>dv_lit</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'s</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'s</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres|type"><span>nres</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'p</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'pi</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Basic.html#Sepref_Basic.assn|type"><span>assn</span></a><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'s</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'si</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Basic.html#Sepref_Basic.assn|type"><span>assn</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="Zero_Term.clause_iteration_setup.cond_refine|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cond_refine|thm"><span class="entity_def" id="offset_26167..26178">cond_refine</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="free"><span>ci</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>oo</span></a></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>P</span></span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="free"><span>S</span></span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="Zero_Term.clause_iteration_setup.body_refine|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.body_refine|thm"><span class="entity_def" id="offset_26256..26267">body_refine</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Misc.html#Sepref_Misc.uncurry2|const"><span>uncurry2</span></a><span> </span><span class="free"><span>fi</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Misc.html#Sepref_Misc.uncurry2|const"><span>uncurry2</span></a><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>P</span></span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Unsigned_Literal.html#Unsigned_Literal.ulit_assn|const"><span>ulit_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="free"><span>S</span></span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
  
    </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Zero_Term.clause_iteration_setup.cb_refines|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cb_refines(2)|thm"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cb_refines(1)|thm"><span class="entity_def" id="offset_26352..26362">cb_refines</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#offset_26167..26178"><span>cond_refine</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#offset_26256..26267"><span>body_refine</span></a><span>
  
  
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.clause_iteration_setup.zcl_fold_aux2_def|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.zcl_fold_aux2_def|thm"><span class="entity_def" id="Zero_Term.clause_iteration_setup.zcl_fold_aux2_def_raw|axiom"><span class="entity_def" id="offset_26399..26409">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Zero_Term.clause_iteration_setup.zcl_fold_aux2.cong|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.zcl_fold_aux2.cong|thm"><span class="entity_def" id="Zero_Term.clause_iteration_setup.zcl_fold_aux2|const"><span class="entity_def" id="offset_26411..26424">zcl_fold_aux2</span></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold|const"><span>zcl_fold</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.clause_iteration_setup.foreach_lit_in_clause_def|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.foreach_lit_in_clause_def|thm"><span class="entity_def" id="Zero_Term.clause_iteration_setup.foreach_lit_in_clause_def_raw|axiom"><span class="entity_def" id="offset_26465..26475">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Zero_Term.clause_iteration_setup.foreach_lit_in_clause.cong|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.foreach_lit_in_clause.cong|thm"><span class="entity_def" id="Zero_Term.clause_iteration_setup.foreach_lit_in_clause|const"><span class="entity_def" id="offset_26477..26498">foreach_lit_in_clause</span></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cl</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Foreach.html#Refine_Foreach.FOREACHcd|const"><span>FOREACHcd</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>cl</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span>"</span></span></span><span>
    
    </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.clause_iteration_setup.zcl_fold_aux2_refine|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.zcl_fold_aux2_refine|thm"><span class="entity_def" id="offset_26551..26571">zcl_fold_aux2_refine</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Zero_Term.html#offset_26411..26424"><span>zcl_fold_aux2</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#offset_26477..26498"><span>foreach_lit_in_clause</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.br|const"><span>br</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_\&lt;alpha&gt;|const"><span>zcl_α</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_invar|const"><span>zcl_invar</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><span class="main"><span>⟨</span></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres_rel|const"><span>nres_rel</span></a><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_relI|fact"><span>fun_relI</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres_relI|fact"><span>nres_relI</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> xs cl p s 
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#offset_26399..26409"><span>zcl_fold_aux2_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#offset_26465..26475"><span>foreach_lit_in_clause_def</span></a><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.preorder_class.order_trans|fact"><span>order_trans</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold_foreach_refine|fact"><span>zcl_fold_foreach_refine</span></a><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>xs</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>cl</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>c</span></span><span> </span><span class="skolem"><span>p</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>c</span></span><span> </span><span class="skolem"><span>p</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>p</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>p</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>  
    
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.clause_iteration_setup.foreach_lit_in_clause.mcomb|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.foreach_lit_in_clause.arity|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.foreach_lit_in_clause.itype|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.foreach_lit_in_clause.pat|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.foreach_lit_in_clause.mcomb|thm"><span class="entity_def" id="Zero_Term.clause_iteration_setup.foreach_lit_in_clause.arity|thm"><span class="entity_def" id="Zero_Term.clause_iteration_setup.foreach_lit_in_clause.itype|thm"><span class="entity_def" id="Zero_Term.clause_iteration_setup.foreach_lit_in_clause.pat|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#offset_26477..26498"><span>foreach_lit_in_clause</span></a></span><span>  
    
  
    </span><span class="keyword1"><span class="command"><span>context</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>notes</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#offset_26352..26362"><span>cb_refines</span></a><span>
      </span><span class="keyword2"><span class="keyword"><span>notes</span></span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Combinator_Setup.html#Sepref_Combinator_Setup.sepref_register_adhoc|attribute"><span class="operator"><span>sepref_register_adhoc</span></span></a><span> </span><span class="quoted"><span class="free"><span>c</span></span></span><span> </span><span class="quoted"><span class="free"><span>f</span></span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
    
    </span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.clause_iteration_setup.zcl_fold_impl_aux.cong|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.zcl_fold_impl_aux.cong|thm"><span class="entity_def" id="Zero_Term.clause_iteration_setup.zcl_fold_impl_aux|const"><span>zcl_fold_impl_aux</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Misc.html#Sepref_Misc.uncurry2|const"><span>uncurry2</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#offset_26411..26424"><span>zcl_fold_aux2</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_aux_assn|const"><span>zcl_aux_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="free"><span>P</span></span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="free"><span>S</span></span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#offset_26399..26409"><span>zcl_fold_aux2_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold_def|fact"><span>zcl_fold_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold_aux_def|fact"><span>zcl_fold_aux_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.annot_snat_const|method"><span class="operator"><span>annot_snat_const</span></span></a><span> </span><span class="quoted"><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.size_T|const"><span>size_T</span></a></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.clause_iteration_setup.zcl_fold_impl_aux.refine|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.zcl_fold_impl_aux_def|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.zcl_fold_impl_aux.refine_raw|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.zcl_fold_impl_aux.refine|thm"><span class="entity_def" id="Zero_Term.clause_iteration_setup.zcl_fold_impl_aux_def|thm"><span class="entity_def" id="Zero_Term.clause_iteration_setup.zcl_fold_impl_aux.refine_raw|thm"><span class="entity_def" id="Zero_Term.clause_iteration_setup.zcl_fold_impl_aux_def_raw|axiom"><span class="entity_def" id="offset_27343..27345">by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
    
    </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
      
    </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Zero_Term.clause_iteration_setup.zcl_fold_impl_aux_hnr|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.zcl_fold_impl_aux_hnr|thm"><span class="entity_def" id="offset_27384..27405">zcl_fold_impl_aux_hnr</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#offset_27343..27345"><span>zcl_fold_impl_aux.refine</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.FCOMP|attribute"><span class="operator"><span>FCOMP</span></span></a><span> </span><a class="entity_ref" href="Zero_Term.html#offset_26551..26571"><span>zcl_fold_aux2_refine</span></a><span class="main"><span>]</span></span><span>
  
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.zcl_fold_impl.refine|fact"><span class="entity_def" id="Zero_Term.zcl_fold_impl_def|fact"><span class="entity_def" id="Zero_Term.zcl_fold_impl.refine|thm"><span class="entity_def" id="Zero_Term.zcl_fold_impl_def|thm"><span class="entity_def" id="Zero_Term.zcl_fold_impl_def_raw|axiom"><span class="entity_def" id="offset_27468..27487">concrete_definition</span></span></span></span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> -</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.zcl_fold_impl|const"><span>zcl_fold_impl</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_code|attribute"><span class="operator"><span>llvm_code</span></span></a><span class="main"><span>]</span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.clause_iteration_setup.zcl_fold_impl_aux_def|fact"><span>clause_iteration_setup.zcl_fold_impl_aux_def</span></a><span>
    
    </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.clause_iteration_setup.foreach_lit_in_clause_hnr|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.foreach_lit_in_clause_hnr|thm"><span>foreach_lit_in_clause_hnr</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Misc.html#Sepref_Misc.uncurry2|const"><span>uncurry2</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold_impl|const"><span>zcl_fold_impl</span></a><span> </span><span class="free"><span>ci</span></span><span> </span><span class="free"><span>fi</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Misc.html#Sepref_Misc.uncurry2|const"><span>uncurry2</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#offset_26477..26498"><span>foreach_lit_in_clause</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_assn|const"><span>zcl_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="free"><span>P</span></span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="free"><span>S</span></span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#offset_27384..27405"><span>zcl_fold_impl_aux_hnr</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold_impl.refine|fact"><span>zcl_fold_impl.refine</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#offset_25877..25899"><span>clause_iteration_setup_axioms</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
    
    
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause_def|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause_def|thm"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause_def_raw|axiom"><span class="entity_def" id="offset_27862..27872">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause.cong|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause.cong|thm"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause|const"><span class="entity_def" id="offset_27873..27891">cdb_iterate_clause</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb|type"><span>cdb</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'p</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'s</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'s</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres|type"><span>nres</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cdb_iterate_clause</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>db</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
      </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>db</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
      </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSUME|const"><span>ASSUME</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>db</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
      </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Foreach.html#Refine_Foreach.FOREACHcd|const"><span>FOREACHcd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>db</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span>
    </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
      
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause_aux_def|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause_aux_def|thm"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause_aux_def_raw|axiom"><span class="entity_def" id="offset_28096..28106">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause_aux.cong|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause_aux.cong|thm"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause_aux|const"><span class="entity_def" id="offset_28107..28129">cdb_iterate_clause_aux</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux|type"><span>cdb_aux</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'p</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'s</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'s</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres|type"><span>nres</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cdb_iterate_clause_aux</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span class="bound"><span>css</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
      </span><span class="bound"><span>css'</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Proto_IICF_EOArray.html#Proto_IICF_EOArray.mop_to_eo_conv|const"><span>mop_to_eo_conv</span></a><span> </span><span class="bound"><span>css</span></span><span class="main"><span>;</span></span><span>
    
      </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.dest_cid|const"><span>dest_cid</span></a><span> </span><span class="bound"><span>i</span></span><span class="main"><span>;</span></span><span>
      
      </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="LRAT_Sepref_Base.html#LRAT_Sepref_Base.eo_with|const"><span>eo_with</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>cl</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
        </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>cl</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
        </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>cl'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="bound"><span>cl</span></span><span class="main"><span>;</span></span><span>
        </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#offset_26477..26498"><span>foreach_lit_in_clause</span></a><span> </span><span class="bound"><span>cl'</span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>;</span></span><span>
        </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>cl'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="bound"><span>cl'</span></span><span class="main"><span>;</span></span><span>
        </span><span class="keyword1"><span>let</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="LRAT_Sepref_Base.html#LRAT_Sepref_Base.unborrow&apos;|const"><span>unborrow'</span></a><span> </span><span class="bound"><span>cl'</span></span><span> </span><span class="bound"><span>cl</span></span><span class="main"><span>;</span></span><span>
        </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="bound"><span>r</span></span><span>
      </span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>css'</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>;</span></span><span>
      
      </span><span class="bound"><span>css'</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Proto_IICF_EOArray.html#Proto_IICF_EOArray.mop_to_wo_conv|const"><span>mop_to_wo_conv</span></a><span> </span><span class="bound"><span>css'</span></span><span class="main"><span>;</span></span><span>
    
      </span><a class="entity_ref" href="../Isabelle_LLVM/Proto_Sepref_Borrow.html#Proto_Sepref_Borrow.unborrow|const"><span>unborrow</span></a><span> </span><span class="bound"><span>css'</span></span><span> </span><span class="bound"><span>css</span></span><span class="main"><span>;</span></span><span>
      
      </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="bound"><span>r</span></span><span>
    </span><span class="main"><span>}</span></span><span>"</span></span></span><span>  
    
    
    </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause_aux_refine|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause_aux_refine|thm"><span class="entity_def" id="offset_28641..28670">cdb_iterate_clause_aux_refine</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Zero_Term.html#offset_28107..28129"><span>cdb_iterate_clause_aux</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#offset_27873..27891"><span>cdb_iterate_clause</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.br|const"><span>br</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_\&lt;alpha&gt;|const"><span>cdb_aux_α</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_invar|const"><span>cdb_invar</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><span class="main"><span>⟨</span></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres_rel|const"><span>nres_rel</span></a><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#offset_27862..27872"><span>cdb_iterate_clause_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#offset_28096..28106"><span>cdb_iterate_clause_aux_def</span></a><span> </span><a class="entity_ref" href="LRAT_Sepref_Base.html#LRAT_Sepref_Base.eo_with_def|fact"><span>eo_with_def</span></a><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Proto_Sepref_Borrow.html#Proto_Sepref_Borrow.unborrow_def|fact"><span>unborrow_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#offset_27468..27487"><span>foreach_lit_in_clause_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_rcg|method"><span class="operator"><span>refine_rcg</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_\&lt;alpha&gt;_def|fact"><span>cdb_aux_α_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_invar_def|fact"><span>cdb_invar_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.br_def|fact"><span>br_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 3 </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.in_set_conv_nth|fact"><span>in_set_conv_nth</span></a><span class="main"><span>)</span></span><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>
      
    
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause.mcomb|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause.arity|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause.itype|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause.pat|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause.mcomb|thm"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause.arity|thm"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause.itype|thm"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause.pat|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#offset_27873..27891"><span>cdb_iterate_clause</span></a></span><span>
    
    </span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause_aux_impl.cong|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause_aux_impl.cong|thm"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause_aux_impl|const"><span>cdb_iterate_clause_aux_impl</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Misc.html#Sepref_Misc.uncurry3|const"><span>uncurry3</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#offset_28107..28129"><span>cdb_iterate_clause_aux</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_assn|const"><span>cdb_aux_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.cid_assn|const"><span>cid_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="free"><span>P</span></span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="free"><span>S</span></span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#offset_28096..28106"><span>cdb_iterate_clause_aux_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_aux_assn_def|fact"><span>cdb_aux_assn_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause_aux_impl.refine|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause_aux_impl_def|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause_aux_impl.refine_raw|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause_aux_impl.refine|thm"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause_aux_impl_def|thm"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause_aux_impl.refine_raw|thm"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause_aux_impl_def_raw|axiom"><span class="entity_def" id="offset_29335..29337">by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
        
        
    </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause_aux_hnr|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause_aux_hnr|thm"><span class="entity_def" id="offset_29374..29400">cdb_iterate_clause_aux_hnr</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#offset_29335..29337"><span>cdb_iterate_clause_aux_impl.refine</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.FCOMP|attribute"><span class="operator"><span>FCOMP</span></span></a><span> </span><a class="entity_ref" href="Zero_Term.html#offset_28641..28670"><span>cdb_iterate_clause_aux_refine</span></a><span class="main"><span>]</span></span><span>
        
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Zero_Term.cdb_iterate_clause_impl.refine|fact"><span class="entity_def" id="Zero_Term.cdb_iterate_clause_impl_def|fact"><span class="entity_def" id="Zero_Term.cdb_iterate_clause_impl.refine|thm"><span class="entity_def" id="Zero_Term.cdb_iterate_clause_impl_def|thm"><span class="entity_def" id="Zero_Term.cdb_iterate_clause_impl_def_raw|axiom"><span>concrete_definition</span></span></span></span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> -</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="Zero_Term.cdb_iterate_clause_impl|const"><span>cdb_iterate_clause_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.clause_iteration_setup.cdb_iterate_clause_aux_impl_def|fact"><span>clause_iteration_setup.cdb_iterate_clause_aux_impl_def</span></a><span>
  
    </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> -</span><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="Zero_Term.cdb_iterate_clause_impl_code|fact"><span class="entity_def" id="Zero_Term.cdb_iterate_clause_impl_code|thm"><span>cdb_iterate_clause_impl_code</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_code|attribute"><span class="operator"><span>llvm_code</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_iterate_clause_impl_def|fact"><span>cdb_iterate_clause_impl_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="LRAT_Sepref_Base.html#LRAT_Sepref_Base.eo_with_impl_def|fact"><span>eo_with_impl_def</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.zcl_fold_impl_def|fact"><span>zcl_fold_impl_def</span></a><span class="main"><span>]</span></span><span>  
      
    </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause_hnr|fact"><span class="entity_def" id="Zero_Term.clause_iteration_setup.cdb_iterate_clause_hnr|thm"><span>cdb_iterate_clause_hnr</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
      </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Misc.html#Sepref_Misc.uncurry3|const"><span>uncurry3</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_iterate_clause_impl|const"><span>cdb_iterate_clause_impl</span></a><span> </span><span class="free"><span>ci</span></span><span> </span><span class="free"><span>fi</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Misc.html#Sepref_Misc.uncurry3|const"><span>uncurry3</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><a class="entity_ref" href="Zero_Term.html#offset_27873..27891"><span>cdb_iterate_clause</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_assn|const"><span>cdb_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sizes_Setup.html#Sizes_Setup.cid_assn|const"><span>cid_assn</span></a><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="free"><span>P</span></span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="free"><span>S</span></span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#offset_29374..29400"><span>cdb_iterate_clause_aux_hnr</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_iterate_clause_impl.refine|fact"><span>cdb_iterate_clause_impl.refine</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Zero_Term.html#offset_25877..25899"><span>clause_iteration_setup_axioms</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
    
     
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Interface›</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>typ</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb|type"><span>cdb</span></a></span><span>  
</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_assn|const"><span>cdb_assn</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_empty|const"><span>cdb_empty</span></a></span><span> </span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_empty_hnr|fact"><span>cdb_empty_hnr</span></a><span> </span><span class="comment1"><span>(* map empty *)</span></span><span>

</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_insert|const"><span>cdb_insert</span></a></span><span> </span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_insert_hnr|fact"><span>cdb_insert_hnr</span></a><span>  </span><span class="comment1"><span>(* map update. clause moved into map. *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_delete|const"><span>cdb_delete</span></a></span><span> </span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_delete_hnr|fact"><span>cdb_delete_hnr</span></a><span> </span><span class="comment1"><span>(* delete clause *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_contains|const"><span>cdb_contains</span></a></span><span> </span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.cdb_contains_hnr|fact"><span>cdb_contains_hnr</span></a><span> </span><span class="comment1"><span>(* map contains key *)</span></span><span>

</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Zero_Term.html#Zero_Term.clause_iteration_setup.cdb_iterate_clause|const"><span>clause_iteration_setup.cdb_iterate_clause</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.clause_iteration_setup.cdb_iterate_clause_def|fact"><span>clause_iteration_setup.cdb_iterate_clause_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Zero_Term.html#Zero_Term.clause_iteration_setup.cdb_iterate_clause_hnr|fact"><span>clause_iteration_setup.cdb_iterate_clause_hnr</span></a><span>

  
</span><span class="comment1"><span>(*  
oops  
  
ctd here:
  clean up!

    we just defined more abstract clause and clause-db operations. 
    Also a locale to instantiate iterations.
    
    Now go for it, and replace in checker
    
    
      
    → we need check_empty_clause? (we can use cbld_is_empty)
    
    No, the literals are added to builder first. At the same time when assignment is set!
    Only after proof is completed, the clause is transferred from builder to clause database.
    → At this point, we can easily check for empty in buffer!
      cbld_is_empty!
  
  
*)</span></span><span>  
  


</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre>
</body>

</html>