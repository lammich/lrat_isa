<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Ndet_Parser_Monad</title>
</head>


<body>
<div class="head">
<h1>Theory Ndet_Parser_Monad</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="Ndet_Parser_Monad.html"><span>Ndet_Parser_Monad</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="../Isabelle_LLVM/IICF.html"><span>Isabelle_LLVM.IICF</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

  </span><span class="comment1"><span>(* TODO: Move *)</span></span><span>  
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.disjointD|fact"><span class="entity_def" id="Ndet_Parser_Monad.disjointD|thm"><span>disjointD</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.disjoint_iff|fact"><span>disjoint_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>rule_format</span></span><span class="main"><span>]</span></span><span>

  </span><span class="comment1"><span>(* TODO: Move *)</span></span><span>  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct.elims|fact"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct.induct|fact"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct.simps|fact"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct.pelims|fact"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct.cases|fact"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct.termination|fact"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct.pinduct|fact"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct.psimps|fact"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct_rel.inducts|fact"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct_rel.simps|fact"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct_rel.induct|fact"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct_rel.cases|fact"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct_rel.intros|fact"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct_graph.inducts|fact"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct_graph.simps|fact"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct_graph.induct|fact"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct_graph.cases|fact"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct_graph.intros|fact"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct.elims|thm"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct.induct|thm"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct.simps(4)|thm"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct.simps(3)|thm"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct.simps(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct.simps(1)|thm"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct.pelims|thm"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct.cases|thm"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct.termination|thm"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct.pinduct|thm"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct.psimps(4)|thm"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct.psimps(3)|thm"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct.psimps(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct.psimps(1)|thm"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct_rel.inducts|thm"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct_rel.simps|thm"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct_rel.induct|thm"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct_rel.cases|thm"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct_rel.intros|thm"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct_graph.inducts|thm"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct_graph.simps|thm"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct_graph.induct|thm"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct_graph.cases|thm"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct_graph.intros(4)|thm"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct_graph.intros(3)|thm"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct_graph.intros(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct_graph.intros(1)|thm"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct_rel_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct_sumC_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct_graph_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct_dom|const"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct_rel|const"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct_sumC|const"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Ndet_Parser_Monad.nat2ss_induct|const"><span>nat2ss_induct</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>nat2ss_induct</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span>"</span></span></span><span>  
  </span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>nat2ss_induct</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span>"</span></span></span><span>  
  </span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>nat2ss_induct</span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span>"</span></span></span><span>  
  </span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>nat2ss_induct</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>n<span class="hidden">⇩</span><sub>1</sub></span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>n<span class="hidden">⇩</span><sub>2</sub></span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>nat2ss_induct</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n<span class="hidden">⇩</span><sub>1</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n<span class="hidden">⇩</span><sub>2</sub></span></span></span></span><span>"</span></span></span><span> 
    
  </span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.nat2ss_induct.induct|fact"><span>nat2ss_induct.induct</span></a><span>
  

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Language Algebra›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹We define concatenation, power, and Kleene star on sets of lists (Languages)›</span></span></span><span>

  </span><span class="comment1"><span>(* Partially taken from afp/Kleene_Algebra *)</span></span><span>  
    
  </span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.lang|type"><span>lang</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>locale</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>no_notation</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Definition.html#Sepref_Definition.hfunspec|const"><span>hfunspec</span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword3"><span>(</span></span><span>_</span><span class="keyword1"><span><span class="hidden">⇧</span><sup>?</sup></span></span><span class="keyword3"><span>)</span></span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>1000</span><span class="main"><span>]</span></span><span> 999</span><span class="main"><span>)</span></span><span>
  
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Character Class›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.char_class_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.char_class_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.char_class_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Ndet_Parser_Monad.char_class|const"><span>char_class</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>char_class</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>C</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>[</span></span><span class="bound"><span>c</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span class="bound"><span class="entity"><span>C</span></span></span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.char_class|const"><span>char_class</span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>⦃</span></span><span>_</span><span class="keyword1"><span>⦄</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span> </span><span class="keyword1"><span class="command"><span>interpretation</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.in_char_class|fact"><span class="entity_def" id="Ndet_Parser_Monad.in_char_class|thm"><span>in_char_class</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.char_class|const"><span>⦃</span></a></span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.char_class|const"><span>⦄</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span>c</span></span><span class="main"><span>∈</span></span><span class="free"><span>C</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><span>[</span></span><span class="bound"><span>c</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.char_class_def|fact"><span>char_class_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>    
  
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Concat›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.L_concat_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.L_concat_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.L_concat_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Ndet_Parser_Monad.L_concat|const"><span>L_concat</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang|type"><span>lang</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang|type"><span>lang</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang|type"><span>lang</span></a><span>"</span></span></span><span>  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>L_concat</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>b</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>L_concat</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>⋅</span></span><span>"</span></span><span> 75</span><span class="main"><span>)</span></span><span>

  </span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span> </span><span class="keyword1"><span class="command"><span>interpretation</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>L<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><span class="free"><span>L<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>w<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="bound"><span>w<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>w<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="bound"><span>w<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>w<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>L<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>w<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>L<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat_def|fact"><span>L_concat_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.L_concat_simps|fact"><span class="entity_def" id="Ndet_Parser_Monad.L_concat_simps(5)|thm"><span class="entity_def" id="Ndet_Parser_Monad.L_concat_simps(4)|thm"><span class="entity_def" id="Ndet_Parser_Monad.L_concat_simps(3)|thm"><span class="entity_def" id="Ndet_Parser_Monad.L_concat_simps(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.L_concat_simps(1)|thm"><span>L_concat_simps</span></span></span></span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
    
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="main"><span>{</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>}</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
    
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>b</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>c</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat_def|fact"><span>L_concat_def</span></a><span> 
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> opaque_lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.append.assoc|fact"><span>append.assoc</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>    
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.L_concat_mono|fact"><span class="entity_def" id="Ndet_Parser_Monad.L_concat_mono|thm"><span>L_concat_mono</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span class="free"><span>a'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span class="free"><span>b'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="free"><span>a'</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>b'</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat_def|fact"><span>L_concat_def</span></a><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.L_concat_iff|fact"><span class="entity_def" id="Ndet_Parser_Monad.L_concat_iff|thm"><span>L_concat_iff</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>x<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="bound"><span>x<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="bound"><span>x<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="bound"><span>x<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>x<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>x<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat_def|fact"><span>L_concat_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 

  </span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Power›</span></span></span><span>  
        
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.L_pow_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.L_pow_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.L_pow_def_raw|axiom"><span class="entity_def" id="offset_1792..1802">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Ndet_Parser_Monad.L_pow|const"><span>L_pow</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang|type"><span>lang</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang|type"><span>lang</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>L_pow</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>(⋅)</span></a></span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.L_pow_simps|fact"><span class="entity_def" id="Ndet_Parser_Monad.L_pow_simps(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.L_pow_simps(1)|thm"><span>L_pow_simps</span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_pow|const"><span>L_pow</span></a><span> </span><span class="free"><span>L</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_pow|const"><span>L_pow</span></a><span> </span><span class="free"><span>L</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>L</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_pow|const"><span>L_pow</span></a><span> </span><span class="free"><span>L</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_1792..1802"><span>L_pow_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.L_pow_add|fact"><span class="entity_def" id="Ndet_Parser_Monad.L_pow_add|thm"><span class="entity_def" id="offset_2015..2024">L_pow_add</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_pow|const"><span>L_pow</span></a><span> </span><span class="free"><span>L</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_pow|const"><span>L_pow</span></a><span> </span><span class="free"><span>L</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_pow|const"><span>L_pow</span></a><span> </span><span class="free"><span>L</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.L_pow_unfold_left|fact"><span class="entity_def" id="Ndet_Parser_Monad.L_pow_unfold_left|thm"><span>L_pow_unfold_left</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_pow|const"><span>L_pow</span></a><span> </span><span class="free"><span>L</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_pow|const"><span>L_pow</span></a><span> </span><span class="free"><span>L</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><span class="free"><span>L</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_2015..2024"><span>L_pow_add</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><span class="free"><span>L</span></span></span><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span> </span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> 

  </span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Star›</span></span></span><span>
                
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.L_star_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.L_star_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.L_star_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Ndet_Parser_Monad.L_star|const"><span>L_star</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang|type"><span>lang</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang|type"><span>lang</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>L_star</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_pow|const"><span>L_pow</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  

  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star|const"><span>L_star</span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span><span class="hidden">⇧</span><sup>⋆</sup></span></span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>101</span><span class="main"><span>]</span></span><span> 100</span><span class="main"><span>)</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>interpretation</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
        
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.L_star_unfold|fact"><span class="entity_def" id="Ndet_Parser_Monad.L_star_unfold|thm"><span>L_star_unfold</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star|const"><span>L_star</span></a><span> </span><span class="free"><span>L</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>L</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star|const"><span>L_star</span></a><span> </span><span class="free"><span>L</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star_def|fact"><span>L_star_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> w n
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>n</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat_iff|fact"><span>L_concat_iff</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> 
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat_iff|fact"><span>L_concat_iff</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> x1 x2 n
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="skolem"><span>n</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat_iff|fact"><span>L_concat_iff</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Optional›</span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.L_opt_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.L_opt_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.L_opt_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Ndet_Parser_Monad.L_opt|const"><span>L_opt</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>L_opt</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span>"</span></span></span><span>  

  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_opt|const"><span>L_opt</span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span><span class="hidden">⇧</span><sup>?</sup></span></span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>101</span><span class="main"><span>]</span></span><span> 100</span><span class="main"><span>)</span></span><span>
    
  </span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>interpretation</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
      
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.L_opt_simps|fact"><span class="entity_def" id="Ndet_Parser_Monad.L_opt_simps(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.L_opt_simps(1)|thm"><span>L_opt_simps</span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_opt|const"><span><span class="hidden">⇧</span><sup>?</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>}</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_opt|const"><span><span class="hidden">⇧</span><sup>?</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_opt_def|fact"><span>L_opt_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.L_opt_add_simps|fact"><span class="entity_def" id="Ndet_Parser_Monad.L_opt_add_simps|thm"><span>L_opt_add_simps</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_opt|const"><span><span class="hidden">⇧</span><sup>?</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_opt|const"><span><span class="hidden">⇧</span><sup>?</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_opt|const"><span><span class="hidden">⇧</span><sup>?</sup></span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_opt_def|fact"><span>L_opt_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.l_join_same_tail|fact"><span class="entity_def" id="Ndet_Parser_Monad.l_join_same_tail|thm"><span>l_join_same_tail</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_opt|const"><span><span class="hidden">⇧</span><sup>?</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_opt_def|fact"><span>L_opt_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat_def|fact"><span>L_concat_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    
    
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>  


  </span><span class="keyword1"><span class="command"><span>experiment</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
      
    </span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span> </span><span class="keyword1"><span class="command"><span>interpretation</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  
      
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.experiment13558016.l_char_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.experiment13558016.l_char_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.experiment13558016.l_char_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ndet_Parser_Monad.experiment13558016.l_char|const"><span>l_char</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.char_class|const"><span>⦃</span></a></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="numeral"><span>65</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span class="bound"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span class="numeral"><span>90</span></span><span> </span><span class="main"><span>}</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="numeral"><span>8</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.char_class|const"><span>⦄</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.experiment13558016.l_space_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.experiment13558016.l_space_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.experiment13558016.l_space_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ndet_Parser_Monad.experiment13558016.l_space|const"><span>l_space</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.char_class|const"><span>⦃</span></a></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="numeral"><span>32</span></span><span> </span><span class="main"><span>}</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="numeral"><span>8</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.char_class|const"><span>⦄</span></a></span><span>"</span></span></span><span>
      
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.experiment13558016.l_id_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.experiment13558016.l_id_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.experiment13558016.l_id_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ndet_Parser_Monad.experiment13558016.l_id|const"><span>l_id</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.experiment13558016.l_char|const"><span>l_char</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.experiment13558016.l_char|const"><span>l_char</span></a><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star|const"><span><span class="hidden">⇧</span><sup>⋆</sup></span></a></span><span>"</span></span></span><span>
  
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.experiment13558016.l_idlist_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.experiment13558016.l_idlist_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.experiment13558016.l_idlist_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ndet_Parser_Monad.experiment13558016.l_idlist|const"><span>l_idlist</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.experiment13558016.l_id|const"><span>l_id</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><span class="main"><span>(</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.experiment13558016.l_space|const"><span>l_space</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.experiment13558016.l_space|const"><span>l_space</span></a><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star|const"><span><span class="hidden">⇧</span><sup>⋆</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.experiment13558016.l_id|const"><span>l_id</span></a><span> </span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star|const"><span><span class="hidden">⇧</span><sup>⋆</sup></span></a></span><span>"</span></span></span><span>  
    
      
    </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
  
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Grammar Monad›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹We define a grammar monad, that produces a relation between input and abstract syntax tree›</span></span></span><span>    
    
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.arity_full_exhaustive_gM|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.full_exhaustive_gM.simps|fact"><span class="entity_def" id="Ndet_Parser_Monad.full_exhaustive_gM_inst.full_exhaustive_gM|fact"><span class="entity_def" id="Ndet_Parser_Monad.arity_narrowing_gM|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.narrowing_gM.simps|fact"><span class="entity_def" id="Ndet_Parser_Monad.narrowing_gM_inst.narrowing_gM|fact"><span class="entity_def" id="Ndet_Parser_Monad.arity_random_gM|fact"><span class="entity_def" id="Ndet_Parser_Monad.random_gM_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.random_gM_inst.random_gM|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.random_aux.simps|fact"><span class="entity_def" id="Ndet_Parser_Monad.random_aux_gM_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.size_neq|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.size_gen|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.size|fact"><span class="entity_def" id="Ndet_Parser_Monad.arity_size_gM|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.size_gM_overloaded_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.size_gM_inst.size_gM|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.size_gM_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.simps|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.rec_transfer|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.rec|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.induct|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.case_transfer|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.splits|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.split_sels|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.split_sel_asm|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.split_sel|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.split_asm|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.split|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.sel|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.nchotomy|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.inject|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.expand|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.exhaust_sel|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.exhaust_disc|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.exhaust|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.disc_eq_case|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.collapse|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.case_eq_if|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.case_distrib|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.case_cong_weak|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.case_cong|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.case|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.eq.simps|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.eq.refl|fact"><span class="entity_def" id="Ndet_Parser_Monad.arity_equal_gM|fact"><span class="entity_def" id="Ndet_Parser_Monad.equal_gM_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.equal_gM_inst.equal_gM|fact"><span class="entity_def" id="Ndet_Parser_Monad.arity_partial_term_of_gM|fact"><span class="entity_def" id="Ndet_Parser_Monad.partial_term_of_gM_triv|fact"><span class="entity_def" id="Ndet_Parser_Monad.partial_term_of_gM_inst.partial_term_of_gM|fact"><span class="entity_def" id="Ndet_Parser_Monad.arity_term_of_gM|fact"><span class="entity_def" id="Ndet_Parser_Monad.term_of_gM_triv|fact"><span class="entity_def" id="Ndet_Parser_Monad.term_of_gM_inst.term_of_gM|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.gM_rel_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.case_gM_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.ctor_rec_gM_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.dtor_gM_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.ctor_fold_gM_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.ctor_gM_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.arity_typerep_gM|fact"><span class="entity_def" id="Ndet_Parser_Monad.typerep_gM_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.typerep_gM_inst.typerep_gM|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.Abs_gM_induct|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.Rep_gM_induct|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.Abs_gM_cases|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.Rep_gM_cases|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.Abs_gM_inject|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.Rep_gM_inject|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.Abs_gM_inverse|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.Rep_gM_inverse|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.Rep_gM|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.type_definition_gM|fact"><span class="entity_def" id="Ndet_Parser_Monad.arity_type_gM|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.str_init_gM_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.arity_typerep_gM_IITN_gM|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.typerep_gM_IITN_gM_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.typerep_gM_IITN_gM_inst.typerep_gM_IITN_gM|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.gM_IITN_gM.Abs_gM_IITN_gM_induct|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.gM_IITN_gM.Rep_gM_IITN_gM_induct|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.gM_IITN_gM.Abs_gM_IITN_gM_cases|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.gM_IITN_gM.Rep_gM_IITN_gM_cases|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.gM_IITN_gM.Abs_gM_IITN_gM_inject|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.gM_IITN_gM.Rep_gM_IITN_gM_inject|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.gM_IITN_gM.Abs_gM_IITN_gM_inverse|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.gM_IITN_gM.Rep_gM_IITN_gM_inverse|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.gM_IITN_gM.Rep_gM_IITN_gM|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.gM_IITN_gM.type_definition_gM_IITN_gM|fact"><span class="entity_def" id="Ndet_Parser_Monad.arity_type_gM_IITN_gM|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.min_alg_gM_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.mor_gM_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.alg_gM_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.pre_gM.gM.set_pre_gM_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.pre_gM.gM.rel_pre_gM_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.pre_gM.gM.map_pre_gM_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.arity_full_exhaustive_gM|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.full_exhaustive_gM.simps|thm"><span class="entity_def" id="Ndet_Parser_Monad.full_exhaustive_gM_inst.full_exhaustive_gM|thm"><span class="entity_def" id="Ndet_Parser_Monad.arity_narrowing_gM|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.narrowing_gM.simps|thm"><span class="entity_def" id="Ndet_Parser_Monad.narrowing_gM_inst.narrowing_gM|thm"><span class="entity_def" id="Ndet_Parser_Monad.arity_random_gM|thm"><span class="entity_def" id="Ndet_Parser_Monad.random_gM_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.random_gM_inst.random_gM|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.random_aux.simps|thm"><span class="entity_def" id="Ndet_Parser_Monad.random_aux_gM_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.size_neq|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.size_gen|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.size(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.size(1)|thm"><span class="entity_def" id="Ndet_Parser_Monad.arity_size_gM|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.size_gM_overloaded_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.size_gM_inst.size_gM|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.size_gM_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.simps(3)|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.simps(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.simps(1)|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.rec_transfer|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.rec|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.induct|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.case_transfer|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.splits(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.splits(1)|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.split_sels(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.split_sels(1)|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.split_sel_asm|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.split_sel|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.split_asm|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.split|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.sel|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.nchotomy|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.inject|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.expand|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.exhaust_sel|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.exhaust_disc|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.exhaust|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.disc_eq_case|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.collapse|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.case_eq_if|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.case_distrib|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.case_cong_weak|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.case_cong|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.case|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.eq.simps|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.eq.refl|thm"><span class="entity_def" id="Ndet_Parser_Monad.arity_equal_gM|thm"><span class="entity_def" id="Ndet_Parser_Monad.equal_gM_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.equal_gM_inst.equal_gM|thm"><span class="entity_def" id="Ndet_Parser_Monad.arity_partial_term_of_gM|thm"><span class="entity_def" id="Ndet_Parser_Monad.partial_term_of_gM_triv|thm"><span class="entity_def" id="Ndet_Parser_Monad.partial_term_of_gM_inst.partial_term_of_gM|thm"><span class="entity_def" id="Ndet_Parser_Monad.arity_term_of_gM|thm"><span class="entity_def" id="Ndet_Parser_Monad.term_of_gM_triv|thm"><span class="entity_def" id="Ndet_Parser_Monad.term_of_gM_inst.term_of_gM|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.gM_rel_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.case_gM_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.ctor_rec_gM_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.dtor_gM_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.ctor_fold_gM_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.ctor_gM_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.arity_typerep_gM|thm"><span class="entity_def" id="Ndet_Parser_Monad.typerep_gM_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.typerep_gM_inst.typerep_gM|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.Abs_gM_induct|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.Rep_gM_induct|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.Abs_gM_cases|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.Rep_gM_cases|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.Abs_gM_inject|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.Rep_gM_inject|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.Abs_gM_inverse|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.Rep_gM_inverse|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.Rep_gM|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.type_definition_gM|thm"><span class="entity_def" id="Ndet_Parser_Monad.arity_type_gM|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.str_init_gM_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.arity_typerep_gM_IITN_gM|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.typerep_gM_IITN_gM_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.typerep_gM_IITN_gM_inst.typerep_gM_IITN_gM|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.gM_IITN_gM.Abs_gM_IITN_gM_induct|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.gM_IITN_gM.Rep_gM_IITN_gM_induct|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.gM_IITN_gM.Abs_gM_IITN_gM_cases|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.gM_IITN_gM.Rep_gM_IITN_gM_cases|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.gM_IITN_gM.Abs_gM_IITN_gM_inject|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.gM_IITN_gM.Rep_gM_IITN_gM_inject|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.gM_IITN_gM.Abs_gM_IITN_gM_inverse|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.gM_IITN_gM.Rep_gM_IITN_gM_inverse|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.gM_IITN_gM.Rep_gM_IITN_gM|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.gM_IITN_gM.type_definition_gM_IITN_gM|thm"><span class="entity_def" id="Ndet_Parser_Monad.arity_type_gM_IITN_gM|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.min_alg_gM_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.mor_gM_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.alg_gM_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.pre_gM.gM.set_pre_gM_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.pre_gM.gM.rel_pre_gM_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.pre_gM.gM.map_pre_gM_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.full_exhaustive_gM_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.full_exhaustive_gM_inst.full_exhaustive_gM_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.narrowing_gM_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.narrowing_gM_inst.narrowing_gM_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.random_gM_def_raw|axiom"><span class="entity_def" id="Ndet_Parser_Monad.random_gM_inst.random_gM_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.random_aux_gM_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.gM.size_gM_overloaded_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.size_gM_inst.size_gM_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.gM.size_gM_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.gM.rec_gM_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.equal_gM_def_raw|axiom"><span class="entity_def" id="Ndet_Parser_Monad.equal_gM_inst.equal_gM_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.partial_term_of_gM_triv_raw|axiom"><span class="entity_def" id="Ndet_Parser_Monad.partial_term_of_gM_inst.partial_term_of_gM_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.term_of_gM_triv_raw|axiom"><span class="entity_def" id="Ndet_Parser_Monad.term_of_gM_inst.term_of_gM_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.gM.gM_rel_def_raw|axiom"><span class="entity_def" id="Ndet_Parser_Monad.gM.case_gM_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.gM.GR_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.gM.ctor_rec_gM_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.gM.dtor_gM_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.gM.ctor_fold_gM_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.gM.ctor_gM_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.typerep_gM_def_raw|axiom"><span class="entity_def" id="Ndet_Parser_Monad.typerep_gM_inst.typerep_gM_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.gM.type_definition_gM|axiom"><span class="entity_def" id="Ndet_Parser_Monad.arity_type_gM|axiom"><span class="entity_def" id="Ndet_Parser_Monad.gM.str_init_gM_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.gM.typerep_gM_IITN_gM_def_raw|axiom"><span class="entity_def" id="Ndet_Parser_Monad.gM.typerep_gM_IITN_gM_inst.typerep_gM_IITN_gM_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.gM.gM_IITN_gM.type_definition_gM_IITN_gM|axiom"><span class="entity_def" id="Ndet_Parser_Monad.arity_type_gM_IITN_gM|axiom"><span class="entity_def" id="Ndet_Parser_Monad.gM.min_alg_gM_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.gM.mor_gM_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.gM.alg_gM_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.pre_gM.gM.wit_pre_gM_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.pre_gM.gM.pred_pre_gM_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.pre_gM.gM.rel_pre_gM_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.pre_gM.gM.set_pre_gM_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.pre_gM.gM.map_pre_gM_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.full_exhaustive_gM_inst.full_exhaustive_gM|const"><span class="entity_def" id="Ndet_Parser_Monad.narrowing_gM_inst.narrowing_gM|const"><span class="entity_def" id="Ndet_Parser_Monad.random_gM_inst.random_gM|const"><span class="entity_def" id="Ndet_Parser_Monad.random_aux_gM|const"><span class="entity_def" id="Ndet_Parser_Monad.size_gM_inst.size_gM|const"><span class="entity_def" id="Ndet_Parser_Monad.gM.size_gM|const"><span class="entity_def" id="Ndet_Parser_Monad.equal_gM_inst.equal_gM|const"><span class="entity_def" id="Ndet_Parser_Monad.partial_term_of_gM_inst.partial_term_of_gM|const"><span class="entity_def" id="Ndet_Parser_Monad.term_of_gM_inst.term_of_gM|const"><span class="entity_def" id="Ndet_Parser_Monad.gM.case_gM|const"><span class="entity_def" id="Ndet_Parser_Monad.typerep_gM_inst.typerep_gM|const"><span class="entity_def" id="Ndet_Parser_Monad.gM.Abs_gM|const"><span class="entity_def" id="Ndet_Parser_Monad.gM.Rep_gM|const"><span class="entity_def" id="Ndet_Parser_Monad.gM.typerep_gM_IITN_gM_inst.typerep_gM_IITN_gM|const"><span class="entity_def" id="Ndet_Parser_Monad.gM.gM_IITN_gM.Abs_gM_IITN_gM|const"><span class="entity_def" id="Ndet_Parser_Monad.gM.gM_IITN_gM.Rep_gM_IITN_gM|const"><span class="entity_def" id="Ndet_Parser_Monad.gM.mor_gM|const"><span class="entity_def" id="Ndet_Parser_Monad.gM.alg_gM|const"><span class="entity_def" id="Ndet_Parser_Monad.gM.gM_IITN_gM|type"><span>datatype</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span class="tfree"><span>'r</span></span><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.gM.rec_gM|const"><span class="entity_def" id="Ndet_Parser_Monad.gM.ctor_rec_gM|const"><span class="entity_def" id="Ndet_Parser_Monad.gM.dtor_gM|const"><span class="entity_def" id="Ndet_Parser_Monad.gM.ctor_fold_gM|const"><span class="entity_def" id="Ndet_Parser_Monad.gM.ctor_gM|const"><span class="entity_def" id="Ndet_Parser_Monad.gM.str_init_gM|const"><span class="entity_def" id="Ndet_Parser_Monad.gM.min_alg_gM|const"><span class="entity_def" id="Ndet_Parser_Monad.pre_gM.gM.wit_pre_gM|const"><span class="entity_def" id="Ndet_Parser_Monad.pre_gM.gM.pred_pre_gM|const"><span class="entity_def" id="Ndet_Parser_Monad.pre_gM.gM.rel_pre_gM|const"><span class="entity_def" id="Ndet_Parser_Monad.pre_gM.gM.set_pre_gM|const"><span class="entity_def" id="Ndet_Parser_Monad.pre_gM.gM.map_pre_gM|const"><span class="entity_def" id="Ndet_Parser_Monad.gM|type"><span>gM</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.gM.GR|const"><span>GR</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="entity"><span class="entity_def" id="Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'r</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.gM_rel_eq_iff|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM_rel_eq_iff|thm"><span>gM_rel_eq_iff</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>m'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>m'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>m</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>  
  

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Pointwise Reasoning›</span></span></span><span>    
  </span><span class="keyword1"><span class="command"><span>named_theorems</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.igr_inits|attribute"><span class="entity_def" id="Ndet_Parser_Monad.igr_inits|fact"><span>igr_inits</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>named_theorems</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.igr_simps|attribute"><span class="entity_def" id="Ndet_Parser_Monad.igr_simps|fact"><span>igr_simps</span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.igr_eq_iff|fact"><span class="entity_def" id="Ndet_Parser_Monad.igr_eq_iff|thm"><span>igr_eq_iff</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_inits|attribute"><span class="operator"><span>igr_inits</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>m'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>w</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>w</span></span><span class="main"><span>,</span></span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>w</span></span><span class="main"><span>,</span></span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>m'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>m</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>m'</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>  
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.igr.igr|method"><span>method</span></span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.igr|method"><span>igr</span></span><span> </span><span class="main"><span>=</span></span><span> 
    </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_inits|fact"><span class="dynamic"><span class="dynamic"><span>igr_inits</span></span></span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_simps|fact"><span class="dynamic"><span class="dynamic"><span>igr_simps</span></span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.igr_simp.igr_simp|method"><span>method</span></span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.igr_simp|method"><span>igr_simp</span></span><span> </span><span class="main"><span>=</span></span><span> 
    </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_inits|fact"><span class="dynamic"><span class="dynamic"><span>igr_inits</span></span></span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_simps|fact"><span class="dynamic"><span class="dynamic"><span>igr_simps</span></span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
        
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.igr&apos;.igr&apos;|method"><span>method</span></span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.igr&apos;|method"><span>igr'</span></span><span> </span><span class="main"><span>=</span></span><span> 
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_inits|fact"><span class="dynamic"><span class="dynamic"><span>igr_inits</span></span></span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_simps|fact"><span class="dynamic"><span class="dynamic"><span>igr_simps</span></span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.igr_force.igr_force|method"><span>method</span></span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.igr_force|method"><span>igr_force</span></span><span> </span><span class="main"><span>=</span></span><span>
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_inits|fact"><span class="dynamic"><span class="dynamic"><span>igr_inits</span></span></span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_simps|fact"><span class="dynamic"><span class="dynamic"><span>igr_simps</span></span></span></a><span class="main"><span>)</span></span><span>
       
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.igr_fastforce.igr_fastforce|method"><span>method</span></span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.igr_fastforce|method"><span>igr_fastforce</span></span><span> </span><span class="main"><span>=</span></span><span>
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_inits|fact"><span class="dynamic"><span class="dynamic"><span>igr_inits</span></span></span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_simps|fact"><span class="dynamic"><span class="dynamic"><span>igr_simps</span></span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Basic Combinators›</span></span></span><span>    

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Empty, return, this›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹The empty language›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.g_empty_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_empty_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_empty_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ndet_Parser_Monad.g_empty|const"><span>g_empty</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.GR|const"><span>GR</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Empty word›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.g_return_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_return_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_return_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ndet_Parser_Monad.g_return|const"><span>g_return</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.GR|const"><span>GR</span></a><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Set of words›</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.g_this_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_this_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_this_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ndet_Parser_Monad.g_this|const"><span>g_this</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.GR|const"><span>GR</span></a><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>xs</span></span><span class="main"><span>,</span></span><span class="bound"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>xs</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.igr_empty|fact"><span class="entity_def" id="Ndet_Parser_Monad.igr_empty|thm"><span>igr_empty</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_simps|attribute"><span class="operator"><span>igr_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>wr</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_empty|const"><span>g_empty</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_empty_def|fact"><span>g_empty_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>  
        
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.igr_return|fact"><span class="entity_def" id="Ndet_Parser_Monad.igr_return|thm"><span>igr_return</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_simps|attribute"><span class="operator"><span>igr_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>w</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return_def|fact"><span>g_return_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>  

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.igr_this|fact"><span class="entity_def" id="Ndet_Parser_Monad.igr_this|thm"><span>igr_this</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_simps|attribute"><span class="operator"><span>igr_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_this|const"><span>g_this</span></a><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>w</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>S</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_this_def|fact"><span>g_this_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.empty_return_simps|fact"><span class="entity_def" id="Ndet_Parser_Monad.empty_return_simps(3)|thm"><span class="entity_def" id="Ndet_Parser_Monad.empty_return_simps(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.empty_return_simps(1)|thm"><span>empty_return_simps</span></span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_empty|const"><span>g_empty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_empty|const"><span>g_empty</span></a><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>y</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_empty_this_simps|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_empty_this_simps(3)|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_empty_this_simps(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_empty_this_simps(1)|thm"><span>g_empty_this_simps</span></span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_this|const"><span>g_this</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_empty|const"><span>g_empty</span></a><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_empty|const"><span>g_empty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_this|const"><span>g_this</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>  
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_this|const"><span>g_this</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_empty|const"><span>g_empty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_this_return_simps|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_this_return_simps(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_this_return_simps(1)|thm"><span>g_this_return_simps</span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>  
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_this|const"><span>g_this</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><span>{</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_this|const"><span>g_this</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><span>{</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_this_def|fact"><span>g_this_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return_def|fact"><span>g_return_def</span></a><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    

  </span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Bind›</span></span></span><span>          
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.g_bind_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_bind_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_bind_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ndet_Parser_Monad.g_bind|const"><span>g_bind</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.GR|const"><span>GR</span></a><span> </span><span class="main"><span>{</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="bound"><span>ys</span></span><span class="main"><span>,</span></span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="bound"><span>ys</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>xs</span></span><span class="main"><span>,</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>ys</span></span><span class="main"><span>,</span></span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>adhoc_overloading</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Monad_Syntax.html#Monad_Syntax.bind|const"><span>Monad_Syntax.bind</span></a><span> </span><span class="quoted"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_bind|const"><span>g_bind</span></a></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.igr_bind|fact"><span class="entity_def" id="Ndet_Parser_Monad.igr_bind|thm"><span>igr_bind</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_simps|attribute"><span class="operator"><span>igr_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>←</span></span><span class="free"><span>m</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>w<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>w<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>w<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>w<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>w</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="bound"><span>w<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="bound"><span>w<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_bind_def|fact"><span>g_bind_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_monad_laws|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_monad_laws(3)|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_monad_laws(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_monad_laws(1)|thm"><span>g_monad_laws</span></span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>←</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>←</span></span><span class="free"><span>m</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>←</span></span><span class="free"><span>m</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>}</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>←</span></span><span class="free"><span>m</span></span><span class="main"><span>;</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>←</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr&apos;|method"><span class="operator"><span>igr'</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
       
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_bind_empty_laws|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_bind_empty_laws(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_bind_empty_laws(1)|thm"><span>g_bind_empty_laws</span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_empty|const"><span>g_empty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Monad_Syntax.html#Monad_Syntax.bind|const"><span>⤜</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_empty|const"><span>g_empty</span></a><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_empty|const"><span>g_empty</span></a><span> </span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_empty|const"><span>g_empty</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Union›</span></span></span><span>    
      
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.g_union_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_union_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_union_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Ndet_Parser_Monad.g_union|const"><span>g_union</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g_union</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.GR|const"><span>GR</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>g_union</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>&lt;|&gt;</span></span><span>"</span></span><span> 60</span><span class="main"><span>)</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.g_Union_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_Union_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_Union_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Ndet_Parser_Monad.g_Union|const"><span>g_Union</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g_Union</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>M</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.GR|const"><span>GR</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>⋃</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span class="free"><span class="bound"><span class="entity"><span>M</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

  
  </span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>interpretation</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.igr_union|fact"><span class="entity_def" id="Ndet_Parser_Monad.igr_union|thm"><span>igr_union</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_simps|attribute"><span class="operator"><span>igr_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>wr</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>wr</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="free"><span>wr</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union_def|fact"><span>g_union_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>  
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.igr_Union|fact"><span class="entity_def" id="Ndet_Parser_Monad.igr_Union|thm"><span>igr_Union</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_simps|attribute"><span class="operator"><span>igr_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>wr</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_Union|const"><span>g_Union</span></a><span> </span><span class="free"><span>M</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span>m</span></span><span class="main"><span>∈</span></span><span class="free"><span>M</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>wr</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="bound"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_Union_def|fact"><span>g_Union_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_Union_simps|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_Union_simps(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_Union_simps(1)|thm"><span>g_Union_simps</span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_Union|const"><span>g_Union</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_empty|const"><span>g_empty</span></a><span>"</span></span></span><span>  
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_Union|const"><span>g_Union</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>M</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_Union|const"><span>g_Union</span></a><span> </span><span class="free"><span>M</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_union_empty_laws|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_union_empty_laws(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_union_empty_laws(1)|thm"><span>g_union_empty_laws</span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_empty|const"><span>g_empty</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_empty|const"><span>g_empty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_union_ac|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_union_ac(3)|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_union_ac(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_union_ac(1)|thm"><span>g_union_ac</span></span></span></span></span><span class="main"><span>:</span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_union_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_union_assoc|thm"><span>g_union_assoc</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span class="free"><span>b</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span class="free"><span>c</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.union_bind_distrib_right|fact"><span class="entity_def" id="Ndet_Parser_Monad.union_bind_distrib_right|thm"><span>union_bind_distrib_right</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Monad_Syntax.html#Monad_Syntax.bind|const"><span>⤜</span></a></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Monad_Syntax.html#Monad_Syntax.bind|const"><span>⤜</span></a></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Monad_Syntax.html#Monad_Syntax.bind|const"><span>⤜</span></a></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.union_bind_distrib_left|fact"><span class="entity_def" id="Ndet_Parser_Monad.union_bind_distrib_left|thm"><span>union_bind_distrib_left</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>r</span></span><span class="main"><span>←</span></span><span class="free"><span>x</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>r</span></span><span class="main"><span>←</span></span><span class="free"><span>x</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>r</span></span><span class="main"><span>←</span></span><span class="free"><span>x</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
        
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_union_idem|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_union_idem|thm"><span>g_union_idem</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_Union_distrib_bind|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_Union_distrib_bind|thm"><span>g_Union_distrib_bind</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>←</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_Union|const"><span>g_Union</span></a><span> </span><span class="free"><span>M</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_Union|const"><span>g_Union</span></a><span> </span><span class="main"><span>{</span></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>}</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>M</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr&apos;|method"><span class="operator"><span>igr'</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> r w<span class="hidden">⇩</span><sub>1</sub> x m w<span class="hidden">⇩</span><sub>2</sub>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span> </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_Union_Union_join|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_Union_Union_join|thm"><span>g_Union_Union_join</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_Union|const"><span>g_Union</span></a><span> </span><span class="free"><span>A</span></span><span class="main"><span>;</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_Union|const"><span>g_Union</span></a><span> </span><span class="free"><span>B</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>}</span></span><span> 
     </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_Union|const"><span>g_Union</span></a><span> </span><span class="main"><span>{</span></span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>;</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>}</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_simp|method"><span class="operator"><span>igr_simp</span></span></a><span>
     
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.allI|fact"><span>allI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffI|fact"><span>iffI</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span class="main"><span class="keyword3"><span>?</span></span></span><span class="main"><span>)</span></span><span>
     
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> r w<span class="hidden">⇩</span><sub>1</sub> x a w<span class="hidden">⇩</span><sub>1</sub>' xa b w<span class="hidden">⇩</span><sub>2</sub>'
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>;</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

     
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>   
</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Partial Function Setup›</span></span></span><span>    
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.g_ord_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_ord_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_ord_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ndet_Parser_Monad.g_ord|const"><span>g_ord</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span>"</span></span></span><span>  

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_ord_alt|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_ord_alt|thm"><span>g_ord_alt</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ord|const"><span>g_ord</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>g_union</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ord_def|fact"><span>g_ord_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union_def|fact"><span>g_union_def</span></a><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>a</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>b</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_ord_igr|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_ord_igr|thm"><span>g_ord_igr</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_inits|attribute"><span class="operator"><span>igr_inits</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ord|const"><span>g_ord</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>w</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>w</span></span><span class="main"><span>,</span></span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>w</span></span><span class="main"><span>,</span></span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ord_def|fact"><span>g_ord_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_ord_refl|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_ord_refl|thm"><span>g_ord_refl</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ord|const"><span>g_ord</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ord_def|fact"><span>g_ord_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_ord_antisym|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_ord_antisym|thm"><span>g_ord_antisym</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ord|const"><span>g_ord</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ord|const"><span>g_ord</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>b</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ord_def|fact"><span>g_ord_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM_rel_eq_iff|fact"><span>gM_rel_eq_iff</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_ord_trans|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_ord_trans|thm"><span>g_ord_trans</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>trans</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ord|const"><span>g_ord</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ord|const"><span>g_ord</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ord|const"><span>g_ord</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ord_def|fact"><span>g_ord_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.g_lub_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_lub_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_lub_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ndet_Parser_Monad.g_lub|const"><span>g_lub</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>M</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.GR|const"><span>GR</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="bound"><span>m</span></span><span class="main"><span>∈</span></span><span class="free"><span class="bound"><span class="entity"><span>M</span></span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="bound"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_lub_igr|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_lub_igr|thm"><span>g_lub_igr</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_simps|attribute"><span class="operator"><span>igr_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>pw</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lub|const"><span>g_lub</span></a><span> </span><span class="free"><span>M</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span>m</span></span><span class="main"><span>∈</span></span><span class="free"><span>M</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>pw</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="bound"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lub_def|fact"><span>g_lub_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ndet_Parser_Monad.mono_g|const"><span>mono_g</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.monotone|const"><span>monotone</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Partial_Function.html#Partial_Function.fun_ord|const"><span>fun_ord</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ord|const"><span>g_ord</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ord|const"><span>g_ord</span></a><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_pfd|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_pfd|thm"><span>g_pfd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Partial_Function.html#Partial_Function.partial_function_definitions|const"><span>partial_function_definitions</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ord|const"><span>g_ord</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lub|const"><span>g_lub</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>unfold_locales</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_lub_empty|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_lub_empty|thm"><span>g_lub_empty</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lub|const"><span>g_lub</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_empty|const"><span>g_empty</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span>interpretation</span></span></span><span> gM</span><span class="main"><span>:</span></span><span>
    </span><a class="entity_ref" href="../../HOL/HOL/Partial_Function.html#Partial_Function.partial_function_definitions|locale"><span>partial_function_definitions</span></a><span> </span><span class="quoted"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ord|const"><span>g_ord</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lub|const"><span>g_lub</span></a></span><span>
    </span><span class="keyword2"><span class="keyword"><span>rewrites</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lub|const"><span>g_lub</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_empty|const"><span>g_empty</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_pfd|fact"><span>g_pfd</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.gM.fp_unfold|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.monotoneI|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.const_mono|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.fixp_induct_uc|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.fixp_rule_uc|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.mono_body_fixp|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.ccpo|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.lub_least|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.lub_upper|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.leq_antisym|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.leq_trans|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.leq_refl|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.partial_function_definitions_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM.fp_unfold|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.monotoneI|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.mono_body_fixp|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.ccpo|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.lub_least|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.lub_upper|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.leq_antisym|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.leq_trans|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.leq_refl|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.fixp_induct_uc|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.fixp_rule_uc|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.const_mono|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.partial_function_definitions_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.gM.admissible|const"><span class="entity_def" id="Ndet_Parser_Monad.gM.mono_body|const"><span class="entity_def" id="Ndet_Parser_Monad.gM.fixp_fun|const"><span class="entity_def" id="Ndet_Parser_Monad.gM.lub_fun|const"><span class="entity_def" id="Ndet_Parser_Monad.gM.le_fun|const"><span>by</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lub_empty|fact"><span>g_lub_empty</span></a><span class="main"><span>)</span></span><span>


  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.gM_admissible|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM_admissible|thm"><span>gM_admissible</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.admissible|const"><span>gM.admissible</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>pw</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>pw</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>pw</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Partial_Order.html#Complete_Partial_Order.ccpo.admissibleI|fact"><span>ccpo.admissibleI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Partial_Function.html#Partial_Function.fun_lub_def|fact"><span>fun_lub_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr&apos;|method"><span class="operator"><span>igr'</span></span></a><span>
  

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.fixp_induct_gM|fact"><span class="entity_def" id="Ndet_Parser_Monad.fixp_induct_gM|thm"><span>fixp_induct_gM</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'c</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'c</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
      </span><span class="free"><span>U</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'c</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span class="tfree"><span>'r</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM|type"><span>gM</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
      </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span class="tfree"><span>'r</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM|type"><span>gM</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'c</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
      </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_9675..9679">mono</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.mono_g|const"><span>mono_g</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>F</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>C</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_9726..9728">eq</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Complete_Partial_Order.html#Complete_Partial_Order.ccpo.fixp|const"><span>ccpo.fixp</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Partial_Function.html#Partial_Function.fun_lub|const"><span>fun_lub</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lub|const"><span>g_lub</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Partial_Function.html#Partial_Function.fun_ord|const"><span>fun_ord</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ord|const"><span>g_ord</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>F</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>C</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_9812..9820">inverse2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>C</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>f</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_9852..9856">step</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>U</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>U</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_9944..9951">defined</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>U</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_9852..9856"><span>step</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_9944..9951"><span>defined</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.fixp_induct_uc|fact"><span>gM.fixp_induct_uc</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><span class="free"><span>U</span></span></span><span> </span><span class="quoted"><span class="free"><span>F</span></span></span><span> </span><span class="quoted"><span class="free"><span>C</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_9675..9679"><span>mono</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_9726..9728"><span>eq</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_9812..9820"><span>inverse2</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM_admissible|fact"><span>gM_admissible</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span class="main"><span>]</span></span><span>
    
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_empty_def|fact"><span>g_empty_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>y</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>no_asm_use</span></span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.fast|method"><span class="operator"><span>fast</span></span></a><span>    
    
      
  </span><span class="keyword1"><span class="command"><span>declaration</span></span></span><span> </span><span class="quoted"><span>‹</span><span class="entity"><span>Partial_Function.init</span></span><span> </span><span class="inner_quoted"><span>"gM"</span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">term</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>‹</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.fixp_fun|const"><span>gM.fixp_fun</span></a><span>›</span></span></span><span>
    </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">term</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>‹</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.mono_body|const"><span>gM.mono_body</span></a><span>›</span></span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.fixp_rule_uc|fact"><span>gM.fixp_rule_uc</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.fixp_induct_uc|fact"><span>gM.fixp_induct_uc</span></a><span class="antiquote"><span>}</span></span></span></span><span>
    </span><span class="main"><span>(</span></span><span>SOME</span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.fixp_induct_gM|fact"><span>fixp_induct_gM</span></a><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>)</span></span><span>›</span></span><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10354..10359">lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.bind_gM_mono|fact"><span class="entity_def" id="Ndet_Parser_Monad.bind_gM_mono|thm"><span>bind_gM_mono</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/Partial_Function.html#Partial_Function.partial_function_mono|attribute"><span class="operator"><span>partial_function_mono</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>mf</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.mono_g|const"><span>mono_g</span></a><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>mg</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.mono_g|const"><span>mono_g</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.mono_g|const"><span>mono_g</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_bind|const"><span>g_bind</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>B</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_10354..10359"><span>assms</span></a><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.monotone_def|fact"><span>monotone_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Partial_Function.html#Partial_Function.fun_ord_def|fact"><span>fun_ord_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Partial_Function.html#Partial_Function.flat_ord_def|fact"><span>flat_ord_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10593..10598">lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.union_gM_mono|fact"><span class="entity_def" id="Ndet_Parser_Monad.union_gM_mono|thm"><span>union_gM_mono</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/Partial_Function.html#Partial_Function.partial_function_mono|attribute"><span class="operator"><span>partial_function_mono</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>ma</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.mono_g|const"><span>mono_g</span></a><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>mb</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.mono_g|const"><span>mono_g</span></a><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.mono_g|const"><span>mono_g</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>g_union</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>B</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_10593..10598"><span>assms</span></a><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.monotone_def|fact"><span>monotone_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Partial_Function.html#Partial_Function.fun_ord_def|fact"><span>fun_ord_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Partial_Function.html#Partial_Function.flat_ord_def|fact"><span>flat_ord_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
    
    
</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹More Combinators›</span></span></span><span>    
    
    
  </span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Apply›</span></span></span><span>  
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.g_apply_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_apply_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_apply_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Ndet_Parser_Monad.g_apply|const"><span>g_apply</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g_apply</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>←</span></span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>g_apply</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>&lt;&amp;&gt;</span></span><span>"</span></span><span> 90</span><span class="main"><span>)</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span> </span><span class="keyword1"><span class="command"><span>interpretation</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.igr_apply|fact"><span class="entity_def" id="Ndet_Parser_Monad.igr_apply|thm"><span>igr_apply</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_simps|attribute"><span class="operator"><span>igr_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>r'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span class="main"><span>,</span></span><span class="bound"><span>r'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>r'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply_def|fact"><span>g_apply_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>  
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_apply_simps|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_apply_simps(4)|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_apply_simps(3)|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_apply_simps(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_apply_simps(1)|thm"><span>g_apply_simps</span></span></span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_empty|const"><span>g_empty</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_empty|const"><span>g_empty</span></a><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span>id</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_apply_unit|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_apply_unit|thm"><span>g_apply_unit</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.unit|type"><span>unit</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.unit|type"><span>unit</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>  

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_Union_apply|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_Union_apply|thm"><span>g_Union_apply</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_Union|const"><span>g_Union</span></a><span> </span><span class="free"><span>M</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_Union|const"><span>g_Union</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>{</span></span><span class="bound"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>M</span></span><span> </span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>_</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_fastforce|method"><span class="operator"><span>igr_fastforce</span></span></a><span>
    

  </span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Lift2›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Lift a binary operation›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.g_lift2_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_lift2_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_lift2_def_raw|axiom"><span class="entity_def" id="offset_11658..11668">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>op</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>←</span></span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><span>;</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>←</span></span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>op</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.igr_lift2|fact"><span class="entity_def" id="Ndet_Parser_Monad.igr_lift2|thm"><span>igr_lift2</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_simps|attribute"><span class="operator"><span>igr_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="free"><span>op</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>w<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>w<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>w<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>w<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>w</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="bound"><span>w<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="bound"><span>w<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>op</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_11658..11668"><span>g_lift2_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_11914..11919">lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_lift2_mono|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_lift2_mono|thm"><span>g_lift2_mono</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/Partial_Function.html#Partial_Function.partial_function_mono|attribute"><span class="operator"><span>partial_function_mono</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>ma</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.mono_g|const"><span>mono_g</span></a><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>mb</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.mono_g|const"><span>mono_g</span></a><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.mono_g|const"><span>mono_g</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="free"><span>op</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>B</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_11658..11668"><span>g_lift2_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_11914..11919"><span>assms</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Partial_Function.html#Partial_Function.partial_function_mono|fact"><span class="dynamic"><span class="dynamic"><span>partial_function_mono</span></span></span></a><span class="main"><span>)</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_lift2_simps|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_lift2_simps(4)|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_lift2_simps(3)|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_lift2_simps(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_lift2_simps(1)|thm"><span>g_lift2_simps</span></span></span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="free"><span>op</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_empty|const"><span>g_empty</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_empty|const"><span>g_empty</span></a><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="free"><span>op</span></span><span> </span><span class="free"><span>a</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_empty|const"><span>g_empty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_empty|const"><span>g_empty</span></a><span>"</span></span></span><span>
    
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="free"><span>op</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="free"><span>op</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="free"><span>op</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>op</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_11658..11668"><span>g_lift2_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply_def|fact"><span>g_apply_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_lift2_apply|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_lift2_apply|thm"><span class="entity_def" id="offset_12404..12417">g_lift2_apply</span></span></span><span class="main"><span>:</span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="free"><span>op</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="free"><span>f<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="free"><span>f<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>op</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>m<span class="hidden">⇩</span><sub>2</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_11658..11668"><span>g_lift2_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply_def|fact"><span>g_apply_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_lift2_apply_left|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_lift2_apply_left|thm"><span>g_lift2_apply_left</span></span></span><span class="main"><span>:</span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="free"><span>op</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="free"><span>f<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>op</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>m<span class="hidden">⇩</span><sub>2</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_12404..12417"><span>g_lift2_apply</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> f<span class="hidden">⇩</span><sub>2</sub></span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span>id</span></a></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 
        
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_lift2_apply_right|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_lift2_apply_right|thm"><span>g_lift2_apply_right</span></span></span><span class="main"><span>:</span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="free"><span>op</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="free"><span>f<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>op</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>m<span class="hidden">⇩</span><sub>2</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_12404..12417"><span>g_lift2_apply</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> f<span class="hidden">⇩</span><sub>1</sub></span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span>id</span></a></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 
    
  
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
      
  </span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Power›</span></span></span><span>
  </span><span class="comment1"><span>(*
    Analogously to fold, there is a left and right power
  *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM|type"><span>gM</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>fi</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'c</span></span><span class="main"><span>⇒</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>⇒</span></span><span class="tfree"><span>'c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'c</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.g_powl.elims|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powl.induct|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powl.simps|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powl.pelims|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powl.cases|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powl.termination|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powl.pinduct|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powl.psimps|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powl_rel.inducts|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powl_rel.simps|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powl_rel.induct|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powl_rel.cases|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powl_rel.intros|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powl_graph.inducts|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powl_graph.simps|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powl_graph.induct|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powl_graph.cases|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powl_graph.intros|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powl.elims|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powl.induct|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powl.simps(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powl.simps(1)|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powl.pelims|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powl.cases|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powl.termination|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powl.pinduct|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powl.psimps(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powl.psimps(1)|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powl_rel.inducts|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powl_rel.simps|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powl_rel.induct|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powl_rel.cases|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powl_rel.intros|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powl_graph.inducts|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powl_graph.simps|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powl_graph.induct|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powl_graph.cases|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powl_graph.intros(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powl_graph.intros(1)|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powl_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.g_powl_rel_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.g_powl_sumC_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.g_powl_graph_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.g_powl_dom|const"><span class="entity_def" id="Ndet_Parser_Monad.g_powl_rel|const"><span class="entity_def" id="Ndet_Parser_Monad.g_powl_sumC|const"><span class="entity_def" id="Ndet_Parser_Monad.g_powl_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Ndet_Parser_Monad.g_powl|const"><span>g_powl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
      </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g_powl</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="free"><span>fi</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g_powl</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="free"><span>fi</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>g_powl</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
    
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

  </span><span class="comment1"><span>(* Example for left-associativity: *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powl|const"><span>g_powl</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><span>,</span></span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="numeral"><span>3</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.eval_nat_numeral|fact"><span>eval_nat_numeral</span></a><span class="main"><span>)</span></span><span>
      
  </span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM|type"><span>gM</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>fi</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>⇒</span></span><span class="tfree"><span>'c</span></span><span class="main"><span>⇒</span></span><span class="tfree"><span>'c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'c</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.g_powr.elims|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powr.induct|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powr.simps|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powr.pelims|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powr.cases|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powr.termination|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powr.pinduct|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powr.psimps|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powr_rel.inducts|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powr_rel.simps|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powr_rel.induct|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powr_rel.cases|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powr_rel.intros|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powr_graph.inducts|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powr_graph.simps|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powr_graph.induct|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powr_graph.cases|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powr_graph.intros|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powr.elims|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powr.induct|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powr.simps(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powr.simps(1)|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powr.pelims|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powr.cases|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powr.termination|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powr.pinduct|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powr.psimps(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powr.psimps(1)|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powr_rel.inducts|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powr_rel.simps|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powr_rel.induct|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powr_rel.cases|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powr_rel.intros|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powr_graph.inducts|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powr_graph.simps|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powr_graph.induct|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powr_graph.cases|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powr_graph.intros(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powr_graph.intros(1)|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_powr_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.g_powr_rel_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.g_powr_sumC_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.g_powr_graph_def|axiom"><span class="entity_def" id="Ndet_Parser_Monad.g_powr_dom|const"><span class="entity_def" id="Ndet_Parser_Monad.g_powr_rel|const"><span class="entity_def" id="Ndet_Parser_Monad.g_powr_sumC|const"><span class="entity_def" id="Ndet_Parser_Monad.g_powr_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Ndet_Parser_Monad.g_powr|const"><span>g_powr</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
      </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g_powr</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="free"><span>fi</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g_powr</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="free"><span>fi</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>g_powr</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

        
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>  

  </span><span class="comment1"><span>(* Example for right-associativity: *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powr|const"><span>g_powr</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><span>,</span></span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="numeral"><span>3</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.eval_nat_numeral|fact"><span>eval_nat_numeral</span></a><span class="main"><span>)</span></span><span>

    
  </span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span> </span><span class="keyword1"><span class="command"><span>interpretation</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
    
  </span><span class="comment1"><span>(* Normalized AST form *)</span></span><span>  
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_powr_Cons_foldr|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powr_Cons_foldr|thm"><span>g_powr_Cons_foldr</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powr|const"><span>g_powr</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>(#)</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>xs</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.foldr|const"><span>foldr</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powr|const"><span>g_powr</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><span>,</span></span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply_def|fact"><span>g_apply_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2_def|fact"><span>g_lift2_def</span></a><span class="main"><span>)</span></span><span> </span><span class="comment1"><span>(* Going back to basic monad definitions, and using monad laws *)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_powl_snoc_foldl|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powl_snoc_foldl|thm"><span>g_powl_snoc_foldl</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powl|const"><span>g_powl</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>xs</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="main"><span>[</span></span><span class="bound"><span>x</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.foldl|const"><span>foldl</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powl|const"><span>g_powl</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><span>,</span></span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply_def|fact"><span>g_apply_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2_def|fact"><span>g_lift2_def</span></a><span class="main"><span>)</span></span><span> </span><span class="comment1"><span>(* Going back to basic monad definitions, and using monad laws *)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>      
    
  </span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Star›</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.g_starr_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_starr_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_starr_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Ndet_Parser_Monad.g_starr|const"><span>g_starr</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g_starr</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ce</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_Union|const"><span>g_Union</span></a><span> </span><span class="main"><span>{</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powr|const"><span>g_powr</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ce</span></span></span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.g_starl_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_starl_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_starl_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Ndet_Parser_Monad.g_starl|const"><span>g_starl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g_starl</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ce</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_Union|const"><span>g_Union</span></a><span> </span><span class="main"><span>{</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powl|const"><span>g_powl</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ce</span></span></span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>


  </span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr|const"><span>g_starr</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>*&amp;</span></span><span>"</span></span><span> 100</span><span class="main"><span>)</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl|const"><span>g_starl</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>&amp;*</span></span><span>"</span></span><span> 100</span><span class="main"><span>)</span></span><span>  

  </span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span> </span><span class="keyword1"><span class="command"><span>interpretation</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  
          
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.igr_starr|fact"><span class="entity_def" id="Ndet_Parser_Monad.igr_starr|thm"><span class="entity_def" id="offset_14769..14778">igr_starr</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_simps|attribute"><span class="operator"><span>igr_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr|const"><span>*&amp;</span></a></span><span> </span><span class="free"><span>fi</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powr|const"><span>g_powr</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>fi</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr_def|fact"><span>g_starr_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr&apos;|method"><span class="operator"><span>igr'</span></span></a><span> 

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.igr_starl|fact"><span class="entity_def" id="Ndet_Parser_Monad.igr_starl|thm"><span class="entity_def" id="offset_14905..14914">igr_starl</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_simps|attribute"><span class="operator"><span>igr_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl|const"><span>&amp;*</span></a></span><span> </span><span class="free"><span>fi</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powl|const"><span>g_powl</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>fi</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl_def|fact"><span>g_starl_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr&apos;|method"><span class="operator"><span>igr'</span></span></a><span> 
    
        
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_starr_unfold|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_starr_unfold|thm"><span>g_starr_unfold</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr|const"><span>g_starr</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>fi</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="free"><span>fi</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="free"><span>fi</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr|const"><span>g_starr</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>fi</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_eq_iff|fact"><span>igr_eq_iff</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_14769..14778"><span>igr_starr</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> w r n
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>n</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span class="main"><span>)</span></span><span> 
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> w r
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_simps|fact"><span class="dynamic"><span class="dynamic"><span>igr_simps</span></span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> w<span class="hidden">⇩</span><sub>1</sub> x w<span class="hidden">⇩</span><sub>2</sub> y n
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="skolem"><span>n</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_starl_unfold|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_starl_unfold|thm"><span>g_starl_unfold</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl|const"><span>g_starl</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>fi</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="free"><span>fi</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="free"><span>fi</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl|const"><span>g_starl</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>fi</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_eq_iff|fact"><span>igr_eq_iff</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_14905..14914"><span>igr_starl</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> w r n
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>n</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span class="main"><span>)</span></span><span> 
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> w r
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_simps|fact"><span class="dynamic"><span class="dynamic"><span>igr_simps</span></span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> w<span class="hidden">⇩</span><sub>1</sub> x n w<span class="hidden">⇩</span><sub>2</sub> y
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="skolem"><span>n</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>  
  
</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Algebraic Structure of Cons,Append,Empty›</span></span></span><span>

  </span><span class="comment1"><span>(*
    Structure with a cons, empty and append, such that empty is a left-id, and append is associative
  *)</span></span><span>  
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_struct.intro|fact"><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_struct_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_struct.intro|thm"><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_struct_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_struct_def|axiom"><span>locale</span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_struct|locale"><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_struct|const"><span>assoc_cons_append_struct</span></span></span><span> </span><span class="main"><span>=</span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>cons</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>append</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> 
      </span><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_struct.cons_append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_struct.cons_append_assoc|thm"><span class="entity_def" id="offset_16208..16225">cons_append_assoc</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>append</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>cons</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>zs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>cons</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>append</span></span><span> </span><span class="free"><span>ys</span></span><span> </span><span class="free"><span>zs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      
  </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>   
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
  
  </span><span class="comment1"><span>(* The dual is a snoc-append structure *)</span></span><span>  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.assoc_snoc_append_struct.intro|fact"><span class="entity_def" id="Ndet_Parser_Monad.assoc_snoc_append_struct_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.assoc_snoc_append_struct.intro|thm"><span class="entity_def" id="Ndet_Parser_Monad.assoc_snoc_append_struct_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.assoc_snoc_append_struct_def|axiom"><span>locale</span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.assoc_snoc_append_struct|locale"><span class="entity_def" id="Ndet_Parser_Monad.assoc_snoc_append_struct|const"><span>assoc_snoc_append_struct</span></span></span><span> </span><span class="main"><span>=</span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>snoc</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>append</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> 
      </span><span class="entity_def" id="Ndet_Parser_Monad.assoc_snoc_append_struct.snoc_append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.assoc_snoc_append_struct.snoc_append_assoc|thm"><span class="entity_def" id="offset_16472..16489">snoc_append_assoc</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>append</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>snoc</span></span><span> </span><span class="free"><span>ys</span></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>snoc</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>append</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>z</span></span><span>"</span></span></span><span>
      
  </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>   
    
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

  </span><span class="comment1"><span>(* Append and empty are a monoid *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.append_empty_monoid.intro|fact"><span class="entity_def" id="Ndet_Parser_Monad.append_empty_monoid_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.append_empty_monoid.intro|thm"><span class="entity_def" id="Ndet_Parser_Monad.append_empty_monoid_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.append_empty_monoid_def|axiom"><span>locale</span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.append_empty_monoid|locale"><span class="entity_def" id="Ndet_Parser_Monad.append_empty_monoid|const"><span>append_empty_monoid</span></span></span><span> </span><span class="main"><span>=</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>empty</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span class="quoted"><span class="tfree"><span>'b</span></span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>append</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.append_empty_monoid.append_left_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.append_empty_monoid.append_left_id|thm"><span class="entity_def" id="offset_16710..16724">append_left_id</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>append</span></span><span> </span><span class="free"><span>empty</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>xs</span></span><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.append_empty_monoid.append_right_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.append_empty_monoid.append_right_id|thm"><span class="entity_def" id="offset_16762..16777">append_right_id</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>append</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>empty</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>xs</span></span><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.append_empty_monoid.append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.append_empty_monoid.append_assoc|thm"><span class="entity_def" id="offset_16815..16827">append_assoc</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>append</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>append</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>zs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>append</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>append</span></span><span> </span><span class="free"><span>ys</span></span><span> </span><span class="free"><span>zs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.append_empty_monoid.append_ai|fact"><span class="entity_def" id="Ndet_Parser_Monad.append_empty_monoid.append_ai(3)|thm"><span class="entity_def" id="Ndet_Parser_Monad.append_empty_monoid.append_ai(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.append_empty_monoid.append_ai(1)|thm"><span class="entity_def" id="offset_16902..16911">append_ai</span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_16710..16724"><span>append_left_id</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_16762..16777"><span>append_right_id</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_16815..16827"><span>append_assoc</span></a><span>
  
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>  

  </span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.semigroup|const"><span>semigroup</span></a></span><span>
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_monoid_struct.axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_monoid_struct.intro|fact"><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_monoid_struct_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_monoid_struct.axioms(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_monoid_struct.axioms(1)|thm"><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_monoid_struct.intro|thm"><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_monoid_struct_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_monoid_struct_def|axiom"><span>locale</span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_monoid_struct|locale"><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_monoid_struct|const"><span>assoc_cons_append_monoid_struct</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.assoc_cons_append_struct|locale"><span>assoc_cons_append_struct</span></a><span> </span><span class="main"><span>+</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.append_empty_monoid|locale"><span>append_empty_monoid</span></a><span> </span><span class="main"><span>+</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>constrains</span></span></span><span> cons </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_monoid_struct.snoc|const"><span class="entity_def" id="offset_17155..17159">snoc</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>snoc</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="free"><span>append</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>cons</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="free"><span>empty</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_monoid_struct.ce|const"><span class="entity_def" id="offset_17249..17251">ce</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>cons</span></span><span class="main"><span>,</span></span><span class="free"><span>empty</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.assoc_snoc_append_monoid_struct.axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.assoc_snoc_append_monoid_struct.intro|fact"><span class="entity_def" id="Ndet_Parser_Monad.assoc_snoc_append_monoid_struct_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.assoc_snoc_append_monoid_struct.axioms(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.assoc_snoc_append_monoid_struct.axioms(1)|thm"><span class="entity_def" id="Ndet_Parser_Monad.assoc_snoc_append_monoid_struct.intro|thm"><span class="entity_def" id="Ndet_Parser_Monad.assoc_snoc_append_monoid_struct_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.assoc_snoc_append_monoid_struct_def|axiom"><span>locale</span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.assoc_snoc_append_monoid_struct|locale"><span class="entity_def" id="Ndet_Parser_Monad.assoc_snoc_append_monoid_struct|const"><span>assoc_snoc_append_monoid_struct</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.assoc_snoc_append_struct|locale"><span>assoc_snoc_append_struct</span></a><span> </span><span class="main"><span>+</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.append_empty_monoid|locale"><span>append_empty_monoid</span></a><span> </span><span class="main"><span>+</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>constrains</span></span></span><span> snoc </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="Ndet_Parser_Monad.assoc_snoc_append_monoid_struct.cons|const"><span class="entity_def" id="offset_17441..17445">cons</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cons</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="free"><span>append</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>snoc</span></span><span> </span><span class="free"><span>empty</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ndet_Parser_Monad.assoc_snoc_append_monoid_struct.ce|const"><span>ce</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>snoc</span></span><span class="main"><span>,</span></span><span class="free"><span>empty</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

  
  </span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.assoc_cons_append_monoid_struct|locale"><span>assoc_cons_append_monoid_struct</span></a><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_monoid_struct.dual|fact"><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_monoid_struct.dual|thm"><span>dual</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.assoc_snoc_append_monoid_struct|const"><span>assoc_snoc_append_monoid_struct</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_17155..17159"><span>snoc</span></a><span> </span><span class="free"><span>append</span></span><span> </span><span class="free"><span>empty</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold_locales</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_16902..16911"><span>append_ai</span></a><span class="main"><span>)</span></span><span>
    
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.assoc_snoc_append_monoid_struct|locale"><span>assoc_snoc_append_monoid_struct</span></a><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.assoc_snoc_append_monoid_struct.dual|fact"><span class="entity_def" id="Ndet_Parser_Monad.assoc_snoc_append_monoid_struct.dual|thm"><span>dual</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.assoc_cons_append_monoid_struct|const"><span>assoc_cons_append_monoid_struct</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_17441..17445"><span>cons</span></a><span> </span><span class="free"><span>append</span></span><span> </span><span class="free"><span>empty</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold_locales</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_16902..16911"><span>append_ai</span></a><span class="main"><span>)</span></span><span>
    
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
      
    
  </span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.assoc_cons_append_monoid_struct|locale"><span>assoc_cons_append_monoid_struct</span></a><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>context</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>notes</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_16208..16225"><span>cons_append_assoc</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_16902..16911"><span>append_ai</span></a><span>
    </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
  
      </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_monoid_struct.g_powr_add|fact"><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_monoid_struct.g_powr_add|thm"><span class="entity_def" id="offset_18089..18099">g_powr_add</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powr|const"><span>g_powr</span></a><span> </span><span class="free"><span>m</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_17249..17251"><span>ce</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>n'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>append</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powr|const"><span>g_powr</span></a><span> </span><span class="free"><span>m</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_17249..17251"><span>ce</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powr|const"><span>g_powr</span></a><span> </span><span class="free"><span>m</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_17249..17251"><span>ce</span></a><span> </span><span class="free"><span>n'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply_def|fact"><span>g_apply_def</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply_def|fact"><span>g_apply_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2_def|fact"><span>g_lift2_def</span></a><span class="main"><span>)</span></span><span> </span><span class="comment1"><span>(* Going back to basic monad definitions, and using monad laws *)</span></span><span>
    
      </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_monoid_struct.g_powr_Suc_rev|fact"><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_monoid_struct.g_powr_Suc_rev|thm"><span class="entity_def" id="offset_18391..18405">g_powr_Suc_rev</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powr|const"><span>g_powr</span></a><span> </span><span class="free"><span>m</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_17249..17251"><span>ce</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_17155..17159"><span>snoc</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powr|const"><span>g_powr</span></a><span> </span><span class="free"><span>m</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_17249..17251"><span>ce</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>  
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>del</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powr.simps|fact"><span>g_powr.simps</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_18089..18099"><span>g_powr_add</span></a><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span> </span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powr.simps|fact"><span>g_powr.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply_def|fact"><span>g_apply_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2_def|fact"><span>g_lift2_def</span></a><span class="main"><span>)</span></span><span> </span><span class="comment1"><span>(* Going back to basic monad definitions, and using monad laws *)</span></span><span>
      
      </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_monoid_struct.g_powr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_monoid_struct.g_powr_conv_l|thm"><span class="entity_def" id="offset_18741..18754">g_powr_conv_l</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powr|const"><span>g_powr</span></a><span> </span><span class="free"><span>m</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_17249..17251"><span>ce</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powl|const"><span>g_powl</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_17155..17159"><span>snoc</span></a><span class="main"><span>,</span></span><span class="free"><span>empty</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>del</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powr.simps|fact"><span>g_powr.simps</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>    
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_18391..18405"><span>g_powr_Suc_rev</span></a><span class="main"><span>)</span></span><span>    
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
        
                
    </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>      

    </span><span class="keyword1"><span class="command"><span>interpretation</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
        
    </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_monoid_struct.g_starr_join|fact"><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_monoid_struct.g_starr_join|thm"><span>g_starr_join</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="free"><span>append</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr|const"><span>*&amp;</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_17249..17251"><span>ce</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr|const"><span>*&amp;</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_17249..17251"><span>ce</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr|const"><span>*&amp;</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_17249..17251"><span>ce</span></a><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr_def|fact"><span>g_starr_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2_def|fact"><span>g_lift2_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_Union_Union_join|fact"><span>g_Union_Union_join</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Refine_Util.html#Refine_Util.fo_rule|method"><span class="operator"><span>fo_rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2_def|fact"><span>g_lift2_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_18089..18099"><span>g_powr_add</span></a><span class="main"><span>)</span></span><span>
        </span><span class="comment1"><span>(* TODO: Phrase g_powr_add in g_powr ⤜ ctd = … form *)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> 
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.add_0|fact"><span>add_0</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2_def|fact"><span>g_lift2_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_18089..18099"><span>g_powr_add</span></a><span class="main"><span>)</span></span><span>
        </span><span class="comment1"><span>(* TODO: Phrase g_powr_add in g_powr ⤜ ctd = … form *)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
                
    </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_monoid_struct.g_starr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.assoc_cons_append_monoid_struct.g_starr_conv_l|thm"><span>g_starr_conv_l</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr|const"><span>*&amp;</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_17249..17251"><span>ce</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl|const"><span>&amp;*</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_17155..17159"><span>snoc</span></a><span class="main"><span>,</span></span><span class="free"><span>empty</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr_def|fact"><span>g_starr_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl_def|fact"><span>g_starl_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_18741..18754"><span>g_powr_conv_l</span></a><span class="main"><span>)</span></span><span>
    
    
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>      

  </span><span class="comment1"><span>(* Technical lemma, to prevent safe/auto from running havoc on common ⋃_ = ⋃_ goals *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.cleanup_double_set_image|fact"><span class="entity_def" id="Ndet_Parser_Monad.cleanup_double_set_image|thm"><span>cleanup_double_set_image</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>m</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>g</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>}</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span> </span><span class="keyword1"><span class="command"><span>interpretation</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
        
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_19929..19934">lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.starl_bind_eqI|fact"><span class="entity_def" id="Ndet_Parser_Monad.starl_bind_eqI|thm"><span>starl_bind_eqI</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powl|const"><span>g_powl</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>fi</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>x'</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powl|const"><span>g_powl</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>fi'</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>c'</span></span><span> </span><span class="bound"><span>x'</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl|const"><span>&amp;*</span></a></span><span> </span><span class="free"><span>fi</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>x'</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl|const"><span>&amp;*</span></a></span><span> </span><span class="free"><span>fi'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>c'</span></span><span> </span><span class="bound"><span>x'</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl_def|fact"><span>g_starl_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_Union_distrib_bind|fact"><span>g_Union_distrib_bind</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.cleanup_double_set_image|fact"><span>cleanup_double_set_image</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_19929..19934"><span>assms</span></a><span class="main"><span>)</span></span><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_20201..20206">lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.starr_bind_eqI|fact"><span class="entity_def" id="Ndet_Parser_Monad.starr_bind_eqI|thm"><span>starr_bind_eqI</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powr|const"><span>g_powr</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>fi</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>x'</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powr|const"><span>g_powr</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>fi'</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>c'</span></span><span> </span><span class="bound"><span>x'</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr|const"><span>*&amp;</span></a></span><span> </span><span class="free"><span>fi</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>x'</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr|const"><span>*&amp;</span></a></span><span> </span><span class="free"><span>fi'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>c'</span></span><span> </span><span class="bound"><span>x'</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr_def|fact"><span>g_starr_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_Union_distrib_bind|fact"><span>g_Union_distrib_bind</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.cleanup_double_set_image|fact"><span>cleanup_double_set_image</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_20201..20206"><span>assms</span></a><span class="main"><span>)</span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>  
          
  </span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.assoc_snoc_append_monoid_struct|locale"><span>assoc_snoc_append_monoid_struct</span></a><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
    
    </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.assoc_snoc_append_monoid_struct.g_powl_append_conv|fact"><span class="entity_def" id="Ndet_Parser_Monad.assoc_snoc_append_monoid_struct.g_powl_append_conv|thm"><span class="entity_def" id="offset_20553..20571">g_powl_append_conv</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powl|const"><span>g_powl</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>snoc</span></span><span class="main"><span>,</span></span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>append</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>y'</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powl|const"><span>g_powl</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>snoc</span></span><span class="main"><span>,</span></span><span class="free"><span>append</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="bound"><span>y'</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>c</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>0</span><span> </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_20760..20763">Suc</span><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>)</span></span><span>
      
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2_def|fact"><span>g_lift2_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_16472..16489"><span>snoc_append_assoc</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_20760..20763"><span>Suc.IH</span></a><span class="main"><span>)</span></span><span> 
        </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>    

    </span><span class="keyword1"><span class="command"><span>interpretation</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>      
    </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.assoc_snoc_append_monoid_struct.g_starl_append_conv|fact"><span class="entity_def" id="Ndet_Parser_Monad.assoc_snoc_append_monoid_struct.g_starl_append_conv|thm"><span>g_starl_append_conv</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl|const"><span>&amp;*</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>snoc</span></span><span class="main"><span>,</span></span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>append</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>y'</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl|const"><span>&amp;*</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>snoc</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>append</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="bound"><span>y'</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>  
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.starl_bind_eqI|fact"><span>starl_bind_eqI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_20553..20571"><span>g_powl_append_conv</span></a><span class="main"><span>)</span></span><span>    
    
  
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Standard Append Structures›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.g_starr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.g_starr_join|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.g_powr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.g_powr_Suc_rev|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.g_powr_add|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.dual|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.assoc_cons_append_monoid_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.append_ai|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.append_right_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.append_left_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.append_empty_monoid_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.cons_append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.assoc_cons_append_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.g_starr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.g_starr_join|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.g_powr_Suc_rev|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.g_powr_add|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.append_ai(3)|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.append_ai(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.append_ai(1)|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.append_right_id|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.append_left_id|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.cons_append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.g_powr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.dual|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.assoc_cons_append_monoid_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.append_empty_monoid_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.assoc_cons_append_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.ce|const"><span class="entity_def" id="Ndet_Parser_Monad.acam_list.snoc|const"><span>interpretation</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> acam_list</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.assoc_cons_append_monoid_struct|locale"><span>assoc_cons_append_monoid_struct</span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>(#)</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>(@)</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>unfold_locales</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.asam_list.g_starl_append_conv|fact"><span class="entity_def" id="Ndet_Parser_Monad.asam_list.g_powl_append_conv|fact"><span class="entity_def" id="Ndet_Parser_Monad.asam_list.dual|fact"><span class="entity_def" id="Ndet_Parser_Monad.asam_list.assoc_snoc_append_monoid_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.asam_list.snoc_append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.asam_list.assoc_snoc_append_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.asam_list.g_starl_append_conv|thm"><span class="entity_def" id="Ndet_Parser_Monad.asam_list.g_powl_append_conv|thm"><span class="entity_def" id="Ndet_Parser_Monad.asam_list.dual|thm"><span class="entity_def" id="Ndet_Parser_Monad.asam_list.snoc_append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.asam_list.assoc_snoc_append_monoid_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.asam_list.assoc_snoc_append_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.asam_list.ce|const"><span class="entity_def" id="Ndet_Parser_Monad.asam_list.cons|const"><span>interpretation</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> asam_list</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.assoc_snoc_append_monoid_struct|locale"><span>assoc_snoc_append_monoid_struct</span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>xs</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="main"><span>[</span></span><span class="bound"><span>x</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>(@)</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.acam_list.dual|fact"><span>acam_list.dual</span></a><span class="main"><span>)</span></span><span>
    
    
    
  </span><span class="comment1"><span>(*interpretation acam_unit: assoc_cons_append_struct f "()" g
    apply unfold_locales
    by auto
  *)</span></span><span>
  
  </span><span class="comment1"><span>(* Unlike acam_unit, this version does not introduce extra variables. *)</span></span><span>      
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.g_starr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.g_starr_join|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.g_powr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.g_powr_Suc_rev|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.g_powr_add|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.dual|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.assoc_cons_append_monoid_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.append_ai|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.append_right_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.append_left_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.append_empty_monoid_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.cons_append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.assoc_cons_append_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.g_starr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.g_starr_join|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.g_powr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.g_powr_Suc_rev|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.g_powr_add|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.dual|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.append_ai(3)|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.append_ai(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.append_ai(1)|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.append_right_id|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.append_left_id|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.cons_append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.assoc_cons_append_monoid_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.append_empty_monoid_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.assoc_cons_append_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.ce|const"><span class="entity_def" id="Ndet_Parser_Monad.acam_ignore.snoc|const"><span>interpretation</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> acam_ignore</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.assoc_cons_append_monoid_struct|locale"><span>assoc_cons_append_monoid_struct</span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>unfold_locales</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>  
    
  </span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.monoid|locale"><span>monoid</span></a><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.conj.g_starr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.conj.g_starr_join|fact"><span class="entity_def" id="Ndet_Parser_Monad.conj.g_powr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.conj.g_powr_Suc_rev|fact"><span class="entity_def" id="Ndet_Parser_Monad.conj.g_powr_add|fact"><span class="entity_def" id="Ndet_Parser_Monad.conj.dual|fact"><span class="entity_def" id="Ndet_Parser_Monad.conj.assoc_cons_append_monoid_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.conj.append_ai|fact"><span class="entity_def" id="Ndet_Parser_Monad.conj.append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.conj.append_right_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.conj.append_left_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.conj.append_empty_monoid_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.conj.cons_append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.conj.assoc_cons_append_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.disj.g_starr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.disj.g_starr_join|fact"><span class="entity_def" id="Ndet_Parser_Monad.disj.g_powr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.disj.g_powr_Suc_rev|fact"><span class="entity_def" id="Ndet_Parser_Monad.disj.g_powr_add|fact"><span class="entity_def" id="Ndet_Parser_Monad.disj.dual|fact"><span class="entity_def" id="Ndet_Parser_Monad.disj.assoc_cons_append_monoid_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.disj.append_ai|fact"><span class="entity_def" id="Ndet_Parser_Monad.disj.append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.disj.append_right_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.disj.append_left_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.disj.append_empty_monoid_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.disj.cons_append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.disj.assoc_cons_append_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.append.g_starr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.append.g_starr_join|fact"><span class="entity_def" id="Ndet_Parser_Monad.append.g_powr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.append.g_powr_Suc_rev|fact"><span class="entity_def" id="Ndet_Parser_Monad.append.g_powr_add|fact"><span class="entity_def" id="Ndet_Parser_Monad.append.dual|fact"><span class="entity_def" id="Ndet_Parser_Monad.append.assoc_cons_append_monoid_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.append.cons_append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.append.assoc_cons_append_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.g_starr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.g_starr_join|fact"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.g_powr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.g_powr_Suc_rev|fact"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.g_powr_add|fact"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.dual|fact"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.assoc_cons_append_monoid_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.append_ai|fact"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.append_right_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.append_left_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.append_empty_monoid_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.cons_append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.assoc_cons_append_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.g_starr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.g_starr_join|fact"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.g_powr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.g_powr_Suc_rev|fact"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.g_powr_add|fact"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.dual|fact"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.assoc_cons_append_monoid_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.append_ai|fact"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.append_right_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.append_left_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.append_empty_monoid_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.cons_append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.assoc_cons_append_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.g_starr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.g_starr_join|fact"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.g_powr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.g_powr_Suc_rev|fact"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.g_powr_add|fact"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.dual|fact"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.assoc_cons_append_monoid_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.append_ai|fact"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.append_right_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.append_left_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.append_empty_monoid_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.cons_append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.assoc_cons_append_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.g_starr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.g_starr_join|fact"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.g_powr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.g_powr_Suc_rev|fact"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.g_powr_add|fact"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.dual|fact"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.assoc_cons_append_monoid_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.append_ai|fact"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.append_right_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.append_left_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.append_empty_monoid_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.cons_append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.assoc_cons_append_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.g_starr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.g_starr_join|fact"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.g_powr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.g_powr_Suc_rev|fact"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.g_powr_add|fact"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.dual|fact"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.assoc_cons_append_monoid_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.append_ai|fact"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.append_right_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.append_left_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.append_empty_monoid_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.cons_append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.assoc_cons_append_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.g_starr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.g_starr_join|fact"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.g_powr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.g_powr_Suc_rev|fact"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.g_powr_add|fact"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.dual|fact"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.assoc_cons_append_monoid_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.append_ai|fact"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.append_right_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.append_left_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.append_empty_monoid_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.cons_append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.assoc_cons_append_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.g_starr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.g_starr_join|fact"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.g_powr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.g_powr_Suc_rev|fact"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.g_powr_add|fact"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.dual|fact"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.assoc_cons_append_monoid_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.append_ai|fact"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.append_right_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.append_left_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.append_empty_monoid_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.cons_append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.assoc_cons_append_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.g_starr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.g_starr_join|fact"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.g_powr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.g_powr_Suc_rev|fact"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.g_powr_add|fact"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.dual|fact"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.assoc_cons_append_monoid_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.append_ai|fact"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.append_right_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.append_left_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.append_empty_monoid_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.cons_append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.assoc_cons_append_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.g_starr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.g_starr_join|fact"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.g_powr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.g_powr_Suc_rev|fact"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.g_powr_add|fact"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.dual|fact"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.assoc_cons_append_monoid_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.append_ai|fact"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.append_right_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.append_left_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.append_empty_monoid_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.cons_append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.assoc_cons_append_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.g_starr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.g_starr_join|fact"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.g_powr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.g_powr_Suc_rev|fact"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.g_powr_add|fact"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.dual|fact"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.assoc_cons_append_monoid_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.append_ai|fact"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.append_right_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.append_left_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.append_empty_monoid_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.cons_append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.assoc_cons_append_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.g_starr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.g_starr_join|fact"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.g_powr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.g_powr_Suc_rev|fact"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.g_powr_add|fact"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.dual|fact"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.assoc_cons_append_monoid_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.append_ai|fact"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.append_right_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.append_left_id|fact"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.append_empty_monoid_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.cons_append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.assoc_cons_append_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.conj.g_starr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.conj.g_starr_join|thm"><span class="entity_def" id="Ndet_Parser_Monad.conj.g_powr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.conj.g_powr_Suc_rev|thm"><span class="entity_def" id="Ndet_Parser_Monad.conj.g_powr_add|thm"><span class="entity_def" id="Ndet_Parser_Monad.conj.dual|thm"><span class="entity_def" id="Ndet_Parser_Monad.conj.append_ai(3)|thm"><span class="entity_def" id="Ndet_Parser_Monad.conj.append_ai(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.conj.append_ai(1)|thm"><span class="entity_def" id="Ndet_Parser_Monad.conj.append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.conj.append_right_id|thm"><span class="entity_def" id="Ndet_Parser_Monad.conj.append_left_id|thm"><span class="entity_def" id="Ndet_Parser_Monad.conj.cons_append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.disj.g_starr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.disj.g_starr_join|thm"><span class="entity_def" id="Ndet_Parser_Monad.disj.g_powr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.disj.g_powr_Suc_rev|thm"><span class="entity_def" id="Ndet_Parser_Monad.disj.g_powr_add|thm"><span class="entity_def" id="Ndet_Parser_Monad.disj.dual|thm"><span class="entity_def" id="Ndet_Parser_Monad.disj.append_ai(3)|thm"><span class="entity_def" id="Ndet_Parser_Monad.disj.append_ai(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.disj.append_ai(1)|thm"><span class="entity_def" id="Ndet_Parser_Monad.disj.append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.disj.append_right_id|thm"><span class="entity_def" id="Ndet_Parser_Monad.disj.append_left_id|thm"><span class="entity_def" id="Ndet_Parser_Monad.disj.cons_append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.append.g_starr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.append.g_starr_join|thm"><span class="entity_def" id="Ndet_Parser_Monad.append.g_powr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.append.g_powr_Suc_rev|thm"><span class="entity_def" id="Ndet_Parser_Monad.append.g_powr_add|thm"><span class="entity_def" id="Ndet_Parser_Monad.append.dual|thm"><span class="entity_def" id="Ndet_Parser_Monad.append.cons_append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.g_starr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.g_starr_join|thm"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.g_powr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.g_powr_Suc_rev|thm"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.g_powr_add|thm"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.dual|thm"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.append_ai(3)|thm"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.append_ai(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.append_ai(1)|thm"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.append_right_id|thm"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.append_left_id|thm"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.cons_append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.g_starr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.g_starr_join|thm"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.g_powr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.g_powr_Suc_rev|thm"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.g_powr_add|thm"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.dual|thm"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.append_ai(3)|thm"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.append_ai(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.append_ai(1)|thm"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.append_right_id|thm"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.append_left_id|thm"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.cons_append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.g_starr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.g_starr_join|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.g_powr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.g_powr_Suc_rev|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.g_powr_add|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.dual|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.append_ai(3)|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.append_ai(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.append_ai(1)|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.append_right_id|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.append_left_id|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.cons_append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.g_starr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.g_starr_join|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.g_powr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.g_powr_Suc_rev|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.g_powr_add|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.dual|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.append_ai(3)|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.append_ai(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.append_ai(1)|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.append_right_id|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.append_left_id|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.cons_append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.g_starr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.g_starr_join|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.g_powr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.g_powr_Suc_rev|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.g_powr_add|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.dual|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.append_ai(3)|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.append_ai(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.append_ai(1)|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.append_right_id|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.append_left_id|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.cons_append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.g_starr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.g_starr_join|thm"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.g_powr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.g_powr_Suc_rev|thm"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.g_powr_add|thm"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.dual|thm"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.append_ai(3)|thm"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.append_ai(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.append_ai(1)|thm"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.append_right_id|thm"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.append_left_id|thm"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.cons_append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.g_starr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.g_starr_join|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.g_powr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.g_powr_Suc_rev|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.g_powr_add|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.dual|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.append_ai(3)|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.append_ai(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.append_ai(1)|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.append_right_id|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.append_left_id|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.cons_append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.g_starr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.g_starr_join|thm"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.g_powr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.g_powr_Suc_rev|thm"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.g_powr_add|thm"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.dual|thm"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.append_ai(3)|thm"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.append_ai(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.append_ai(1)|thm"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.append_right_id|thm"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.append_left_id|thm"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.cons_append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.g_starr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.g_starr_join|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.g_powr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.g_powr_Suc_rev|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.g_powr_add|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.dual|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.append_ai(3)|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.append_ai(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.append_ai(1)|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.append_right_id|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.append_left_id|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.cons_append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.g_starr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.g_starr_join|thm"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.g_powr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.g_powr_Suc_rev|thm"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.g_powr_add|thm"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.dual|thm"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.append_ai(3)|thm"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.append_ai(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.append_ai(1)|thm"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.append_right_id|thm"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.append_left_id|thm"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.cons_append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.g_starr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.g_starr_join|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.g_powr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.g_powr_Suc_rev|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.g_powr_add|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.dual|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.append_ai(3)|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.append_ai(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.append_ai(1)|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.append_right_id|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.append_left_id|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.cons_append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.conj.assoc_cons_append_monoid_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.conj.append_empty_monoid_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.conj.assoc_cons_append_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.disj.assoc_cons_append_monoid_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.disj.append_empty_monoid_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.disj.assoc_cons_append_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.append.assoc_cons_append_monoid_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.append.assoc_cons_append_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.assoc_cons_append_monoid_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.append_empty_monoid_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.assoc_cons_append_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.assoc_cons_append_monoid_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.append_empty_monoid_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.assoc_cons_append_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.assoc_cons_append_monoid_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.append_empty_monoid_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.assoc_cons_append_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.assoc_cons_append_monoid_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.append_empty_monoid_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.assoc_cons_append_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.assoc_cons_append_monoid_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.append_empty_monoid_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.assoc_cons_append_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.assoc_cons_append_monoid_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.append_empty_monoid_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.assoc_cons_append_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.assoc_cons_append_monoid_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.append_empty_monoid_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.assoc_cons_append_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.assoc_cons_append_monoid_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.append_empty_monoid_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.assoc_cons_append_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.assoc_cons_append_monoid_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.append_empty_monoid_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.assoc_cons_append_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.assoc_cons_append_monoid_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.append_empty_monoid_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.assoc_cons_append_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.assoc_cons_append_monoid_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.append_empty_monoid_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.assoc_cons_append_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.conj.ce|const"><span class="entity_def" id="Ndet_Parser_Monad.conj.snoc|const"><span class="entity_def" id="Ndet_Parser_Monad.disj.ce|const"><span class="entity_def" id="Ndet_Parser_Monad.disj.snoc|const"><span class="entity_def" id="Ndet_Parser_Monad.append.ce|const"><span class="entity_def" id="Ndet_Parser_Monad.append.snoc|const"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.ce|const"><span class="entity_def" id="Ndet_Parser_Monad.gcd_nat.snoc|const"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.ce|const"><span class="entity_def" id="Ndet_Parser_Monad.subset_mset.snoc|const"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.ce|const"><span class="entity_def" id="Ndet_Parser_Monad.monoid_add_class.add.snoc|const"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.ce|const"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_inf_top_class.inf_top.snoc|const"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.ce|const"><span class="entity_def" id="Ndet_Parser_Monad.bounded_semilattice_sup_bot_class.sup_bot.snoc|const"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.ce|const"><span class="entity_def" id="Ndet_Parser_Monad.max_nat.snoc|const"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.ce|const"><span class="entity_def" id="Ndet_Parser_Monad.monoid_mult_class.mult.snoc|const"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.ce|const"><span class="entity_def" id="Ndet_Parser_Monad.sep.add.snoc|const"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.ce|const"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.or.snoc|const"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.ce|const"><span class="entity_def" id="Ndet_Parser_Monad.ring_bit_operations_class.and.snoc|const"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.ce|const"><span class="entity_def" id="Ndet_Parser_Monad.semiring_bit_operations_class.xor.snoc|const"><span>sublocale</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.assoc_cons_append_monoid_struct|locale"><span>assoc_cons_append_monoid_struct</span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>(<span class="hidden">❙</span><b>*</b>)</span></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>(<span class="hidden">❙</span><b>*</b>)</span></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span class="free"><span><span class="hidden">❙</span><b>1</b></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>unfold_locales</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp_all</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.ac_simps|fact"><span class="dynamic"><span class="dynamic"><span>ac_simps</span></span></span></a><span class="main"><span>)</span></span><span>
      
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>        

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.acam_insert.g_starr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_insert.g_starr_join|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_insert.g_powr_conv_l|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_insert.g_powr_Suc_rev|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_insert.g_powr_add|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_insert.dual|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_insert.assoc_cons_append_monoid_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_insert.cons_append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_insert.assoc_cons_append_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.acam_insert.g_starr_join|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_insert.g_powr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_insert.g_powr_Suc_rev|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_insert.g_powr_add|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_insert.cons_append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_insert.g_starr_conv_l|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_insert.dual|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_insert.assoc_cons_append_monoid_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_insert.assoc_cons_append_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.acam_insert.ce|const"><span class="entity_def" id="Ndet_Parser_Monad.acam_insert.snoc|const"><span>interpretation</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> acam_insert</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.assoc_cons_append_monoid_struct|locale"><span>assoc_cons_append_monoid_struct</span></a><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>(∪)</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>unfold_locales</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.asam_insert.g_starl_append_conv|fact"><span class="entity_def" id="Ndet_Parser_Monad.asam_insert.g_powl_append_conv|fact"><span class="entity_def" id="Ndet_Parser_Monad.asam_insert.dual|fact"><span class="entity_def" id="Ndet_Parser_Monad.asam_insert.assoc_snoc_append_monoid_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.asam_insert.snoc_append_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.asam_insert.assoc_snoc_append_struct_axioms|fact"><span class="entity_def" id="Ndet_Parser_Monad.asam_insert.g_powl_append_conv|thm"><span class="entity_def" id="Ndet_Parser_Monad.asam_insert.dual|thm"><span class="entity_def" id="Ndet_Parser_Monad.asam_insert.snoc_append_assoc|thm"><span class="entity_def" id="Ndet_Parser_Monad.asam_insert.g_starl_append_conv|thm"><span class="entity_def" id="Ndet_Parser_Monad.asam_insert.assoc_snoc_append_monoid_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.asam_insert.assoc_snoc_append_struct_axioms|thm"><span class="entity_def" id="Ndet_Parser_Monad.asam_insert.ce|const"><span class="entity_def" id="Ndet_Parser_Monad.asam_insert.cons|const"><span>interpretation</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> asam_insert</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.assoc_snoc_append_monoid_struct|locale"><span>assoc_snoc_append_monoid_struct</span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>s</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>(∪)</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.acam_insert.dual|fact"><span>acam_insert.dual</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

      
  </span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ndet_Parser_Monad.ceCons|const"><span>ceCons</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>(#)</span></a></span><span class="main"><span>,</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ndet_Parser_Monad.ceIgnore|const"><span>ceIgnore</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span class="main"><span>,</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ndet_Parser_Monad.ceInsert|const"><span>ceInsert</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span class="main"><span>,</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ndet_Parser_Monad.ceRevInsert|const"><span>ceRevInsert</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Folding and Star›</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span> </span><span class="keyword1"><span class="command"><span>interpretation</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_powr_Cons_foldl|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_powr_Cons_foldl|thm"><span class="entity_def" id="offset_22433..22450">g_powr_Cons_foldl</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'s</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'x</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'s</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powr|const"><span>g_powr</span></a><span> </span><span class="free"><span>m</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.acam_list.ce|const"><span>acam_list.ce</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.foldl|const"><span>foldl</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powl|const"><span>g_powl</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><span>,</span></span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.acam_list.g_powr_conv_l|fact"><span>acam_list.g_powr_conv_l</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powl_snoc_foldl|fact"><span>g_powl_snoc_foldl</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  
        
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_starr_foldl_conv_aux|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_starr_foldl_conv_aux|thm"><span class="entity_def" id="offset_22685..22707">g_starr_foldl_conv_aux</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="bound"><span>ma</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>ma</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="bound"><span>ma</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_starr_foldl_conv|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_starr_foldl_conv|thm"><span class="entity_def" id="offset_22785..22803">g_starr_foldl_conv</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr|const"><span>*&amp;</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.ceCons|const"><span>ceCons</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.foldl|const"><span>foldl</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl|const"><span>&amp;*</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><span>,</span></span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr_def|fact"><span>g_starr_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl_def|fact"><span>g_starl_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_Union_apply|fact"><span>g_Union_apply</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_22685..22707"><span>g_starr_foldl_conv_aux</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_22433..22450"><span>g_powr_Cons_foldl</span></a><span class="main"><span>)</span></span><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_starr_fold_conv|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_starr_fold_conv|thm"><span>g_starr_fold_conv</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr|const"><span>*&amp;</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.ceCons|const"><span>ceCons</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>xs</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.fold|const"><span>fold</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl|const"><span>&amp;*</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>c</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_22785..22803"><span>g_starr_foldl_conv</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.foldl_conv_fold|fact"><span>List.foldl_conv_fold</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><span class="free"><span>m</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>c</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
    
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
      
</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Insert and Star›</span></span></span><span>    

  </span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span> </span><span class="keyword1"><span class="command"><span>interpretation</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_starr_insert_first_elem_conv|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_starr_insert_first_elem_conv|thm"><span>g_starr_insert_first_elem_conv</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr|const"><span>*&amp;</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.ceInsert|const"><span>ceInsert</span></a><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span> 
      </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>s'</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starl|const"><span>&amp;*</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span class="main"><span>{</span></span><span class="free"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="bound"><span>s'</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.acam_insert.g_starr_conv_l|fact"><span>acam_insert.g_starr_conv_l</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.asam_insert.g_starl_append_conv|fact"><span>asam_insert.g_starl_append_conv</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="main"><span>_</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>      
    
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>experiment</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>context</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>fi</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>⇒</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>⇒</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'c</span></span><span class="main"><span>,</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM|type"><span>gM</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>interpretation</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.experiment13828476.starr&apos;.fixp_induct|fact"><span class="entity_def" id="Ndet_Parser_Monad.experiment13828476.starr&apos;.raw_induct|fact"><span class="entity_def" id="Ndet_Parser_Monad.experiment13828476.starr&apos;.mono|fact"><span class="entity_def" id="Ndet_Parser_Monad.experiment13828476.starr&apos;.simps|fact"><span class="entity_def" id="Ndet_Parser_Monad.experiment13828476.starr&apos;.fixp_induct|thm"><span class="entity_def" id="Ndet_Parser_Monad.experiment13828476.starr&apos;.raw_induct|thm"><span class="entity_def" id="Ndet_Parser_Monad.experiment13828476.starr&apos;.mono|thm"><span class="entity_def" id="Ndet_Parser_Monad.experiment13828476.starr&apos;.simps|thm"><span class="entity_def" id="Ndet_Parser_Monad.experiment13828476.starr&apos;_def|axiom"><span class="entity_def" id="offset_23658..23674">partial_function</span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span>gM</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="Ndet_Parser_Monad.experiment13828476.starr&apos;|const"><span class="entity_def" id="offset_23680..23686">starr'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>starr'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>uu</span></span></span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.unit|type"><span>unit</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="free"><span>fi</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="free"><span>fi</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>starr'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>   
    
  </span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_23658..23674"><span>starr'.raw_induct</span></a><span class="main"><span>[</span></span><span class="operator"><span>rotated</span></span><span class="main"><span>]</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>pw</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_23680..23686"><span>starr'</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>pw</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr|const"><span>*&amp;</span></a></span><span> </span><span class="free"><span>fi</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_23658..23674"><span>starr'.raw_induct</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>consumes</span></span><span> 1</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr_unfold|fact"><span>g_starr_unfold</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_fastforce|method"><span class="operator"><span>igr_fastforce</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  
    

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>



</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹More Combinators›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span> </span><span class="keyword1"><span class="command"><span>interpretation</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.g_ignore_right_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_ignore_right_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_ignore_right_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Ndet_Parser_Monad.g_ignore_right|const"><span>g_ignore_right</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g_ignore_right</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>←</span></span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.g_ignore_left_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_ignore_left_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_ignore_left_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Ndet_Parser_Monad.g_ignore_left|const"><span>g_ignore_left</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>_</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM|type"><span>gM</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g_ignore_left</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.g_char_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_char_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_char_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Ndet_Parser_Monad.g_char|const"><span>g_char</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g_char</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>C</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.GR|const"><span>GR</span></a><span> </span><span class="main"><span>{</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>[</span></span><span class="bound"><span>c</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span class="bound"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span class="bound"><span class="entity"><span>C</span></span></span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.g_plus_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_plus_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_plus_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span>"</span><span class="entity"><span class="entity_def" id="Ndet_Parser_Monad.g_plus|const"><span>g_plus</span></span></span><span>"</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g_plus</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>fi</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>fi</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr|const"><span>*&amp;</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>fi</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.g_option_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_option_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_option_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Ndet_Parser_Monad.g_option|const"><span>g_option</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g_option</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Ndet_Parser_Monad.g_Cons|const"><span>g_Cons</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g_Cons</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>(#)</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Ndet_Parser_Monad.g_append|const"><span>g_append</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g_append</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>(@)</span></a></span><span>"</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_right|const"><span>g_ignore_right</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>≪</span></span><span>"</span></span><span> 90</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left|const"><span>g_ignore_left</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>≫</span></span><span>"</span></span><span> 90</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>g_char</span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>&lt;</span></span><span>_</span><span class="keyword1"><span>&gt;</span></span><span>"</span></span><span> 1000</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span class="main"><span>)</span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_plus|const"><span>g_plus</span></a><span>"</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>+&amp;</span></span><span>"</span></span><span> 100</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_option|const"><span>g_option</span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>?</span></span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>101</span><span class="main"><span>]</span></span><span> 100</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_Cons|const"><span>g_Cons</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>&lt;#&gt;</span></span><span>"</span></span><span> 65</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_append|const"><span>g_append</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>&lt;@&gt;</span></span><span>"</span></span><span> 65</span><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Language of a Grammar›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span> </span><span class="keyword1"><span class="command"><span>interpretation</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.g_lang_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_lang_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_lang_def_raw|axiom"><span class="entity_def" id="offset_25031..25041">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Domain|const"><span>Domain</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.igr_in_g_lang|fact"><span class="entity_def" id="Ndet_Parser_Monad.igr_in_g_lang|thm"><span class="entity_def" id="offset_25084..25097">igr_in_g_lang</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_simps|attribute"><span class="operator"><span>igr_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>w</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>r</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span class="main"><span>,</span></span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_25031..25041"><span>g_lang_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.igr_lang_eq_iff|fact"><span class="entity_def" id="Ndet_Parser_Monad.igr_lang_eq_iff|thm"><span>igr_lang_eq_iff</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_inits|attribute"><span class="operator"><span>igr_inits</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>L</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>w</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>w</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="bound"><span>w</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>L</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_25031..25041"><span>g_lang_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
  
  </span><span class="comment1"><span>(* igr-setup for regular languages *)</span></span><span>  

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.igr_L_opt|fact"><span class="entity_def" id="Ndet_Parser_Monad.igr_L_opt|thm"><span>igr_L_opt</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_simps|attribute"><span class="operator"><span>igr_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>w</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_opt|const"><span><span class="hidden">⇧</span><sup>?</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>w</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="free"><span>w</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_opt_def|fact"><span>L_opt_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.igr_L_concat|fact"><span class="entity_def" id="Ndet_Parser_Monad.igr_L_concat|thm"><span>igr_L_concat</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_simps|attribute"><span class="operator"><span>igr_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>w<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="bound"><span>w<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="bound"><span>w<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>w<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>w</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="bound"><span>w<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="bound"><span>w<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat_def|fact"><span>L_concat_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.igr_L_star|fact"><span class="entity_def" id="Ndet_Parser_Monad.igr_L_star|thm"><span>igr_L_star</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_simps|attribute"><span class="operator"><span>igr_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star|const"><span><span class="hidden">⇧</span><sup>⋆</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>w</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_pow|const"><span>L_pow</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star_def|fact"><span>L_star_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.gl_indep_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.gl_indep_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.gl_indep_def_raw|axiom"><span class="entity_def" id="offset_25669..25679">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ndet_Parser_Monad.gl_indep|const"><span>gl_indep</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.gl_indep_alt|fact"><span class="entity_def" id="Ndet_Parser_Monad.gl_indep_alt|thm"><span class="entity_def" id="offset_25742..25754">gl_indep_alt</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gl_indep|const"><span>gl_indep</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.undefined|const"><span>undefined</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_25669..25679"><span>gl_indep_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>named_theorems</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_lang_simps|attribute"><span class="entity_def" id="Ndet_Parser_Monad.g_lang_simps|fact"><span>g_lang_simps</span></span></span><span>  
    
  </span><span class="keyword1"><span class="command"><span>named_theorems</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.gl_indep_intros|attribute"><span class="entity_def" id="Ndet_Parser_Monad.gl_indep_intros|fact"><span>gl_indep_intros</span></span></span><span>
  
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_lang_return|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_lang_return|thm"><span>g_lang_return</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang_simps|attribute"><span class="operator"><span>g_lang_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>}</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>   
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_lang_empty|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_lang_empty|thm"><span>g_lang_empty</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang_simps|attribute"><span class="operator"><span>g_lang_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_empty|const"><span>g_empty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>   

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_lang_this|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_lang_this|thm"><span>g_lang_this</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang_simps|attribute"><span class="operator"><span>g_lang_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_this|const"><span>g_this</span></a><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span>      
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>   

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_lang_Union|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_lang_Union|thm"><span>g_lang_Union</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang_simps|attribute"><span class="operator"><span>g_lang_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_Union|const"><span>g_Union</span></a><span> </span><span class="free"><span>M</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>Union</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span class="free"><span>M</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>   
    
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_lang_union|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_lang_union|thm"><span>g_lang_union</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang_simps|attribute"><span class="operator"><span>g_lang_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span> 
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_lang_bind|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_lang_bind|thm"><span>g_lang_bind</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang_simps|attribute"><span class="operator"><span>g_lang_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gl_indep|const"><span>gl_indep</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_bind|const"><span>g_bind</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.undefined|const"><span>undefined</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_25742..25754"><span>gl_indep_alt</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat_def|fact"><span>L_concat_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.gl_indep_const|fact"><span class="entity_def" id="Ndet_Parser_Monad.gl_indep_const|thm"><span>gl_indep_const</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gl_indep_intros|attribute"><span class="operator"><span>gl_indep_intros</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gl_indep|const"><span>gl_indep</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_25669..25679"><span>gl_indep_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.gl_indep_return|fact"><span class="entity_def" id="Ndet_Parser_Monad.gl_indep_return|thm"><span>gl_indep_return</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gl_indep_intros|attribute"><span class="operator"><span>gl_indep_intros</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gl_indep|const"><span>gl_indep</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_25669..25679"><span>gl_indep_def</span></a><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.gl_indep_union|fact"><span class="entity_def" id="Ndet_Parser_Monad.gl_indep_union|thm"><span>gl_indep_union</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gl_indep_intros|attribute"><span class="operator"><span>gl_indep_intros</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gl_indep|const"><span>gl_indep</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gl_indep|const"><span>gl_indep</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gl_indep|const"><span>gl_indep</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_25669..25679"><span>gl_indep_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
            
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.gl_indep_normD|fact"><span class="entity_def" id="Ndet_Parser_Monad.gl_indep_normD|thm"><span>gl_indep_normD</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gl_indep_intros|attribute"><span class="operator"><span>gl_indep_intros</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gl_indep|const"><span>gl_indep</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>r'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span class="main"><span>,</span></span><span class="bound"><span>r'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.undefined|const"><span>undefined</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_25669..25679"><span>gl_indep_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_25031..25041"><span>g_lang_def</span></a><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.ex3_aux_simp|fact"><span class="entity_def" id="Ndet_Parser_Monad.ex3_aux_simp|thm"><span>ex3_aux_simp</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>z</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>z</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>z</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 
    
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_27174..27179">lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.gl_indep_bind|fact"><span class="entity_def" id="Ndet_Parser_Monad.gl_indep_bind|thm"><span>gl_indep_bind</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gl_indep_intros|attribute"><span class="operator"><span>gl_indep_intros</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gl_indep|const"><span>gl_indep</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gl_indep|const"><span>gl_indep</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gl_indep|const"><span>gl_indep</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gl_indep|const"><span>gl_indep</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>y</span></span><span class="main"><span>←</span></span><span class="free"><span>m</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_25742..25754"><span>gl_indep_alt</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_simp|method"><span class="operator"><span>igr_simp</span></span></a><span> 
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>full_types</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_27174..27179"><span>assms</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_25669..25679"><span>gl_indep_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_25084..25097"><span>igr_in_g_lang</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>full_types</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_27174..27179"><span>assms</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_25669..25679"><span>gl_indep_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_25084..25097"><span>igr_in_g_lang</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_lang_lift2|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_lang_lift2|thm"><span>g_lang_lift2</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang_simps|attribute"><span class="operator"><span>g_lang_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2_def|fact"><span>g_lift2_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang_simps|fact"><span class="dynamic"><span class="dynamic"><span>g_lang_simps</span></span></span></a><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gl_indep_intros|fact"><span class="dynamic"><span class="dynamic"><span>gl_indep_intros</span></span></span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>    
  

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_lang_powr|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_lang_powr|thm"><span>g_lang_powr</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang_simps|attribute"><span class="operator"><span>g_lang_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powr|const"><span>g_powr</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>fi</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_pow|const"><span>L_pow</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    
    
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_lang_starr|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_lang_starr|thm"><span>g_lang_starr</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang_simps|attribute"><span class="operator"><span>g_lang_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr|const"><span>*&amp;</span></a></span><span class="free"><span>fi</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star|const"><span><span class="hidden">⇧</span><sup>⋆</sup></span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr_def|fact"><span>g_starr_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star_def|fact"><span>L_star_def</span></a><span>  
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang_simps|fact"><span class="dynamic"><span class="dynamic"><span>g_lang_simps</span></span></span></a><span class="main"><span>)</span></span><span>
    
    
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_lang_powl|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_lang_powl|thm"><span>g_lang_powl</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang_simps|attribute"><span class="operator"><span>g_lang_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powl|const"><span>g_powl</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>fi</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_pow|const"><span>L_pow</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
    
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span>del</span></span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_pow_simps|fact"><span>L_pow_simps</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_pow_unfold_left|fact"><span>L_pow_unfold_left</span></a><span>
    
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>




  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.glang_char|fact"><span class="entity_def" id="Ndet_Parser_Monad.glang_char|thm"><span>glang_char</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang_simps|attribute"><span class="operator"><span>g_lang_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&lt;</span></a></span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&gt;</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.char_class|const"><span>⦃</span></a></span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.char_class|const"><span>⦄</span></a></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char_def|fact"><span>g_char_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.char_class_def|fact"><span>char_class_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_lang_apply|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_lang_apply|thm"><span>g_lang_apply</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang_simps|attribute"><span class="operator"><span>g_lang_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
        

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_lang_ignore_left|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_lang_ignore_left|thm"><span>g_lang_ignore_left</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang_simps|attribute"><span class="operator"><span>g_lang_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left|const"><span>≫</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left_def|fact"><span>g_ignore_left_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>  

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_lang_ignore_right|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_lang_ignore_right|thm"><span>g_lang_ignore_right</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang_simps|attribute"><span class="operator"><span>g_lang_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_right|const"><span>≪</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_right_def|fact"><span>g_ignore_right_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>  
   
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_lang_opt|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_lang_opt|thm"><span>g_lang_opt</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang_simps|attribute"><span class="operator"><span>g_lang_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_option|const"><span>?</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_opt|const"><span><span class="hidden">⇧</span><sup>?</sup></span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_option_def|fact"><span>g_option_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>  
     


</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

  
  </span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Unsorted Lemmas›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span> </span><span class="keyword1"><span class="command"><span>interpretation</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.l_char_classI|fact"><span class="entity_def" id="Ndet_Parser_Monad.l_char_classI|thm"><span>l_char_classI</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>C</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>[</span></span><span class="free"><span>c</span></span><span class="main"><span>]</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.char_class|const"><span>⦃</span></a></span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.char_class|const"><span>⦄</span></a></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.in_char_class|fact"><span>in_char_class</span></a><span class="main"><span>)</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.l_concatI|fact"><span class="entity_def" id="Ndet_Parser_Monad.l_concatI|thm"><span class="entity_def" id="offset_29003..29012">l_concatI</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>L<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>L<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>L<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>L<span class="hidden">⇩</span><sub>2</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat_def|fact"><span>L_concat_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.l_concatConsI|fact"><span class="entity_def" id="Ndet_Parser_Monad.l_concatConsI|thm"><span>l_concatConsI</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>[</span></span><span class="free"><span>x</span></span><span class="main"><span>]</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>L<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>L<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>L<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>L<span class="hidden">⇩</span><sub>2</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_29003..29012"><span>l_concatI</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>[</span></span><span class="free"><span>x</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="quoted"><span class="free"><span>xs</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.l_star_emptyI|fact"><span class="entity_def" id="Ndet_Parser_Monad.l_star_emptyI|thm"><span class="entity_def" id="offset_29198..29211">l_star_emptyI</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>L</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star|const"><span><span class="hidden">⇧</span><sup>⋆</sup></span></a></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star_unfold|fact"><span>L_star_unfold</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_29283..29288">lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.l_char_classE|fact"><span class="entity_def" id="Ndet_Parser_Monad.l_char_classE|thm"><span>l_char_classE</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.char_class|const"><span>⦃</span></a></span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.char_class|const"><span>⦄</span></a></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><span>[</span></span><span class="free"><span>c</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>C</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_29283..29288"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.in_char_class|fact"><span>in_char_class</span></a><span class="main"><span>)</span></span><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_29399..29404">lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.l_concatE|fact"><span class="entity_def" id="Ndet_Parser_Monad.l_concatE|thm"><span>l_concatE</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>b</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="free"><span>sa</span></span><span> </span><span class="free"><span>sb</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>sa</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="free"><span>sb</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>sa</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>a</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>sb</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_29399..29404"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat_def|fact"><span>L_concat_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    
    
        
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.L_star_unfold_right|fact"><span class="entity_def" id="Ndet_Parser_Monad.L_star_unfold_right|thm"><span>L_star_unfold_right</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>L</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star|const"><span><span class="hidden">⇧</span><sup>⋆</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>L</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star|const"><span><span class="hidden">⇧</span><sup>⋆</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><span class="free"><span>L</span></span><span>"</span></span></span><span>
    </span><span class="comment1"><span>(* TODO: Clean up this proof *)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star_def|fact"><span>L_star_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> xs n
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>n</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_pow_unfold_left|fact"><span>L_pow_unfold_left</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr&apos;|method"><span class="operator"><span>igr'</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_pow_simps|fact"><span>L_pow_simps</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_pow_unfold_left|fact"><span>L_pow_unfold_left</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_29003..29012"><span>l_concatI</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>  
  
    
  </span><span class="comment1"><span>(* TODO: Move *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.igr_g_char|fact"><span class="entity_def" id="Ndet_Parser_Monad.igr_g_char|thm"><span>igr_g_char</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_simps|attribute"><span class="operator"><span>igr_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&lt;</span></a></span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>w</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><span>[</span></span><span class="free"><span>r</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>C</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char_def|fact"><span>g_char_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    
  </span><span class="comment1"><span>(* TODO: Move *)</span></span><span>  
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_simps|attribute"><span class="operator"><span>igr_simps</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.in_char_class|fact"><span>in_char_class</span></a><span>
    

  </span><span class="comment1"><span>(* TODO: Move *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.gM_rel_imp_lang|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM_rel_imp_lang|thm"><span class="entity_def" id="offset_30197..30212">gM_rel_imp_lang</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>w</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
    
  </span><span class="comment1"><span>(* TODO: Move *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_ignore_left_assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_ignore_left_assoc|thm"><span>g_ignore_left_assoc</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left|const"><span>≫</span></a></span><span class="free"><span>b</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left|const"><span>≫</span></a></span><span class="free"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left|const"><span>≫</span></a></span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left|const"><span>≫</span></a></span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left_def|fact"><span>g_ignore_left_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  
  </span><span class="comment1"><span>(* TODO: Move *)</span></span><span>  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_option_ignore_conv|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_option_ignore_conv|thm"><span>g_option_ignore_conv</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>p</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_option|const"><span>?</span></a></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left|const"><span>≫</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_option_def|fact"><span>g_option_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left_def|fact"><span>g_ignore_left_def</span></a><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>  
  
  
  </span><span class="comment1"><span>(* TODO: Move *)</span></span><span>  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_30563..30568">lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_lift2I|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_lift2I|thm"><span>g_lift2I</span></span></span><span class="main"><span>:</span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>r<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>m<span class="hidden">⇩</span><sub>1</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>r<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>m<span class="hidden">⇩</span><sub>2</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="free"><span>w<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>r<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>r<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>m<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_30563..30568"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_right_def|fact"><span>g_ignore_right_def</span></a><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
    
    
</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Proving Unambiguity›</span></span></span><span>

  </span><span class="comment1"><span>(* TODO: Move *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Elim-Rules for Grammar›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.gM_emptyE|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM_emptyE|thm"><span>gM_emptyE</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_empty|const"><span>g_empty</span></a><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_30934..30939">lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.gM_returnE|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM_returnE|thm"><span class="entity_def" id="offset_30940..30950">gM_returnE</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_30934..30939"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
    
        
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_31056..31061">lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.gM_charE|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM_charE|thm"><span>gM_charE</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&lt;</span></a></span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&gt;</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><span>[</span></span><span class="free"><span>r</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_31056..31061"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_31150..31155">lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.gM_bindE|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM_bindE|thm"><span class="entity_def" id="offset_31156..31164">gM_bindE</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>←</span></span><span class="free"><span>a</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_31150..31155"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
      
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_31324..31329">lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.gM_lift2E|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM_lift2E|thm"><span class="entity_def" id="offset_31330..31339">gM_lift2E</span></span></span><span class="main"><span>:</span></span><span>  
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="free"><span>x<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>x<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>x<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>x<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>x<span class="hidden">⇩</span><sub>2</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_31324..31329"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2_def|fact"><span>g_lift2_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_31156..31164"><span>gM_bindE</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_30940..30950"><span>gM_returnE</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_31577..31582">lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.gM_ignore_leftE|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM_ignore_leftE|thm"><span>gM_ignore_leftE</span></span></span><span class="main"><span>:</span></span><span>  
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left|const"><span>≫</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_31577..31582"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left_def|fact"><span>g_ignore_left_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_31156..31164"><span>gM_bindE</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_30940..30950"><span>gM_returnE</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_31812..31817">lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.gM_ignore_rightE|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM_ignore_rightE|thm"><span>gM_ignore_rightE</span></span></span><span class="main"><span>:</span></span><span>  
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_right|const"><span>≪</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_31812..31817"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_right_def|fact"><span>g_ignore_right_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_31156..31164"><span>gM_bindE</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_30940..30950"><span>gM_returnE</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_32049..32054">lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.gM_unionE|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM_unionE|thm"><span class="entity_def" id="offset_32055..32064">gM_unionE</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_32049..32054"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
      
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_32187..32192">lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.gM_starE|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM_starE|thm"><span>gM_starE</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr|const"><span>*&amp;</span></a></span><span> </span><span class="free"><span>fi</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_powr|const"><span>g_powr</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>fi</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_32187..32192"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_32317..32322">lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.gM_applyE|fact"><span class="entity_def" id="Ndet_Parser_Monad.gM_applyE|thm"><span>gM_applyE</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
    </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span class="free"><span>r'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_32317..32322"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
      
  
  
  </span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Unambiguity›</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹A grammar is unambiguous if its relation is single-valued, i.e.,
    every word is mapped to at most one result›</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.unambiguous_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.unambiguous_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.unambiguous_def_raw|axiom"><span class="entity_def" id="offset_32612..32622">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ndet_Parser_Monad.unambiguous|const"><span>unambiguous</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.single_valued|const"><span>single_valued</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

  
  
  
  </span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Uniqueness›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.L_uniq_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.L_uniq_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.L_uniq_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ndet_Parser_Monad.L_uniq|const"><span>L_uniq</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="bound"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="bound"><span>s<span class="hidden">⇩</span><sub>1</sub>'</span></span><span> </span><span class="bound"><span>s<span class="hidden">⇩</span><sub>2</sub>'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="bound"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>s<span class="hidden">⇩</span><sub>1</sub>'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="bound"><span>s<span class="hidden">⇩</span><sub>2</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>s<span class="hidden">⇩</span><sub>1</sub>'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>s<span class="hidden">⇩</span><sub>2</sub>'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="bound"><span>s<span class="hidden">⇩</span><sub>1</sub>'</span></span><span>"</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.g_uniq_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_uniq_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_uniq_def_raw|axiom"><span class="entity_def" id="offset_32818..32828">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ndet_Parser_Monad.g_uniq|const"><span>g_uniq</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>C</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="bound"><span>r<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="bound"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="bound"><span>s<span class="hidden">⇩</span><sub>1</sub>'</span></span><span> </span><span class="bound"><span>r<span class="hidden">⇩</span><sub>1</sub>'</span></span><span> </span><span class="bound"><span>s<span class="hidden">⇩</span><sub>2</sub>'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> 
    </span><span class="bound"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="bound"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>s<span class="hidden">⇩</span><sub>1</sub>'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="bound"><span>s<span class="hidden">⇩</span><sub>2</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="bound"><span>r<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span class="bound"><span class="entity"><span>C</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s<span class="hidden">⇩</span><sub>1</sub>'</span></span><span class="main"><span>,</span></span><span class="bound"><span>r<span class="hidden">⇩</span><sub>1</sub>'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>s<span class="hidden">⇩</span><sub>2</sub>'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span class="bound"><span class="entity"><span>C</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="bound"><span>s<span class="hidden">⇩</span><sub>1</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>r<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="bound"><span>r<span class="hidden">⇩</span><sub>1</sub>'</span></span><span>"</span></span></span><span>
    
  </span><span class="comment1"><span>(*definition "g_uniq L C ≡ ∀s<span class="hidden">⇩</span><sub>1</sub> r<span class="hidden">⇩</span><sub>1</sub> s<span class="hidden">⇩</span><sub>2</sub> s<span class="hidden">⇩</span><sub>1</sub>' r<span class="hidden">⇩</span><sub>1</sub>' s<span class="hidden">⇩</span><sub>2</sub>'. 
    s<span class="hidden">⇩</span><sub>1</sub>@s<span class="hidden">⇩</span><sub>2</sub> = s<span class="hidden">⇩</span><sub>1</sub>'@s<span class="hidden">⇩</span><sub>2</sub>' ∧ (s<span class="hidden">⇩</span><sub>1</sub>,r<span class="hidden">⇩</span><sub>1</sub>)∈gM_rel L ∧ s<span class="hidden">⇩</span><sub>2</sub>∈C ∧ (s<span class="hidden">⇩</span><sub>1</sub>',r<span class="hidden">⇩</span><sub>1</sub>')∈gM_rel L ∧ s<span class="hidden">⇩</span><sub>2</sub>'∈C ⟶ s<span class="hidden">⇩</span><sub>1</sub>=s<span class="hidden">⇩</span><sub>1</sub>' ∧ r<span class="hidden">⇩</span><sub>1</sub>=r<span class="hidden">⇩</span><sub>1</sub>'"
  *)</span></span><span>
          
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_33171..33176">lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_uniqI|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_uniqI|thm"><span class="entity_def" id="offset_33177..33184">g_uniqI</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span class="main"><span>?</span></span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="bound"><span>r<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="bound"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="bound"><span>s<span class="hidden">⇩</span><sub>1</sub>'</span></span><span> </span><span class="bound"><span>r<span class="hidden">⇩</span><sub>1</sub>'</span></span><span> </span><span class="bound"><span>s<span class="hidden">⇩</span><sub>2</sub>'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟦</span></span><span> </span><span class="bound"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="bound"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>s<span class="hidden">⇩</span><sub>1</sub>'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="bound"><span>s<span class="hidden">⇩</span><sub>2</sub>'</span></span><span class="main"><span>;</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="bound"><span>r<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>L</span></span><span class="main"><span>;</span></span><span> </span><span class="bound"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>C</span></span><span class="main"><span>;</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s<span class="hidden">⇩</span><sub>1</sub>'</span></span><span class="main"><span>,</span></span><span class="bound"><span>r<span class="hidden">⇩</span><sub>1</sub>'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>L</span></span><span class="main"><span>;</span></span><span> </span><span class="bound"><span>s<span class="hidden">⇩</span><sub>2</sub>'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>C</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="bound"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="bound"><span>s<span class="hidden">⇩</span><sub>1</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>r<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="bound"><span>r<span class="hidden">⇩</span><sub>1</sub>'</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq|const"><span>g_uniq</span></a><span> </span><span class="free"><span>L</span></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_33171..33176"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_32818..32828"><span>g_uniq_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_33412..33417">lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_uniqD|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_uniqD(3)|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_uniqD(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.g_uniqD(1)|thm"><span class="entity_def" id="offset_33418..33425">g_uniqD</span></span></span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq|const"><span>g_uniq</span></a><span> </span><span class="free"><span>L</span></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub>'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub>'</span></span><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>r<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>L</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>C</span></span><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub>'</span></span><span class="main"><span>,</span></span><span class="free"><span>r<span class="hidden">⇩</span><sub>1</sub>'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>L</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub>'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>C</span></span><span>"</span></span></span><span>  
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub>'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub>'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>r<span class="hidden">⇩</span><sub>1</sub>'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_33412..33417"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_32818..32828"><span>g_uniq_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_33672..33677">lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_uniqE|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_uniqE|thm"><span class="entity_def" id="offset_33678..33685">g_uniqE</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq|const"><span>g_uniq</span></a><span> </span><span class="free"><span>L</span></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub>'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub>'</span></span><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>r<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>L</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>C</span></span><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub>'</span></span><span class="main"><span>,</span></span><span class="free"><span>r<span class="hidden">⇩</span><sub>1</sub>'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="free"><span>L</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub>'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>C</span></span><span>"</span></span></span><span>  
    </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub>'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub>'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>r<span class="hidden">⇩</span><sub>1</sub>'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_33672..33677"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_32818..32828"><span>g_uniq_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
        
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.unambiguous_eq_uniq|fact"><span class="entity_def" id="Ndet_Parser_Monad.unambiguous_eq_uniq|thm"><span>unambiguous_eq_uniq</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.unambiguous|const"><span>unambiguous</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq|const"><span>g_uniq</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>}</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_32612..32622"><span>unambiguous_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_32818..32828"><span>g_uniq_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.single_valued_def|fact"><span>single_valued_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span>named_theorems</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_uniq_intros|attribute"><span class="entity_def" id="Ndet_Parser_Monad.g_uniq_intros|fact"><span>g_uniq_intros</span></span></span><span>  
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_uniq_returnI|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_uniq_returnI|thm"><span>g_uniq_returnI</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq_intros|attribute"><span class="operator"><span>g_uniq_intros</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq|const"><span>g_uniq</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_return|const"><span>g_return</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_32818..32828"><span>g_uniq_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_uniq_bindI|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_uniq_bindI|thm"><span class="entity_def" id="offset_34227..34239">g_uniq_bindI</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq_intros|attribute"><span class="operator"><span>g_uniq_intros</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'c</span></span><span class="main"><span>,</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM|type"><span>gM</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'c</span></span><span class="main"><span>,</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM|type"><span>gM</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_34323..34331">BL_INDEP</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.undefined|const"><span>undefined</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_34387..34389">U1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq|const"><span>g_uniq</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>C</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_34435..34437">U2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq|const"><span>g_uniq</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq|const"><span>g_uniq</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>←</span></span><span class="free"><span>a</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_33177..33184"><span>g_uniqI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_31156..31164"><span>gM_bindE</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>goal_cases</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_34589..34590">1</span><span> </span><span class="skolem"><span>r<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="skolem"><span>s<span class="hidden">⇩</span><sub>3</sub></span></span><span> </span><span class="skolem"><span>r<span class="hidden">⇩</span><sub>1</sub>'</span></span><span> </span><span class="skolem"><span>s<span class="hidden">⇩</span><sub>3</sub>'</span></span><span> </span><span class="skolem"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="skolem"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>s<span class="hidden">⇩</span><sub>1</sub>'</span></span><span> </span><span class="skolem"><span>s<span class="hidden">⇩</span><sub>2</sub>'</span></span><span> </span><span class="skolem"><span>x'</span></span><span class="main"><span>)</span></span><span>
    
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_34589..34590"><span>1</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> 
           </span><span class="entity_def" id="offset_34666..34669">C12</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="skolem"><span>s<span class="hidden">⇩</span><sub>3</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_34713..34717">C12'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">⇩</span><sub>2</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="skolem"><span>s<span class="hidden">⇩</span><sub>3</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>x'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_33418..33425"><span>g_uniqD</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_34387..34389"><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_34387..34389"><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_34387..34389"><span>U1</span></a></a></a><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span class="skolem"><span class="skolem"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span></a></span></a></span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span></a></span></a></span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span></a></span></a></span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span>›</span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span class="skolem"><span class="skolem"><span class="skolem"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span></span></span><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span></a></span></a></span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span>›</span></span></span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_34666..34669"><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_34666..34669"><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_34666..34669"><span>C12</span></a></a></a><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span class="skolem"><span class="skolem"><span class="skolem"><span>s<span class="hidden">⇩</span><sub>1</sub>'</span></span></span></span><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span></a></span></a></span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span>›</span></span></span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_34713..34717"><span>C12'</span></a><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="skolem"><span>s<span class="hidden">⇩</span><sub>1</sub>'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="skolem"><span>x'</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp_all</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_34323..34331"><span>BL_INDEP</span></a><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>x</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_34323..34331"><span>BL_INDEP</span></a><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>x'</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="skolem"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="skolem"><span>s<span class="hidden">⇩</span><sub>3</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>s<span class="hidden">⇩</span><sub>1</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="skolem"><span>s<span class="hidden">⇩</span><sub>2</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="skolem"><span>s<span class="hidden">⇩</span><sub>3</sub>'</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="skolem"><span>s<span class="hidden">⇩</span><sub>3</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>s<span class="hidden">⇩</span><sub>2</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="skolem"><span>s<span class="hidden">⇩</span><sub>3</sub>'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_35070..35072">S2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>r<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>x'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_33418..33425"><span>g_uniqD</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_34435..34437"><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_34435..34437"><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_34435..34437"><span>U2</span></a></a></a><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span class="skolem"><span class="skolem"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span></a></span></a></span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span></a></span></a></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span>›</span></span></span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_35070..35072"><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_35070..35072"><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_35070..35072"><span>S2</span></a></a></a><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span class="skolem"><span class="skolem"><span>s<span class="hidden">⇩</span><sub>3</sub></span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span></a></span></a></span><span class="free"><span class="free"><span class="free"><span>C</span></span></span></span><span>›</span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span class="skolem"><span class="skolem"><span class="skolem"><span>s<span class="hidden">⇩</span><sub>2</sub>'</span></span></span></span><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span></a></span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM.gM_rel|const"><span>gM_rel</span></a></a></a><span> </span><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span class="free"><span class="free"><span class="free"><span>b</span></span></span></span><span> </span><span class="skolem"><span class="skolem"><span class="skolem"><span>x'</span></span></span></span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span>›</span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span class="skolem"><span class="skolem"><span>s<span class="hidden">⇩</span><sub>3</sub>'</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span></a></span></a></span><span class="free"><span class="free"><span class="free"><span>C</span></span></span></span><span>›</span></span></span></span></span><span class="main"><span>]</span></span><span> 
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>s<span class="hidden">⇩</span><sub>2</sub>'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>r<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>r<span class="hidden">⇩</span><sub>1</sub>'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>  

  
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_uniq_lift2I|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_uniq_lift2I|thm"><span>g_uniq_lift2I</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq_intros|attribute"><span class="operator"><span>g_uniq_intros</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'c</span></span><span class="main"><span>,</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM|type"><span>gM</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'c</span></span><span class="main"><span>,</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gM|type"><span>gM</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_35395..35397">U1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq|const"><span>g_uniq</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>C</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_35435..35437">U2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq|const"><span>g_uniq</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq|const"><span>g_uniq</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2_def|fact"><span>g_lift2_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_34227..34239"><span>g_uniq_bindI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang_simps|fact"><span class="dynamic"><span class="dynamic"><span>g_lang_simps</span></span></span></a><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.gl_indep_intros|fact"><span class="dynamic"><span class="dynamic"><span>gl_indep_intros</span></span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_35395..35397"><span>U1</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang_simps|fact"><span class="dynamic"><span class="dynamic"><span>g_lang_simps</span></span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang_simps|fact"><span class="dynamic"><span class="dynamic"><span>g_lang_simps</span></span></span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_35435..35437"><span>U2</span></a><span class="main"><span>)</span></span><span>

    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_35747..35752">lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.L_conc_combine_aux|fact"><span class="entity_def" id="Ndet_Parser_Monad.L_conc_combine_aux|thm"><span>L_conc_combine_aux</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="free"><span>b</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>a'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="free"><span>b'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>B</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>A'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>B'</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="free"><span>b'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>A</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>B</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="free"><span>b'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>A'</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>B'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_35747..35752"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_fastforce|method"><span class="operator"><span>igr_fastforce</span></span></a><span>
  
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_uniq_unionI|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_uniq_unionI|thm"><span>g_uniq_unionI</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq_intros|attribute"><span class="operator"><span>g_uniq_intros</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_35952..35954">UA</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq|const"><span>g_uniq</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_35981..35983">UB</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq|const"><span>g_uniq</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_36010..36012">DJ</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq|const"><span>g_uniq</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_union|const"><span>&lt;|&gt;</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_33177..33184"><span>g_uniqI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_32055..32064"><span>gM_unionE</span></a><span class="main"><span>)</span></span><span>
    
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_33418..33425"><span>g_uniqD</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_35952..35954"><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_35952..35954"><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_35952..35954"><span>UA</span></a></a></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_36010..36012"><span>DJ</span></a><span> 
    
     </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.disjointD|fact"><span>disjointD</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_36010..36012"><span>DJ</span></a><span class="main"><span>]</span></span><span>  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.disjointD|fact"><span>disjointD</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_36010..36012"><span>DJ</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_33418..33425"><span>g_uniqD</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_35981..35983"><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_35981..35983"><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_35981..35983"><span>UB</span></a></a></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    
    
  </span><span class="comment1"><span>(* TODO: Move *)</span></span><span>  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_uniq_antimono2|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_uniq_antimono2|thm"><span>g_uniq_antimono2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq|const"><span>g_uniq</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>C'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span class="free"><span>C</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq|const"><span>g_uniq</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>C'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_32818..32828"><span>g_uniq_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

  </span><span class="comment1"><span>(* TODO: Move *)</span></span><span>  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.L_starI|fact"><span class="entity_def" id="Ndet_Parser_Monad.L_starI|thm"><span class="entity_def" id="offset_36504..36511">L_starI</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_pow|const"><span>L_pow</span></a><span> </span><span class="free"><span>L</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>w</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>L</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star|const"><span><span class="hidden">⇧</span><sup>⋆</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_uniq_starrI|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_uniq_starrI|thm"><span>g_uniq_starrI</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq_intros|attribute"><span class="operator"><span>g_uniq_intros</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_36599..36604">aC_dj</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star|const"><span><span class="hidden">⇧</span><sup>⋆</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_36657..36659">UA</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq|const"><span>g_uniq</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star|const"><span><span class="hidden">⇧</span><sup>⋆</sup></span></a></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>C</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq|const"><span>g_uniq</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_starr|const"><span>*&amp;</span></a></span><span> </span><span class="free"><span>fi</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_starr|fact"><span>igr_starr</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>goal_cases</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_36803..36804">1</span><span> </span><span class="skolem"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="skolem"><span>r<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="skolem"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="skolem"><span>s<span class="hidden">⇩</span><sub>1</sub>'</span></span><span> </span><span class="skolem"><span>r<span class="hidden">⇩</span><sub>1</sub>'</span></span><span> </span><span class="skolem"><span>s<span class="hidden">⇩</span><sub>2</sub>'</span></span><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="skolem"><span>n'</span></span><span class="main"><span>)</span></span><span>
    
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.disjointD|fact"><span>disjointD</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_36599..36604"><span>aC_dj</span></a><span class="main"><span>]</span></span><span> 
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_36882..36891">aC_dj_aux</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>C</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star|const"><span><span class="hidden">⇧</span><sup>⋆</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="skolem"><span>thesis</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>thesis</span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_36803..36804"><span>1</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>n</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>n'</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span></span><span> </span><span class="quoted"><span class="skolem"><span>r<span class="hidden">⇩</span><sub>1</sub></span></span></span><span> </span><span class="quoted"><span class="skolem"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span></span><span> </span><span class="quoted"><span class="skolem"><span>s<span class="hidden">⇩</span><sub>1</sub>'</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>r<span class="hidden">⇩</span><sub>1</sub>'</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>s<span class="hidden">⇩</span><sub>2</sub>'</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span> </span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.nat2ss_induct.induct|fact"><span>nat2ss_induct.induct</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>1</span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_30940..30950"><span>gM_returnE</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_31330..31339"><span>gM_lift2E</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>2</span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_30940..30950"><span>gM_returnE</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_31330..31339"><span>gM_lift2E</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_30197..30212"><span>gM_rel_imp_lang</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang_simps|fact"><span class="dynamic"><span class="dynamic"><span>g_lang_simps</span></span></span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_36504..36511"><span>L_starI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_36882..36891"><span>aC_dj_aux</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_force|method"><span class="operator"><span>igr_force</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>3</span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_30940..30950"><span>gM_returnE</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_31330..31339"><span>gM_lift2E</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_30197..30212"><span>gM_rel_imp_lang</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang_simps|fact"><span class="dynamic"><span class="dynamic"><span>g_lang_simps</span></span></span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_36504..36511"><span>L_starI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_36882..36891"><span>aC_dj_aux</span></a><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>_</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="main"><span>_</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="main"><span>_</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_force|method"><span class="operator"><span>igr_force</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_37669..37670">4</span><span> </span><span class="skolem"><span>n<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="skolem"><span>n<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>
      
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_37669..37670"><span>4.prems</span></a><span>"</span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> 
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_30940..30950"><span>gM_returnE</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_31330..31339"><span>gM_lift2E</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_33678..33685"><span>g_uniqE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_36657..36659"><span>UA</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span class="keyword3"><span>?</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_30197..30212"><span>gM_rel_imp_lang</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang_simps|fact"><span class="dynamic"><span class="dynamic"><span>g_lang_simps</span></span></span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_30197..30212"><span>gM_rel_imp_lang</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang_simps|fact"><span class="dynamic"><span class="dynamic"><span>g_lang_simps</span></span></span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
        
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>
        
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_37669..37670"><span>4.IH</span></a><span>"</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>            
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_uniq_applyI|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_uniq_applyI|thm"><span>g_uniq_applyI</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq_intros|attribute"><span class="operator"><span>g_uniq_intros</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq|const"><span>g_uniq</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq|const"><span>g_uniq</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_simp|method"><span class="operator"><span>igr_simp</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_33418..33425"><span>g_uniqD</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_uniq_charI|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_uniq_charI|thm"><span>g_uniq_charI</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq_intros|attribute"><span class="operator"><span>g_uniq_intros</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq|const"><span>g_uniq</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&lt;</span></a></span><span class="free"><span>cs</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_char|const"><span>&gt;</span></a></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_32818..32828"><span>g_uniq_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr&apos;|method"><span class="operator"><span>igr'</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Empty, Has-Empty and Lookahead›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Some simp-lemmas to semi-automatically decide if the language
    is empty, contains the empty word, and to compute the lookahead-1 set›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.is_el_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.is_el_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.is_el_def_raw|axiom"><span class="entity_def" id="offset_38536..38546">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ndet_Parser_Monad.is_el|const"><span>is_el</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.has_eps_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.has_eps_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.has_eps_def_raw|axiom"><span class="entity_def" id="offset_38568..38578">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ndet_Parser_Monad.has_eps|const"><span>has_eps</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.lh1_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.lh1_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.lh1_def_raw|axiom"><span class="entity_def" id="offset_38602..38612">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ndet_Parser_Monad.lh1|const"><span>lh1</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>xs</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="bound"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.eq_empty_elem_conv|fact"><span class="entity_def" id="Ndet_Parser_Monad.eq_empty_elem_conv|thm"><span class="entity_def" id="offset_38655..38673">eq_empty_elem_conv</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_38708..38713">lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.lh1_disjI|fact"><span class="entity_def" id="Ndet_Parser_Monad.lh1_disjI|thm"><span>lh1_disjI</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.is_el|const"><span>is_el</span></a><span> </span><span class="free"><span>L<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>;</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.is_el|const"><span>is_el</span></a><span> </span><span class="free"><span>L<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.has_eps|const"><span>has_eps</span></a><span> </span><span class="free"><span>L<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.has_eps|const"><span>has_eps</span></a><span> </span><span class="free"><span>L<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.is_el|const"><span>is_el</span></a><span> </span><span class="free"><span>L<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>;</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.is_el|const"><span>is_el</span></a><span> </span><span class="free"><span>L<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lh1|const"><span>lh1</span></a><span> </span><span class="free"><span>L<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lh1|const"><span>lh1</span></a><span> </span><span class="free"><span>L<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>L<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>L<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.disjoint_iff|fact"><span>disjoint_iff</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> xs
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_38708..38713"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_38536..38546"><span>is_el_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_38568..38578"><span>has_eps_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_38602..38612"><span>lh1_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>xs</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_uniq_empty|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_uniq_empty|thm"><span>g_uniq_empty</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq|const"><span>g_uniq</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_32818..32828"><span>g_uniq_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_uniq_empty&apos;|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_uniq_empty&apos;|thm"><span>g_uniq_empty'</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.is_el|const"><span>is_el</span></a><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq|const"><span>g_uniq</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_38536..38546"><span>is_el_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  
  
  
  </span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>"Empty Language"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.is_el_empty|fact"><span class="entity_def" id="Ndet_Parser_Monad.is_el_empty|thm"><span>is_el_empty</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.is_el|const"><span>is_el</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_38536..38546"><span>is_el_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.has_eps_emp|fact"><span class="entity_def" id="Ndet_Parser_Monad.has_eps_emp|thm"><span>has_eps_emp</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.has_eps|const"><span>has_eps</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_38568..38578"><span>has_eps_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.lh1_el|fact"><span class="entity_def" id="Ndet_Parser_Monad.lh1_el|thm"><span>lh1_el</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lh1|const"><span>lh1</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_38602..38612"><span>lh1_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    
    
    
  </span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Language with empty word›</span></span></span><span>      

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.is_el_insert|fact"><span class="entity_def" id="Ndet_Parser_Monad.is_el_insert|thm"><span>is_el_insert</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.is_el|const"><span>is_el</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_38536..38546"><span>is_el_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.has_eps_eps|fact"><span class="entity_def" id="Ndet_Parser_Monad.has_eps_eps|thm"><span>has_eps_eps</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.has_eps|const"><span>has_eps</span></a><span> </span><span class="main"><span>{</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_38568..38578"><span>has_eps_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    
  </span><span class="comment1"><span>(* lemma lh1_eps[simp]: "lh1 {[]} = {}" unfolding lh1_def by auto  *)</span></span><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.lh1_ins_Nil|fact"><span class="entity_def" id="Ndet_Parser_Monad.lh1_ins_Nil|thm"><span>lh1_ins_Nil</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lh1|const"><span>lh1</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="free"><span>L</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lh1|const"><span>lh1</span></a><span> </span><span class="free"><span>L</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_38602..38612"><span>lh1_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  
  
  </span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Character›</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.is_el_char_class|fact"><span class="entity_def" id="Ndet_Parser_Monad.is_el_char_class|thm"><span>is_el_char_class</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.is_el|const"><span>is_el</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.char_class|const"><span>⦃</span></a></span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.char_class|const"><span>⦄</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_38536..38546"><span>is_el_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_38655..38673"><span>eq_empty_elem_conv</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr&apos;|method"><span class="operator"><span>igr'</span></span></a><span>
        
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.has_eps_char|fact"><span class="entity_def" id="Ndet_Parser_Monad.has_eps_char|thm"><span>has_eps_char</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.has_eps|const"><span>has_eps</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.char_class|const"><span>⦃</span></a></span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.char_class|const"><span>⦄</span></a></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_38568..38578"><span>has_eps_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.lh1_char|fact"><span class="entity_def" id="Ndet_Parser_Monad.lh1_char|thm"><span>lh1_char</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lh1|const"><span>lh1</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.char_class|const"><span>⦃</span></a></span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.char_class|const"><span>⦄</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_38602..38612"><span>lh1_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
    
        
  </span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Concat›</span></span></span><span>  
      
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.is_el_concat|fact"><span class="entity_def" id="Ndet_Parser_Monad.is_el_concat|thm"><span>is_el_concat</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.is_el|const"><span>is_el</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>L<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>L<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.is_el|const"><span>is_el</span></a><span> </span><span class="free"><span>L<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.is_el|const"><span>is_el</span></a><span> </span><span class="free"><span>L<span class="hidden">⇩</span><sub>2</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_38536..38546"><span>is_el_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_38655..38673"><span>eq_empty_elem_conv</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr&apos;|method"><span class="operator"><span>igr'</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.has_eps_concat|fact"><span class="entity_def" id="Ndet_Parser_Monad.has_eps_concat|thm"><span>has_eps_concat</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.has_eps|const"><span>has_eps</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>L<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>L<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.has_eps|const"><span>has_eps</span></a><span> </span><span class="free"><span>L<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.has_eps|const"><span>has_eps</span></a><span> </span><span class="free"><span>L<span class="hidden">⇩</span><sub>2</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_38568..38578"><span>has_eps_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.lh1_concat_iff|fact"><span class="entity_def" id="Ndet_Parser_Monad.lh1_concat_iff|thm"><span>lh1_concat_iff</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.is_el|const"><span>is_el</span></a><span> </span><span class="free"><span>L<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lh1|const"><span>lh1</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>L<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>L<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lh1|const"><span>lh1</span></a><span> </span><span class="free"><span>L<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.has_eps|const"><span>has_eps</span></a><span> </span><span class="free"><span>L<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lh1|const"><span>lh1</span></a><span> </span><span class="free"><span>L<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_38602..38612"><span>lh1_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_38536..38546"><span>is_el_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_38568..38578"><span>has_eps_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.Cons_eq_append_conv|fact"><span>Cons_eq_append_conv</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr&apos;|method"><span class="operator"><span>igr'</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span class="main"><span>)</span></span><span>
    
        
  </span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Union›</span></span></span><span>  
      
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.is_el_union|fact"><span class="entity_def" id="Ndet_Parser_Monad.is_el_union|thm"><span>is_el_union</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.is_el|const"><span>is_el</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>L<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span class="free"><span>L<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.is_el|const"><span>is_el</span></a><span> </span><span class="free"><span>L<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.is_el|const"><span>is_el</span></a><span> </span><span class="free"><span>L<span class="hidden">⇩</span><sub>2</sub></span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_38536..38546"><span>is_el_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.has_eps_union|fact"><span class="entity_def" id="Ndet_Parser_Monad.has_eps_union(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.has_eps_union(1)|thm"><span>has_eps_union</span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.has_eps|const"><span>has_eps</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>L<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span class="free"><span>L<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.has_eps|const"><span>has_eps</span></a><span> </span><span class="free"><span>L<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.has_eps|const"><span>has_eps</span></a><span> </span><span class="free"><span>L<span class="hidden">⇩</span><sub>2</sub></span></span><span>"</span></span></span><span>  
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.has_eps|const"><span>has_eps</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>L</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.has_eps|const"><span>has_eps</span></a><span> </span><span class="free"><span>L</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_38568..38578"><span>has_eps_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.lh1_union|fact"><span class="entity_def" id="Ndet_Parser_Monad.lh1_union|thm"><span>lh1_union</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lh1|const"><span>lh1</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lh1|const"><span>lh1</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lh1|const"><span>lh1</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_38602..38612"><span>lh1_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Optional›</span></span></span><span>  
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.is_el_opt|fact"><span class="entity_def" id="Ndet_Parser_Monad.is_el_opt|thm"><span>is_el_opt</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.is_el|const"><span>is_el</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>L</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_opt|const"><span><span class="hidden">⇧</span><sup>?</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_opt_def|fact"><span>L_opt_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.has_eps_opt|fact"><span class="entity_def" id="Ndet_Parser_Monad.has_eps_opt|thm"><span>has_eps_opt</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.has_eps|const"><span>has_eps</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>L</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_opt|const"><span><span class="hidden">⇧</span><sup>?</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_opt_def|fact"><span>L_opt_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> 
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.lh1_opt|fact"><span class="entity_def" id="Ndet_Parser_Monad.lh1_opt|thm"><span>lh1_opt</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lh1|const"><span>lh1</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>L</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_opt|const"><span><span class="hidden">⇧</span><sup>?</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lh1|const"><span>lh1</span></a><span> </span><span class="free"><span>L</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_38602..38612"><span>lh1_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Power›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.is_el_pow|fact"><span class="entity_def" id="Ndet_Parser_Monad.is_el_pow|thm"><span>is_el_pow</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.is_el|const"><span>is_el</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_pow|const"><span>L_pow</span></a><span> </span><span class="free"><span>L</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.is_el|const"><span>is_el</span></a><span> </span><span class="free"><span>L</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.has_eps_pow|fact"><span class="entity_def" id="Ndet_Parser_Monad.has_eps_pow|thm"><span>has_eps_pow</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.has_eps|const"><span>has_eps</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_pow|const"><span>L_pow</span></a><span> </span><span class="free"><span>L</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.has_eps|const"><span>has_eps</span></a><span> </span><span class="free"><span>L</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.lh1_pow|fact"><span class="entity_def" id="Ndet_Parser_Monad.lh1_pow|thm"><span>lh1_pow</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lh1|const"><span>lh1</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_pow|const"><span>L_pow</span></a><span> </span><span class="free"><span>L</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lh1|const"><span>lh1</span></a><span> </span><span class="free"><span>L</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.is_el|const"><span>is_el</span></a><span> </span><span class="free"><span>L</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_38536..38546"><span>is_el_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    
          
  </span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Star›</span></span></span><span>  
            
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.is_el_star|fact"><span class="entity_def" id="Ndet_Parser_Monad.is_el_star|thm"><span>is_el_star</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.is_el|const"><span>is_el</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star|const"><span><span class="hidden">⇧</span><sup>⋆</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_38536..38546"><span>is_el_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_29198..29211"><span>l_star_emptyI</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.has_eps_star|fact"><span class="entity_def" id="Ndet_Parser_Monad.has_eps_star|thm"><span>has_eps_star</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.has_eps|const"><span>has_eps</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>L</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star|const"><span><span class="hidden">⇧</span><sup>⋆</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star_unfold|fact"><span>L_star_unfold</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
        
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.lh1_star|fact"><span class="entity_def" id="Ndet_Parser_Monad.lh1_star|thm"><span>lh1_star</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lh1|const"><span>lh1</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>L</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star|const"><span><span class="hidden">⇧</span><sup>⋆</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lh1|const"><span>lh1</span></a><span> </span><span class="free"><span>L</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_38602..38612"><span>lh1_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_simp|method"><span class="operator"><span>igr_simp</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> x xs n
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>n</span></span></span><span class="main"><span>)</span></span><span> </span><span class="comment1"><span>(* Induction required to handle possibility of has_eps L *)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_simp|method"><span class="operator"><span>igr_simp</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.Cons_eq_append_conv|fact"><span>Cons_eq_append_conv</span></a><span class="main"><span>)</span></span><span> 
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> x xs
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    

    
</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>"Set of Characters in Language"</span></span></span><span>    
  </span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ndet_Parser_Monad.l_charset|const"><span>l_charset</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>⋃</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ndet_Parser_Monad.l_charset_must|const"><span>l_charset_must</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Inter|const"><span>⋂</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_42605..42610">lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.L_disj_charset_must_mayI|fact"><span class="entity_def" id="Ndet_Parser_Monad.L_disj_charset_must_mayI|thm"><span>L_disj_charset_must_mayI</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.l_charset_must|const"><span>l_charset_must</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.l_charset|const"><span>l_charset</span></a><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_42605..42610"><span>assms</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

  
  
  
      
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.l_charset_concat|fact"><span class="entity_def" id="Ndet_Parser_Monad.l_charset_concat|thm"><span>l_charset_concat</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.is_el|const"><span>is_el</span></a><span> </span><span class="free"><span>L<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>;</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.is_el|const"><span>is_el</span></a><span> </span><span class="free"><span>L<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.l_charset|const"><span>l_charset</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>L<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>L<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.l_charset|const"><span>l_charset</span></a><span> </span><span class="free"><span>L<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.l_charset|const"><span>l_charset</span></a><span> </span><span class="free"><span>L<span class="hidden">⇩</span><sub>2</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_38536..38546"><span>is_el_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Bex_def|fact"><span>Bex_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_force|method"><span class="operator"><span>igr_force</span></span></a><span> 

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.l_charset_must_concat|fact"><span class="entity_def" id="Ndet_Parser_Monad.l_charset_must_concat|thm"><span>l_charset_must_concat</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.l_charset_must|const"><span>l_charset_must</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.l_charset_must|const"><span>l_charset_must</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.l_charset_must|const"><span>l_charset_must</span></a><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat_def|fact"><span>L_concat_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
        
         
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.l_charset_char|fact"><span class="entity_def" id="Ndet_Parser_Monad.l_charset_char|thm"><span>l_charset_char</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.l_charset|const"><span>l_charset</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.char_class|const"><span>⦃</span></a></span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.char_class|const"><span>⦄</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Bex_def|fact"><span>Bex_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_force|method"><span class="operator"><span>igr_force</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.l_charset_must_multiple_char|fact"><span class="entity_def" id="Ndet_Parser_Monad.l_charset_must_multiple_char|thm"><span>l_charset_must_multiple_char</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.l_charset_must|const"><span>l_charset_must</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.char_class|const"><span>⦃</span></a></span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.char_class|const"><span>⦄</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.char_class_def|fact"><span>char_class_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc_lessD|fact"><span>Suc_lessD</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.card_ge_0_finite|fact"><span>card_ge_0_finite</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.card_le_Suc0_iff_eq|fact"><span>card_le_Suc0_iff_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.linorder_not_less|fact"><span>linorder_not_less</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|fact"><span>list.set</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|fact"><span>list.set</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.singletonD|fact"><span>singletonD</span></a><span class="main"><span>)</span></span><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.l_charset_must_sng_char|fact"><span class="entity_def" id="Ndet_Parser_Monad.l_charset_must_sng_char|thm"><span>l_charset_must_sng_char</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.l_charset_must|const"><span>l_charset_must</span></a><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.char_class|const"><span>⦃</span></a></span><span class="main"><span>{</span></span><span class="free"><span>c</span></span><span class="main"><span>}</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.char_class|const"><span>⦄</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>c</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr&apos;|method"><span class="operator"><span>igr'</span></span></a><span>
    
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.l_charset_opt|fact"><span class="entity_def" id="Ndet_Parser_Monad.l_charset_opt|thm"><span>l_charset_opt</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.l_charset|const"><span>l_charset</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>L</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_opt|const"><span><span class="hidden">⇧</span><sup>?</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.l_charset|const"><span>l_charset</span></a><span> </span><span class="free"><span>L</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Bex_def|fact"><span>Bex_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_force|method"><span class="operator"><span>igr_force</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.l_charset_must_opt|fact"><span class="entity_def" id="Ndet_Parser_Monad.l_charset_must_opt|thm"><span>l_charset_must_opt</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.l_charset_must|const"><span>l_charset_must</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>L</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_opt|const"><span><span class="hidden">⇧</span><sup>?</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Bex_def|fact"><span>Bex_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_force|method"><span class="operator"><span>igr_force</span></span></a><span>

        
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.Union_nat_split|fact"><span class="entity_def" id="Ndet_Parser_Monad.Union_nat_split|thm"><span class="entity_def" id="offset_43778..43793">Union_nat_split</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>⋃</span></a></span><span class="main"><span>{</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>⋃</span></a></span><span class="main"><span>{</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.old.nat.exhaust|fact"><span>old.nat.exhaust</span></a><span class="main"><span>)</span></span><span>
    
    
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.l_charset_star|fact"><span class="entity_def" id="Ndet_Parser_Monad.l_charset_star|thm"><span>l_charset_star</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.is_el|const"><span>is_el</span></a><span> </span><span class="free"><span>L</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.l_charset|const"><span>l_charset</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>L</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star|const"><span><span class="hidden">⇧</span><sup>⋆</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.l_charset|const"><span>l_charset</span></a><span> </span><span class="free"><span>L</span></span><span>"</span></span></span><span>      
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_44052..44053">1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.l_charset|const"><span>l_charset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_pow|const"><span>L_pow</span></a><span> </span><span class="free"><span>L</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.l_charset|const"><span>l_charset</span></a><span> </span><span class="free"><span>L</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>n</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>n</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
      
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_44192..44193">2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.l_charset|const"><span>l_charset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_pow|const"><span>L_pow</span></a><span> </span><span class="free"><span>L</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.l_charset|const"><span>l_charset</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>L</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star|const"><span><span class="hidden">⇧</span><sup>⋆</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>⋃</span></a></span><span> </span><span class="main"><span>{</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.l_charset|const"><span>l_charset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_pow|const"><span>L_pow</span></a><span> </span><span class="free"><span>L</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Bex_def|fact"><span>Bex_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr&apos;|method"><span class="operator"><span>igr'</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>…</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.l_charset|const"><span>l_charset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_pow|const"><span>L_pow</span></a><span> </span><span class="free"><span>L</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>⋃</span></a></span><span> </span><span class="main"><span>{</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.l_charset|const"><span>l_charset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_pow|const"><span>L_pow</span></a><span> </span><span class="free"><span>L</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_43778..43793"><span>Union_nat_split</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>…</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.l_charset|const"><span>l_charset</span></a><span> </span><span class="free"><span>L</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_44052..44053"><span>1</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_44192..44193"><span>2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>  </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.l_charset_must_star|fact"><span class="entity_def" id="Ndet_Parser_Monad.l_charset_must_star|thm"><span>l_charset_must_star</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.l_charset_must|const"><span>l_charset_must</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star|const"><span><span class="hidden">⇧</span><sup>⋆</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_29198..29211"><span>l_star_emptyI</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
    
  
</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Unit-Grammars›</span></span></span><span>    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Ndet_Parser_Monad.mk_unit_def|fact"><span class="entity_def" id="Ndet_Parser_Monad.mk_unit_def|thm"><span class="entity_def" id="Ndet_Parser_Monad.mk_unit_def_raw|axiom"><span class="entity_def" id="offset_44713..44723">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ndet_Parser_Monad.mk_unit|const"><span>mk_unit</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_apply|const"><span>&lt;&amp;&gt;</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_ignore_right_lift2|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_ignore_right_lift2|thm"><span>g_ignore_right_lift2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_right|const"><span>≪</span></a></span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.mk_unit|const"><span>mk_unit</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_right_def|fact"><span>g_ignore_right_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_44713..44723"><span>mk_unit_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>   
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_ignore_left_lift2|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_ignore_left_lift2|thm"><span>g_ignore_left_lift2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left|const"><span>≫</span></a></span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lift2|const"><span>g_lift2</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.mk_unit|const"><span>mk_unit</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_ignore_left_def|fact"><span>g_ignore_left_def</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_44713..44723"><span>mk_unit_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr|method"><span class="operator"><span>igr</span></span></a><span>   
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_lang_mk_unit|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_lang_mk_unit|thm"><span>g_lang_mk_unit</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang_simps|attribute"><span class="operator"><span>g_lang_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.mk_unit|const"><span>mk_unit</span></a><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang|const"><span>g_lang</span></a><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_44713..44723"><span>mk_unit_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_lang_simps|fact"><span class="dynamic"><span class="dynamic"><span>g_lang_simps</span></span></span></a><span class="main"><span>)</span></span><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.g_uniq_mk_unitI|fact"><span class="entity_def" id="Ndet_Parser_Monad.g_uniq_mk_unitI|thm"><span>g_uniq_mk_unitI</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq|const"><span>g_uniq</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.g_uniq|const"><span>g_uniq</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.mk_unit|const"><span>mk_unit</span></a><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span> </span><span class="comment1"><span>(* Incomplete! *)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_44713..44723"><span>mk_unit_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr&apos;|method"><span class="operator"><span>igr'</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_33418..33425"><span>g_uniqD</span></a><span class="main"><span>)</span></span><span>
  
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>  





</span><span class="comment1"><span>(* Proving Kleene Algebra 
  (from Wikipedia):
    A Kleene algebra is a set A together with two binary operations + : A × A → A and · : A × A → A and one function * : A → A, written as a + b, ab and a* respectively, so that the following axioms are satisfied.
    
    Associativity of + and ·: a + (b + c) = (a + b) + c and a(bc) = (ab)c for all a, b, c in A.
    Commutativity of +: a + b = b + a for all a, b in A
    Distributivity: a(b + c) = (ab) + (ac) and (b + c)a = (ba) + (ca) for all a, b, c in A
    Identity elements for + and ·: There exists an element 0 in A such that for all a in A: a + 0 = 0 + a = a. There exists an element 1 in A such that for all a in A: a1 = 1a = a.
    Annihilation by 0: a0 = 0a = 0 for all a in A.
    The above axioms define a semiring. We further require:
    
    + is idempotent: a + a = a for all a in A.
    It is now possible to define a partial order ≤ on A by setting a ≤ b if and only if a + b = b (or equivalently: a ≤ b if and only if there exists an x in A such that a + x = b; with any definition, a ≤ b ≤ a implies a = b). With this order we can formulate the last four axioms about the operation *:
    
    1 + a( a* ) ≤ a* for all a in A.
    1 + ( a* )a ≤ a* for all a in A.
    if a and x are in A such that ax ≤ x, then a*x ≤ x
    if a and x are in A such that xa ≤ x, then x( a* ) ≤ x [3]
*)</span></span><span>

</span><span class="keyword1"><span class="command"><span>experiment</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span> </span><span class="keyword1"><span class="command"><span>interpretation</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.lang_syntax|locale"><span>lang_syntax</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.experiment14015668.assoc|fact"><span class="entity_def" id="Ndet_Parser_Monad.experiment14015668.assoc(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.experiment14015668.assoc(1)|thm"><span>assoc</span></span></span></span><span class="main"><span>:</span></span><span> 
      </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    
    </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.experiment14015668.comm|fact"><span class="entity_def" id="Ndet_Parser_Monad.experiment14015668.comm|thm"><span>comm</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    
    </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.experiment14015668.dist|fact"><span class="entity_def" id="Ndet_Parser_Monad.experiment14015668.dist(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.experiment14015668.dist(1)|thm"><span>dist</span></span></span></span><span class="main"><span>:</span></span><span> 
      </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>c</span></span><span>"</span></span></span><span> 
      </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>c</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_fastforce|method"><span class="operator"><span>igr_fastforce</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    
    </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.experiment14015668.identity|fact"><span class="entity_def" id="Ndet_Parser_Monad.experiment14015668.identity(3)|thm"><span class="entity_def" id="Ndet_Parser_Monad.experiment14015668.identity(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.experiment14015668.identity(1)|thm"><span>identity</span></span></span></span></span><span class="main"><span>:</span></span><span> 
      </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>    
      </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>    
      </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

    </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.experiment14015668.annihilation|fact"><span class="entity_def" id="Ndet_Parser_Monad.experiment14015668.annihilation(2)|thm"><span class="entity_def" id="Ndet_Parser_Monad.experiment14015668.annihilation(1)|thm"><span>annihilation</span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>L</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>L</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    
    </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.experiment14015668.idem|fact"><span class="entity_def" id="Ndet_Parser_Monad.experiment14015668.idem|thm"><span>idem</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    
    </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    
    </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.experiment14015668.star_unfoldl|fact"><span class="entity_def" id="Ndet_Parser_Monad.experiment14015668.star_unfoldl|thm"><span>star_unfoldl</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star|const"><span><span class="hidden">⇧</span><sup>⋆</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star|const"><span><span class="hidden">⇧</span><sup>⋆</sup></span></a></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_fastforce|method"><span class="operator"><span>igr_fastforce</span></span></a><span>
      
    </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.experiment14015668.star_unfoldr|fact"><span class="entity_def" id="Ndet_Parser_Monad.experiment14015668.star_unfoldr|thm"><span>star_unfoldr</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star|const"><span><span class="hidden">⇧</span><sup>⋆</sup></span></a></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star|const"><span><span class="hidden">⇧</span><sup>⋆</sup></span></a></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_pow_unfold_left|fact"><span>L_pow_unfold_left</span></a><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>del</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_pow_simps|fact"><span>L_pow_simps</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr_fastforce|method"><span class="operator"><span>igr_fastforce</span></span></a><span>
      
    </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.experiment14015668.star_inductl|fact"><span class="entity_def" id="Ndet_Parser_Monad.experiment14015668.star_inductl|thm"><span>star_inductl</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star|const"><span><span class="hidden">⇧</span><sup>⋆</sup></span></a></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_47629..47630">A</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_pow|const"><span>L_pow</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>n</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>n</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_47629..47630"><span>A</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat_mono|fact"><span>L_concat_mono</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat_simps|fact"><span>L_concat_simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>5</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.equalityD1|fact"><span>equalityD1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_trans|fact"><span>subset_trans</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_47629..47630"><span>A</span></a><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr&apos;|method"><span class="operator"><span>igr'</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.l_concatI|fact"><span>l_concatI</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    
    </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ndet_Parser_Monad.experiment14015668.star_inductr|fact"><span class="entity_def" id="Ndet_Parser_Monad.experiment14015668.star_inductr|thm"><span>star_inductr</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_star|const"><span><span class="hidden">⇧</span><sup>⋆</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_47987..47988">A</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat|const"><span>⋅</span></a></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_pow|const"><span>L_pow</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>n</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>n</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_47987..47988"><span>A</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat_mono|fact"><span>L_concat_mono</span></a><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.L_concat_simps|fact"><span>L_concat_simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>5</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.equalityD1|fact"><span>equalityD1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_trans|fact"><span>subset_trans</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#offset_47987..47988"><span>A</span></a><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.igr&apos;|method"><span class="operator"><span>igr'</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ndet_Parser_Monad.html#Ndet_Parser_Monad.l_concatI|fact"><span>l_concatI</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>








</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre>
</body>

</html>