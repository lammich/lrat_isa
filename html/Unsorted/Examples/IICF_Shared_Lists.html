<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory IICF_Shared_Lists</title>
</head>


<body>
<div class="head">
<h1>Theory IICF_Shared_Lists</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="IICF_Shared_Lists.html"><span>IICF_Shared_Lists</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><span class="quoted"><span>"</span><a href="../Isabelle_LLVM/IICF.html"><span>Isabelle_LLVM.IICF</span></a><span>"</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="comment1"><span>(* TODO: Move *)</span></span><span>  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.list_all2_append2|fact"><span class="entity_def" id="IICF_Shared_Lists.list_all2_append2|thm"><span>list_all2_append2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>xs'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ys'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.list_all2|const"><span>list_all2</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="free"><span>xs'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ys</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="free"><span>ys'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.list_all2|const"><span>list_all2</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ys</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.list_all2|const"><span>list_all2</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>xs'</span></span><span> </span><span class="free"><span>ys'</span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_all2_append|fact"><span>list_all2_append</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_all2_iff|fact"><span>list_all2_iff</span></a><span class="main"><span>)</span></span><span>

</span><span class="comment1"><span>(* TODO: Move *)</span></span><span>  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.rev_induct2|fact"><span class="entity_def" id="IICF_Shared_Lists.rev_induct2|thm"><span>rev_induct2</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>consumes</span></span><span> 1</span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>case_names</span></span><span> Nil snoc</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><span>⟹</span></span><span>
   </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>ys</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="bound"><span>ys</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="bound"><span>ys</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="main"><span>[</span></span><span class="bound"><span>x</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>ys</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="main"><span>[</span></span><span class="bound"><span>y</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
   </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ys</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>xs</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>ys</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.rev_induct|fact"><span>rev_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>snoc</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="skolem"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>ys</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.rev_cases|fact"><span>rev_cases</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>simp_all</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.map_by_map_idx|fact"><span class="entity_def" id="IICF_Shared_Lists.map_by_map_idx|thm"><span>map_by_map_idx</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth|const"><span>nth</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.upt|const"><span>[</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.upt|const"><span>..&lt;</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.upt|const"><span>]</span></a></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>xs</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.rev_induct|fact"><span>rev_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.map2_map_conv|fact"><span class="entity_def" id="IICF_Shared_Lists.map2_map_conv|thm"><span>map2_map_conv</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map2|const"><span>map2</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><span class="free"><span>h</span></span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map2|const"><span>map2</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>h</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ys</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>xs</span></span></span><span> </span><span class="quoted"><span class="free"><span>ys</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_induct2&apos;|fact"><span>list_induct2'</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.map2_same|fact"><span class="entity_def" id="IICF_Shared_Lists.map2_same|thm"><span>map2_same</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map2|const"><span>map2</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>xs</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>xs</span></span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.nth_map2|fact"><span class="entity_def" id="IICF_Shared_Lists.nth_map2|thm"><span>nth_map2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map2|const"><span>map2</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ys</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth|const"><span>!</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth|const"><span>!</span></a></span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ys</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth|const"><span>!</span></a></span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.map2_update1|fact"><span class="entity_def" id="IICF_Shared_Lists.map2_update1|thm"><span>map2_update1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map2|const"><span>map2</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span class="main"><span>[</span></span><span class="free"><span>i</span></span><span class="main"><span>:=</span></span><span class="free"><span>x</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ys</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map2|const"><span>map2</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="free"><span>i</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ys</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth|const"><span>!</span></a></span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_update_id|fact"><span>list_update_id</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map_update|fact"><span>map_update</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.old.prod.case|fact"><span>old.prod.case</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.zip_update|fact"><span>zip_update</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.map2_update2|fact"><span class="entity_def" id="IICF_Shared_Lists.map2_update2|thm"><span>map2_update2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map2|const"><span>map2</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ys</span></span><span class="main"><span>[</span></span><span class="free"><span>i</span></span><span class="main"><span>:=</span></span><span class="free"><span>y</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map2|const"><span>map2</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="free"><span>i</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth|const"><span>!</span></a></span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_update_id|fact"><span>list_update_id</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map_update|fact"><span>map_update</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.old.prod.case|fact"><span>old.prod.case</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.zip_update|fact"><span>zip_update</span></a><span class="main"><span>)</span></span><span>
    
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.list_all2_map_map_conv|fact"><span class="entity_def" id="IICF_Shared_Lists.list_all2_map_map_conv|thm"><span>list_all2_map_map_conv</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.list_all2|const"><span>list_all2</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.list_all2|const"><span>list_all2</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ys</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.List.list.rel_map|fact"><span>list.rel_map</span></a><span class="main"><span>)</span></span><span>
  


</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Lists with Element-wise Ownership›</span></span></span><span>


  
</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Abstract Operations›</span></span></span><span>
</span><span class="comment1"><span>(* Split *)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Shared_Lists.sl_split_def|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_split_def|thm"><span class="entity_def" id="IICF_Shared_Lists.sl_split_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="IICF_Shared_Lists.sl_split|const"><span>sl_split</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth|const"><span>!</span></a></span><span class="bound"><span>i</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.upt|const"><span>[</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.upt|const"><span>..&lt;</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.upt|const"><span>]</span></a></span><span>"</span></span></span><span>

</span><span class="comment1"><span>(* Join *)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Shared_Lists.join_option.elims|fact"><span class="entity_def" id="IICF_Shared_Lists.join_option.induct|fact"><span class="entity_def" id="IICF_Shared_Lists.join_option.simps|fact"><span class="entity_def" id="IICF_Shared_Lists.join_option.pelims|fact"><span class="entity_def" id="IICF_Shared_Lists.join_option.cases|fact"><span class="entity_def" id="IICF_Shared_Lists.join_option.termination|fact"><span class="entity_def" id="IICF_Shared_Lists.join_option.pinduct|fact"><span class="entity_def" id="IICF_Shared_Lists.join_option.psimps|fact"><span class="entity_def" id="IICF_Shared_Lists.join_option_rel.inducts|fact"><span class="entity_def" id="IICF_Shared_Lists.join_option_rel.simps|fact"><span class="entity_def" id="IICF_Shared_Lists.join_option_rel.induct|fact"><span class="entity_def" id="IICF_Shared_Lists.join_option_rel.cases|fact"><span class="entity_def" id="IICF_Shared_Lists.join_option_rel.intros|fact"><span class="entity_def" id="IICF_Shared_Lists.join_option_graph.inducts|fact"><span class="entity_def" id="IICF_Shared_Lists.join_option_graph.simps|fact"><span class="entity_def" id="IICF_Shared_Lists.join_option_graph.induct|fact"><span class="entity_def" id="IICF_Shared_Lists.join_option_graph.cases|fact"><span class="entity_def" id="IICF_Shared_Lists.join_option_graph.intros|fact"><span class="entity_def" id="IICF_Shared_Lists.join_option.elims|thm"><span class="entity_def" id="IICF_Shared_Lists.join_option.induct|thm"><span class="entity_def" id="IICF_Shared_Lists.join_option.simps(3)|thm"><span class="entity_def" id="IICF_Shared_Lists.join_option.simps(2)|thm"><span class="entity_def" id="IICF_Shared_Lists.join_option.simps(1)|thm"><span class="entity_def" id="IICF_Shared_Lists.join_option.pelims|thm"><span class="entity_def" id="IICF_Shared_Lists.join_option.cases|thm"><span class="entity_def" id="IICF_Shared_Lists.join_option.termination|thm"><span class="entity_def" id="IICF_Shared_Lists.join_option.pinduct|thm"><span class="entity_def" id="IICF_Shared_Lists.join_option.psimps(3)|thm"><span class="entity_def" id="IICF_Shared_Lists.join_option.psimps(2)|thm"><span class="entity_def" id="IICF_Shared_Lists.join_option.psimps(1)|thm"><span class="entity_def" id="IICF_Shared_Lists.join_option_rel.inducts|thm"><span class="entity_def" id="IICF_Shared_Lists.join_option_rel.simps|thm"><span class="entity_def" id="IICF_Shared_Lists.join_option_rel.induct|thm"><span class="entity_def" id="IICF_Shared_Lists.join_option_rel.cases|thm"><span class="entity_def" id="IICF_Shared_Lists.join_option_graph.inducts|thm"><span class="entity_def" id="IICF_Shared_Lists.join_option_graph.simps|thm"><span class="entity_def" id="IICF_Shared_Lists.join_option_graph.induct|thm"><span class="entity_def" id="IICF_Shared_Lists.join_option_graph.cases|thm"><span class="entity_def" id="IICF_Shared_Lists.join_option_graph.intros(3)|thm"><span class="entity_def" id="IICF_Shared_Lists.join_option_graph.intros(2)|thm"><span class="entity_def" id="IICF_Shared_Lists.join_option_graph.intros(1)|thm"><span class="entity_def" id="IICF_Shared_Lists.join_option_def|axiom"><span class="entity_def" id="IICF_Shared_Lists.join_option_rel_def|axiom"><span class="entity_def" id="IICF_Shared_Lists.join_option_sumC_def|axiom"><span class="entity_def" id="IICF_Shared_Lists.join_option_graph_def|axiom"><span class="entity_def" id="IICF_Shared_Lists.join_option_dom|const"><span class="entity_def" id="IICF_Shared_Lists.join_option_rel|const"><span class="entity_def" id="IICF_Shared_Lists.join_option_sumC|const"><span class="entity_def" id="IICF_Shared_Lists.join_option_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="IICF_Shared_Lists.join_option|const"><span>join_option</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>join_option</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>join_option</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span>"</span></span></span><span>  
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>join_option</span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>"</span></span></span><span>  </span><span class="comment1"><span>(* Corner case mapped symmetrically to None *)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.join_option_add_simp|fact"><span class="entity_def" id="IICF_Shared_Lists.join_option_add_simp|thm"><span>join_option_add_simp</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.join_option|const"><span>join_option</span></a><span> </span><span class="free"><span>x</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Shared_Lists.sl_join_def|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_join_def|thm"><span class="entity_def" id="IICF_Shared_Lists.sl_join_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="IICF_Shared_Lists.sl_join|const"><span>sl_join</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map2|const"><span>map2</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.join_option|const"><span>join_option</span></a><span>"</span></span></span><span>

</span><span class="comment1"><span>(* Conversion from/to plain list *)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Shared_Lists.sl_of_list_def|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_of_list_def|thm"><span class="entity_def" id="IICF_Shared_Lists.sl_of_list_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="IICF_Shared_Lists.sl_of_list|const"><span>sl_of_list</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Shared_Lists.list_of_sl_def|fact"><span class="entity_def" id="IICF_Shared_Lists.list_of_sl_def|thm"><span class="entity_def" id="IICF_Shared_Lists.list_of_sl_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="IICF_Shared_Lists.list_of_sl|const"><span>list_of_sl</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span>"</span></span></span><span>

</span><span class="comment1"><span>(* Structure *)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Shared_Lists.sl_struct_def|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_struct_def|thm"><span class="entity_def" id="IICF_Shared_Lists.sl_struct_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>(=)</span></a></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Shared_Lists.sl_compat_def|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_compat_def|thm"><span class="entity_def" id="IICF_Shared_Lists.sl_compat_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="IICF_Shared_Lists.sl_compat|const"><span>sl_compat</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.list_all2|const"><span>list_all2</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>(∨)</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Shared_Lists.sl_complete_def|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_complete_def|thm"><span class="entity_def" id="IICF_Shared_Lists.sl_complete_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="IICF_Shared_Lists.sl_complete|const"><span>sl_complete</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="main"><span>{</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>}</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Shared_Lists.sl_indexes_def|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_indexes_def|thm"><span class="entity_def" id="IICF_Shared_Lists.sl_indexes_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="IICF_Shared_Lists.sl_indexes|const"><span>sl_indexes</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth|const"><span>!</span></a></span><span class="bound"><span>i</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="IICF_Shared_Lists.sl_indexes&apos;|const"><span>sl_indexes'</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes|const"><span>sl_indexes</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Shared_Lists.sl_struct_join_def|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_struct_join_def|thm"><span class="entity_def" id="IICF_Shared_Lists.sl_struct_join_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="IICF_Shared_Lists.sl_struct_join|const"><span>sl_struct_join</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map2|const"><span>map2</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>(=)</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Shared_Lists.sl_struct_split_def|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_struct_split_def|thm"><span class="entity_def" id="IICF_Shared_Lists.sl_struct_split_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="IICF_Shared_Lists.sl_struct_split|const"><span>sl_struct_split</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>I</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span class="bound"><span class="entity"><span>I</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth|const"><span>!</span></a></span><span class="bound"><span>i</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.upt|const"><span>[</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.upt|const"><span>..&lt;</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.upt|const"><span>]</span></a></span><span>"</span></span></span><span>

</span><span class="comment1"><span>(* Operations *)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Shared_Lists.sl_get_def|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_get_def|thm"><span class="entity_def" id="IICF_Shared_Lists.sl_get_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="IICF_Shared_Lists.sl_get|const"><span>sl_get</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth|const"><span>!</span></a></span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.undefined|const"><span>undefined</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Shared_Lists.sl_put_def|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_put_def|thm"><span class="entity_def" id="IICF_Shared_Lists.sl_put_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="IICF_Shared_Lists.sl_put|const"><span>sl_put</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span class="main"><span>[</span></span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span class="main"><span>:=</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Lemmas for Abstract Operations›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_indexes_alt|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_indexes_alt|thm"><span>sl_indexes_alt</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes&apos;|const"><span>sl_indexes'</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth|const"><span>!</span></a></span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>}</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes_def|fact"><span>sl_indexes_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_def|fact"><span>sl_struct_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_of_list_empty|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_of_list_empty|thm"><span>sl_of_list_empty</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_of_list|const"><span>sl_of_list</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_of_list_def|fact"><span>sl_of_list_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_of_list_eq_empty_conv|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_of_list_eq_empty_conv|thm"><span>sl_of_list_eq_empty_conv</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_of_list|const"><span>sl_of_list</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_of_list_def|fact"><span>sl_of_list_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_split_empty|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_split_empty|thm"><span>sl_split_empty</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split|const"><span>sl_split</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split_def|fact"><span>sl_split_def</span></a><span class="main"><span>)</span></span><span> 
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_split_eq_empty_conv|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_split_eq_empty_conv|thm"><span>sl_split_eq_empty_conv</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split|const"><span>sl_split</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split_def|fact"><span>sl_split_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_struct_empty|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_struct_empty|thm"><span>sl_struct_empty</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_def|fact"><span>sl_struct_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_struct_eq_empty_conv|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_struct_eq_empty_conv|thm"><span>sl_struct_eq_empty_conv</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_def|fact"><span>sl_struct_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_compat_empty|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_compat_empty|thm"><span>sl_compat_empty</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat|const"><span>sl_compat</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat_def|fact"><span>sl_compat_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_compat_empty_conv|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_compat_empty_conv(2)|thm"><span class="entity_def" id="IICF_Shared_Lists.sl_compat_empty_conv(1)|thm"><span>sl_compat_empty_conv</span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat|const"><span>sl_compat</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="free"><span>xs<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>xs<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat|const"><span>sl_compat</span></a><span> </span><span class="free"><span>xs<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>xs<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat_def|fact"><span>sl_compat_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_join_empty|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_join_empty(2)|thm"><span class="entity_def" id="IICF_Shared_Lists.sl_join_empty(1)|thm"><span>sl_join_empty</span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join|const"><span>sl_join</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join|const"><span>sl_join</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join_def|fact"><span>sl_join_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_join_eq_empty_conv|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_join_eq_empty_conv|thm"><span>sl_join_eq_empty_conv</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat|const"><span>sl_compat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>xs<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>xs<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join|const"><span>sl_join</span></a><span> </span><span class="free"><span>xs<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>xs<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>xs<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>xs<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join_def|fact"><span>sl_join_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_indexes_empty|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_indexes_empty|thm"><span>sl_indexes_empty</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes|const"><span>sl_indexes</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes_def|fact"><span>sl_indexes_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
  
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_indexes_of_list|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_indexes_of_list|thm"><span>sl_indexes_of_list</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes&apos;|const"><span>sl_indexes'</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_of_list|const"><span>sl_of_list</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>{</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>..&lt;</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>}</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes_def|fact"><span>sl_indexes_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_def|fact"><span>sl_struct_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_of_list_def|fact"><span>sl_of_list_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_struct_put|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_struct_put|thm"><span>sl_struct_put</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes&apos;|const"><span>sl_indexes'</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_put|const"><span>sl_put</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>xs</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes_def|fact"><span>sl_indexes_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_def|fact"><span>sl_struct_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_put_def|fact"><span>sl_put_def</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map_update|fact"><span>map_update</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_update_same_conv|fact"><span>list_update_same_conv</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_get_of_list|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_get_of_list|thm"><span>sl_get_of_list</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get|const"><span>sl_get</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_of_list|const"><span>sl_of_list</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth|const"><span>!</span></a></span><span class="free"><span>i</span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get_def|fact"><span>sl_get_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_of_list_def|fact"><span>sl_of_list_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_put_of_list|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_put_of_list|thm"><span>sl_put_of_list</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_put|const"><span>sl_put</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_of_list|const"><span>sl_of_list</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_of_list|const"><span>sl_of_list</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span class="main"><span>[</span></span><span class="free"><span>i</span></span><span class="main"><span>:=</span></span><span class="free"><span>x</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_put_def|fact"><span>sl_put_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_of_list_def|fact"><span>sl_of_list_def</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map_update|fact"><span>map_update</span></a><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_list_of_list|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_list_of_list|thm"><span>sl_list_of_list</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.list_of_sl|const"><span>list_of_sl</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_of_list|const"><span>sl_of_list</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>xs</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.list_of_sl_def|fact"><span>list_of_sl_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_of_list_def|fact"><span>sl_of_list_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_of_list_length|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_of_list_length|thm"><span>sl_of_list_length</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_of_list|const"><span>sl_of_list</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>xs</span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_of_list_def|fact"><span>sl_of_list_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_split_length|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_split_length|thm"><span>sl_split_length</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split|const"><span>sl_split</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>xs</span></span><span>"</span></span></span><span>    
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split_def|fact"><span>sl_split_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_struct_length|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_struct_length|thm"><span>sl_struct_length</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>xs</span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_def|fact"><span>sl_struct_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_join_length_nopre|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_join_length_nopre|thm"><span>sl_join_length_nopre</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join|const"><span>sl_join</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.min|const"><span>min</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join_def|fact"><span>sl_join_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_struct_join_length_nopre|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_struct_join_length_nopre|thm"><span>sl_struct_join_length_nopre</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_join|const"><span>sl_struct_join</span></a><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.min|const"><span>min</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_join_def|fact"><span>sl_struct_join_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_compat_lengthD|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_compat_lengthD|thm"><span>sl_compat_lengthD</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat|const"><span>sl_compat</span></a><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat_def|fact"><span>sl_compat_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_all2_lengthD|fact"><span>list_all2_lengthD</span></a><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_join_struct_length|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_join_struct_length|thm"><span>sl_join_struct_length</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat|const"><span>sl_compat</span></a><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_join|const"><span>sl_struct_join</span></a><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat_lengthD|fact"><span>sl_compat_lengthD</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_join_length_nopre|fact"><span>sl_struct_join_length_nopre</span></a><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_join_length|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_join_length|thm"><span>sl_join_length</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat|const"><span>sl_compat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join|const"><span>sl_join</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ys</span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat_lengthD|fact"><span>sl_compat_lengthD</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join_length_nopre|fact"><span>sl_join_length_nopre</span></a><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_struct_join|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_struct_join|thm"><span>sl_struct_join</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join|const"><span>sl_join</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_join|const"><span>sl_struct_join</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat_def|fact"><span>sl_compat_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join_def|fact"><span>sl_join_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_join_def|fact"><span>sl_struct_join_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_def|fact"><span>sl_struct_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.map2_map_conv|fact"><span>map2_map_conv</span></a><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_join_indexes_nopre|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_join_indexes_nopre|thm"><span>sl_join_indexes_nopre</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes|const"><span>sl_indexes</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_join|const"><span>sl_struct_join</span></a><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes|const"><span>sl_indexes</span></a><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes|const"><span>sl_indexes</span></a><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes|const"><span>sl_indexes</span></a><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes|const"><span>sl_indexes</span></a><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>{</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>..&lt;</span></a></span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.min|const"><span>min</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>}</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes_def|fact"><span>sl_indexes_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_join_def|fact"><span>sl_struct_join_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_compat_idx_djD|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_compat_idx_djD|thm"><span>sl_compat_idx_djD</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat|const"><span>sl_compat</span></a><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes|const"><span>sl_indexes</span></a><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes|const"><span>sl_indexes</span></a><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat_def|fact"><span>sl_compat_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes_def|fact"><span>sl_indexes_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_def|fact"><span>sl_struct_def</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_all2_nthD|fact"><span>list_all2_nthD</span></a><span class="main"><span>)</span></span><span> 
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_indexes_lengthD|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_indexes_lengthD|thm"><span>sl_indexes_lengthD</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes|const"><span>sl_indexes</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes_def|fact"><span>sl_indexes_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_join_indexes|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_join_indexes|thm"><span>sl_join_indexes</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat|const"><span>sl_compat</span></a><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes|const"><span>sl_indexes</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_join|const"><span>sl_struct_join</span></a><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes|const"><span>sl_indexes</span></a><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes|const"><span>sl_indexes</span></a><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>2</sub></span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 3 </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join_indexes_nopre|fact"><span>sl_join_indexes_nopre</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat_idx_djD|fact"><span>sl_compat_idx_djD</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat_lengthD|fact"><span>sl_compat_lengthD</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes_lengthD|fact"><span>sl_indexes_lengthD</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_get_split|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_get_split|thm"><span>sl_get_split</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>s</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get|const"><span>sl_get</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split|const"><span>sl_split</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get|const"><span>sl_get</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>i</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get_def|fact"><span>sl_get_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split_def|fact"><span>sl_split_def</span></a><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>xs</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Generic_Memory.html#Generic_Memory.nth_undefined|fact"><span>nth_undefined</span></a><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_put_split|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_put_split|thm"><span>sl_put_split</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>s</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_put|const"><span>sl_put</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split|const"><span>sl_split</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split|const"><span>sl_split</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_put|const"><span>sl_put</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_put_def|fact"><span>sl_put_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split_def|fact"><span>sl_split_def</span></a><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>xs</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth_list_update|fact"><span>nth_list_update</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth_equalityI|fact"><span>nth_equalityI</span></a><span class="main"><span>)</span></span><span>
  

    
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_get_join|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_get_join|thm"><span>sl_get_join</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat|const"><span>sl_compat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get|const"><span>sl_get</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join|const"><span>sl_join</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes&apos;|const"><span>sl_indexes'</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get|const"><span>sl_get</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get|const"><span>sl_get</span></a><span> </span><span class="free"><span>ys</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes_def|fact"><span>sl_indexes_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat_def|fact"><span>sl_compat_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get_def|fact"><span>sl_get_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join_def|fact"><span>sl_join_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_def|fact"><span>sl_struct_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.List.list.rel_map|fact"><span>list.rel_map</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.nth_map2|fact"><span>nth_map2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_all2_lengthD|fact"><span>list_all2_lengthD</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_all2_nthD2|fact"><span>list_all2_nthD2</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_get_join1|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_get_join1|thm"><span>sl_get_join1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat|const"><span>sl_compat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes&apos;|const"><span>sl_indexes'</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get|const"><span>sl_get</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join|const"><span>sl_join</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get|const"><span>sl_get</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>i</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get_join|fact"><span>sl_get_join</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 3 </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get_join|fact"><span>sl_get_join</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes_lengthD|fact"><span>sl_indexes_lengthD</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat_lengthD|fact"><span>sl_compat_lengthD</span></a><span class="main"><span>)</span></span><span>
            
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_get_join2|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_get_join2|thm"><span>sl_get_join2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat|const"><span>sl_compat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes&apos;|const"><span>sl_indexes'</span></a><span> </span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get|const"><span>sl_get</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join|const"><span>sl_join</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get|const"><span>sl_get</span></a><span> </span><span class="free"><span>ys</span></span><span> </span><span class="free"><span>i</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get_join|fact"><span>sl_get_join</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 3 </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get_join|fact"><span>sl_get_join</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes_lengthD|fact"><span>sl_indexes_lengthD</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat_lengthD|fact"><span>sl_compat_lengthD</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat_idx_djD|fact"><span>sl_compat_idx_djD</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_put_join1|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_put_join1|thm"><span>sl_put_join1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat|const"><span>sl_compat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes&apos;|const"><span>sl_indexes'</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_put|const"><span>sl_put</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join|const"><span>sl_join</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join|const"><span>sl_join</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_put|const"><span>sl_put</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ys</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes_def|fact"><span>sl_indexes_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat_def|fact"><span>sl_compat_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_put_def|fact"><span>sl_put_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join_def|fact"><span>sl_join_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_def|fact"><span>sl_struct_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 3 </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.List.list.rel_map|fact"><span>list.rel_map</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.nth_map2|fact"><span>nth_map2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_all2_lengthD|fact"><span>list_all2_lengthD</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.map2_update1|fact"><span>map2_update1</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_all2_nthD2|fact"><span>list_all2_nthD2</span></a><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_put_join2|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_put_join2|thm"><span>sl_put_join2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat|const"><span>sl_compat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes&apos;|const"><span>sl_indexes'</span></a><span> </span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_put|const"><span>sl_put</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join|const"><span>sl_join</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join|const"><span>sl_join</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_put|const"><span>sl_put</span></a><span> </span><span class="free"><span>ys</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes_def|fact"><span>sl_indexes_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat_def|fact"><span>sl_compat_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_put_def|fact"><span>sl_put_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join_def|fact"><span>sl_join_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_def|fact"><span>sl_struct_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 3 </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.List.list.rel_map|fact"><span>list.rel_map</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.nth_map2|fact"><span>nth_map2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_all2_lengthD|fact"><span>list_all2_lengthD</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.map2_update2|fact"><span>map2_update2</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_all2_nthD2|fact"><span>list_all2_nthD2</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_struct_split|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_struct_split|thm"><span>sl_struct_split</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split|const"><span>sl_split</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_split|const"><span>sl_struct_split</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_def|fact"><span>sl_struct_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split_def|fact"><span>sl_split_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_split_def|fact"><span>sl_struct_split_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_compat_splitI|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_compat_splitI|thm"><span>sl_compat_splitI</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span class="free"><span>s'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat|const"><span>sl_compat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_split|const"><span>sl_struct_split</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_split|const"><span>sl_struct_split</span></a><span> </span><span class="free"><span>s'</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat_def|fact"><span>sl_compat_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_split_def|fact"><span>sl_struct_split_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.List.list.rel_map|fact"><span>list.rel_map</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.List.list.rel_refl|fact"><span>list.rel_refl</span></a><span class="main"><span>)</span></span><span>
  
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_indexes_split|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_indexes_split|thm"><span>sl_indexes_split</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes|const"><span>sl_indexes</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_split|const"><span>sl_struct_split</span></a><span> </span><span class="free"><span>I</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>I</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes|const"><span>sl_indexes</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes_def|fact"><span>sl_indexes_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_split_def|fact"><span>sl_struct_split_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_of_list_complete|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_of_list_complete|thm"><span>sl_of_list_complete</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_complete|const"><span>sl_complete</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_of_list|const"><span>sl_of_list</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_complete_def|fact"><span>sl_complete_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_def|fact"><span>sl_struct_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_of_list_def|fact"><span>sl_of_list_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_get_complete|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_get_complete|thm"><span>sl_get_complete</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_complete|const"><span>sl_complete</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get|const"><span>sl_get</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.list_of_sl|const"><span>list_of_sl</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth|const"><span>!</span></a></span><span class="free"><span>i</span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_complete_def|fact"><span>sl_complete_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_def|fact"><span>sl_struct_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_of_list_def|fact"><span>sl_of_list_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get_def|fact"><span>sl_get_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.list_of_sl_def|fact"><span>list_of_sl_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>xs</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>  
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp_all</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Generic_Memory.html#Generic_Memory.nth_undefined|fact"><span>nth_undefined</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.list_eq_iff_sl_eq|fact"><span class="entity_def" id="IICF_Shared_Lists.list_eq_iff_sl_eq|thm"><span>list_eq_iff_sl_eq</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>xs'</span></span><span> 
  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>xs'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes&apos;|const"><span>sl_indexes'</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes&apos;|const"><span>sl_indexes'</span></a><span> </span><span class="free"><span>xs'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span>i</span></span><span class="main"><span>∈</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes&apos;|const"><span>sl_indexes'</span></a><span> </span><span class="free"><span>xs'</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get|const"><span>sl_get</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get|const"><span>sl_get</span></a><span> </span><span class="free"><span>xs'</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffI|fact"><span>iffI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>fail</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes_alt|fact"><span>sl_indexes_alt</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get_def|fact"><span>sl_get_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_eq_iff_nth_eq|fact"><span>list_eq_iff_nth_eq</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.exhaust_sel|fact"><span>option.exhaust_sel</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.sel|fact"><span>option.sel</span></a><span class="main"><span>)</span></span><span>
  
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_join_split_eq|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_join_split_eq|thm"><span>sl_join_split_eq</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join|const"><span>sl_join</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split|const"><span>sl_split</span></a><span> </span><span class="free"><span>ls</span></span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split|const"><span>sl_split</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><span class="free"><span>ls</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>xs</span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.list_eq_iff_sl_eq|fact"><span>list_eq_iff_sl_eq</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat_splitI|fact"><span>sl_compat_splitI</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes_split|fact"><span>sl_indexes_split</span></a><span> </span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get_join|fact"><span>sl_get_join</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat_splitI|fact"><span>sl_compat_splitI</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>fail</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes_lengthD|fact"><span>sl_indexes_lengthD</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>fail</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get_split|fact"><span>sl_get_split</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes_split|fact"><span>sl_indexes_split</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_put_empty_iff|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_put_empty_iff|thm"><span>sl_put_empty_iff</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_put|const"><span>sl_put</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_put_def|fact"><span>sl_put_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_get_put|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_get_put|thm"><span>sl_get_put</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes&apos;|const"><span>sl_indexes'</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get|const"><span>sl_get</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_put|const"><span>sl_put</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get_def|fact"><span>sl_get_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_put_def|fact"><span>sl_put_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes_lengthD|fact"><span>sl_indexes_lengthD</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_get_put_indep|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_get_put_indep|thm"><span>sl_get_put_indep</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span class="free"><span>j</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get|const"><span>sl_get</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_put|const"><span>sl_put</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get|const"><span>sl_get</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>j</span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get_def|fact"><span>sl_get_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_put_def|fact"><span>sl_put_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_put_get|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_put_get|thm"><span>sl_put_get</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes&apos;|const"><span>sl_indexes'</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_put|const"><span>sl_put</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get|const"><span>sl_get</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>xs</span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get_def|fact"><span>sl_get_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_put_def|fact"><span>sl_put_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes_alt|fact"><span>sl_indexes_alt</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    
</span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Shared_Lists.sl_split1&apos;_def|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_split1&apos;_def|thm"><span class="entity_def" id="IICF_Shared_Lists.sl_split1&apos;_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="IICF_Shared_Lists.sl_split1&apos;|const"><span>sl_split1'</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>"</span></span></span><span>  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_split1&apos;_simp|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_split1&apos;_simp(3)|thm"><span class="entity_def" id="IICF_Shared_Lists.sl_split1&apos;_simp(2)|thm"><span class="entity_def" id="IICF_Shared_Lists.sl_split1&apos;_simp(1)|thm"><span>sl_split1'_simp</span></span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split1&apos;|const"><span>sl_split1'</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split1&apos;|const"><span>sl_split1'</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split1&apos;|const"><span>sl_split1'</span></a><span> </span><span class="free"><span>b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split1&apos;_def|fact"><span>sl_split1'_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

      
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_split_snoc|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_split_snoc|thm"><span>sl_split_snoc</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split|const"><span>sl_split</span></a><span> </span><span class="free"><span>ls</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="main"><span>[</span></span><span class="free"><span>x</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split|const"><span>sl_split</span></a><span> </span><span class="free"><span>ls</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="main"><span>[</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split1&apos;|const"><span>sl_split1'</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>ls</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split_def|fact"><span>sl_split_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_struct_Cons|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_struct_Cons|thm"><span>sl_struct_Cons</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>xs</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_def|fact"><span>sl_struct_def</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_compat_Cons|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_compat_Cons|thm"><span>sl_compat_Cons</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat|const"><span>sl_compat</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat|const"><span>sl_compat</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ys</span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat_def|fact"><span>sl_compat_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_join_Cons|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_join_Cons|thm"><span>sl_join_Cons</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join|const"><span>sl_join</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.join_option|const"><span>join_option</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join|const"><span>sl_join</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ys</span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join_def|fact"><span>sl_join_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_indexes_finite|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_indexes_finite|thm"><span>sl_indexes_finite</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes|const"><span>sl_indexes</span></a><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes_def|fact"><span>sl_indexes_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_struct_join_split|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_struct_join_split|thm"><span>sl_struct_join_split</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_join|const"><span>sl_struct_join</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_split|const"><span>sl_struct_split</span></a><span> </span><span class="free"><span>I</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_split|const"><span>sl_struct_split</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><span class="free"><span>I</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_join_def|fact"><span>sl_struct_join_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_split_def|fact"><span>sl_struct_split_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.map2_map_conv|fact"><span>map2_map_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map_nth|fact"><span>map_nth</span></a><span class="main"><span>)</span></span><span> 

</span><span class="comment1"><span>(*
lemma sl_join_split_eq: "sl_join (sl_split s xs) (sl_split (-s) xs) = xs"  
  unfolding sl_join_def sl_split_def 
  apply (rewrite at "_ = ⌑" map_nth[symmetric])
  by (auto simp: map2_map_conv)
*)</span></span><span>  
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.mset_of_list_permut|fact"><span class="entity_def" id="IICF_Shared_Lists.mset_of_list_permut|thm"><span>mset_of_list_permut</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.mset|const"><span>mset</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.mset|const"><span>mset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_of_list|const"><span>sl_of_list</span></a><span> </span><span class="free"><span>xs<span class="hidden">⇩</span><sub>0</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.mset|const"><span>mset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.list_of_sl|const"><span>list_of_sl</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.mset|const"><span>mset</span></a><span> </span><span class="free"><span>xs<span class="hidden">⇩</span><sub>0</sub></span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_of_list_def|fact"><span>sl_of_list_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.list_of_sl_def|fact"><span>list_of_sl_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.mset_map_id|fact"><span>mset_map_id</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.length_sl_put|fact"><span class="entity_def" id="IICF_Shared_Lists.length_sl_put|thm"><span>length_sl_put</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_put|const"><span>sl_put</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>xs</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_put_def|fact"><span>sl_put_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_swap_aux|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_swap_aux|thm"><span>sl_swap_aux</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes&apos;|const"><span>sl_indexes'</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes&apos;|const"><span>sl_indexes'</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>⟧</span></span><span> 
  </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_put|const"><span>sl_put</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_put|const"><span>sl_put</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get|const"><span>sl_get</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get|const"><span>sl_get</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/More_List.html#More_List.swap|const"><span>swap</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>j</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_eq_iff_nth_eq|fact"><span>list_eq_iff_nth_eq</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_put_def|fact"><span>sl_put_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get_def|fact"><span>sl_get_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes_alt|fact"><span>sl_indexes_alt</span></a><span> </span><a class="entity_ref" href="../Isabelle_LLVM/More_List.html#More_List.swap_def|fact"><span>swap_def</span></a><span class="main"><span>)</span></span><span>
  
  
  
</span><span class="comment1"><span>(* TODO: Move *)</span></span><span>  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_struct_swap|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_struct_swap|thm"><span>sl_struct_swap</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes&apos;|const"><span>sl_indexes'</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>j</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes&apos;|const"><span>sl_indexes'</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_LLVM/More_List.html#More_List.swap|const"><span>swap</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>xs</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>flip</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_swap_aux|fact"><span>sl_swap_aux</span></a><span class="main"><span>)</span></span><span>
  
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_get_swap_iff|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_get_swap_iff|thm"><span>sl_get_swap_iff</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes&apos;|const"><span>sl_indexes'</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>j</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes&apos;|const"><span>sl_indexes'</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get|const"><span>sl_get</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_LLVM/More_List.html#More_List.swap|const"><span>swap</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>i</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get|const"><span>sl_get</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>j</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get|const"><span>sl_get</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get|const"><span>sl_get</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>k</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get_def|fact"><span>sl_get_def</span></a><span> </span><a class="entity_ref" href="../Isabelle_LLVM/More_List.html#More_List.swap_nth|fact"><span>swap_nth</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes_lengthD|fact"><span>sl_indexes_lengthD</span></a><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_get_swap_other|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_get_swap_other|thm"><span>sl_get_swap_other</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span class="free"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span class="free"><span>i</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span class="free"><span>j</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get|const"><span>sl_get</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_LLVM/More_List.html#More_List.swap|const"><span>swap</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get|const"><span>sl_get</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>k</span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_get_def|fact"><span>sl_get_def</span></a><span> </span><a class="entity_ref" href="../Isabelle_LLVM/More_List.html#More_List.swap_def|fact"><span>swap_def</span></a><span class="main"><span>)</span></span><span>

  


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12818..12823">lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.slcompat_None_lower_bound|fact"><span class="entity_def" id="IICF_Shared_Lists.slcompat_None_lower_bound|thm"><span>slcompat_None_lower_bound</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat|const"><span>sl_compat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>xs<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>xs<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.replicate_mset|const"><span>replicate_mset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>xs<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.subseteq_mset|const"><span>⊆#</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.mset|const"><span>mset</span></a><span> </span><span class="free"><span>xs<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.mset|const"><span>mset</span></a><span> </span><span class="free"><span>xs<span class="hidden">⇩</span><sub>2</sub></span></span><span>"</span></span></span><span>  
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#offset_12818..12823"><span>assms</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat_def|fact"><span>sl_compat_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_def|fact"><span>sl_struct_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.List.list.rel_map|fact"><span>list.rel_map</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>xs<span class="hidden">⇩</span><sub>1</sub></span></span></span><span> </span><span class="quoted"><span class="free"><span>xs<span class="hidden">⇩</span><sub>2</sub></span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Word_Lib.Many_More.html#Many_More.list_all2_induct|fact"><span>list_all2_induct</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.add_mset_add_single|fact"><span>add_mset_add_single</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.mset_le_incr_right1|fact"><span>mset_le_incr_right1</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.mset_le_add_mset_decr_left1|fact"><span>mset_le_add_mset_decr_left1</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.subset_mset.dual_order.refl|fact"><span>subset_mset.dual_order.refl</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.subset_mset.dual_order.trans|fact"><span>subset_mset.dual_order.trans</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>      
  

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_13362..13367">lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.mset_join_idxs_eq|fact"><span class="entity_def" id="IICF_Shared_Lists.mset_join_idxs_eq|thm"><span>mset_join_idxs_eq</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat|const"><span>sl_compat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>xs<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>xs<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.mset|const"><span>mset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join|const"><span>sl_join</span></a><span> </span><span class="free"><span>xs<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>xs<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.mset|const"><span>mset</span></a><span> </span><span class="free"><span>xs<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.mset|const"><span>mset</span></a><span> </span><span class="free"><span>xs<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.replicate_mset|const"><span>replicate_mset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>xs<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat_lengthD|fact"><span>sl_compat_lengthD</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#offset_13362..13367"><span>assms</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#offset_13362..13367"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>xs<span class="hidden">⇩</span><sub>1</sub></span></span></span><span> </span><span class="quoted"><span class="free"><span>xs<span class="hidden">⇩</span><sub>2</sub></span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_induct2|fact"><span>list_induct2</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join_def|fact"><span>sl_join_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> x xs y ys
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.slcompat_None_lower_bound|fact"><span>slcompat_None_lower_bound</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>xs</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>ys</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat_def|fact"><span>sl_compat_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_def|fact"><span>sl_struct_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join_def|fact"><span>sl_join_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.add_mset_add_single|fact"><span>add_mset_add_single</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.subset_mset.add_diff_assoc2|fact"><span>subset_mset.add_diff_assoc2</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.add_mset_add_single|fact"><span>add_mset_add_single</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.subset_mset.add_diff_assoc2|fact"><span>subset_mset.add_diff_assoc2</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

  
</span><span class="comment1"><span>(* TODO: Move *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.fold_is_None&apos;|fact"><span class="entity_def" id="IICF_Shared_Lists.fold_is_None&apos;|thm"><span>fold_is_None'</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>(=)</span></a></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Bindings_HOL.html#Autoref_Bindings_HOL.is_None|const"><span>is_None</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_struct_param|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_struct_param|thm"><span>sl_struct_param</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Param_Tool.html#Param_Tool.param|attribute"><span class="operator"><span>param</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>⟨</span></span><span class="main"><span>⟨</span></span><span class="free"><span>A</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel|const"><span>option_rel</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><span class="main"><span>⟨</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.bool_rel|const"><span>bool_rel</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct_def|fact"><span>sl_struct_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.fold_is_None&apos;|fact"><span>fold_is_None'</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Param_Tool.html#Param_Tool.parametricity|method"><span class="operator"><span>parametricity</span></span></a><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_indexes_param|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_indexes_param|thm"><span>sl_indexes_param</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Param_Tool.html#Param_Tool.param|attribute"><span class="operator"><span>param</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes|const"><span>sl_indexes</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes|const"><span>sl_indexes</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>⟨</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.bool_rel|const"><span>bool_rel</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><span class="main"><span>⟨</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.nat_rel|const"><span>nat_rel</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.set_rel|const"><span>set_rel</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_split_param|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_split_param|thm"><span>sl_split_param</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Param_Tool.html#Param_Tool.param|attribute"><span class="operator"><span>param</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split|const"><span>sl_split</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split|const"><span>sl_split</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>⟨</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.nat_rel|const"><span>nat_rel</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.set_rel|const"><span>set_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><span class="main"><span>⟨</span></span><span class="main"><span>⟨</span></span><span class="free"><span>A</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel|const"><span>option_rel</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><span class="main"><span>⟨</span></span><span class="main"><span>⟨</span></span><span class="free"><span>A</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel|const"><span>option_rel</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split_def|fact"><span>sl_split_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Param_Tool.html#Param_Tool.parametricity|method"><span class="operator"><span>parametricity</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.join_option_param|fact"><span class="entity_def" id="IICF_Shared_Lists.join_option_param|thm"><span>join_option_param</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Param_Tool.html#Param_Tool.param|attribute"><span class="operator"><span>param</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.join_option|const"><span>join_option</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.join_option|const"><span>join_option</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>⟨</span></span><span class="free"><span>A</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel|const"><span>option_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><span class="main"><span>⟨</span></span><span class="free"><span>A</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel|const"><span>option_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><span class="main"><span>⟨</span></span><span class="free"><span>A</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel|const"><span>option_rel</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel_def|fact"><span>option_rel_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_join_param|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_join_param|thm"><span>sl_join_param</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Param_Tool.html#Param_Tool.param|attribute"><span class="operator"><span>param</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join|const"><span>sl_join</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join|const"><span>sl_join</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>⟨</span></span><span class="main"><span>⟨</span></span><span class="free"><span>A</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel|const"><span>option_rel</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><span class="main"><span>⟨</span></span><span class="main"><span>⟨</span></span><span class="free"><span>A</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel|const"><span>option_rel</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><span class="main"><span>⟨</span></span><span class="main"><span>⟨</span></span><span class="free"><span>A</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel|const"><span>option_rel</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join_def|fact"><span>sl_join_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Param_Tool.html#Param_Tool.parametricity|method"><span class="operator"><span>parametricity</span></span></a><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.sl_complete_sl_of_list_of_sl|fact"><span class="entity_def" id="IICF_Shared_Lists.sl_complete_sl_of_list_of_sl|thm"><span>sl_complete_sl_of_list_of_sl</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_complete|const"><span>sl_complete</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_of_list|const"><span>sl_of_list</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.list_of_sl|const"><span>list_of_sl</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>xs</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_of_list_def|fact"><span>sl_of_list_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.list_of_sl_def|fact"><span>list_of_sl_def</span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_complete_def|fact"><span>sl_complete_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>xs</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
  
  
</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Sepref ADT Setup›</span></span></span><span>  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Shared_Lists.mop_slist_swap.fref&apos;|fact"><span class="entity_def" id="IICF_Shared_Lists.mop_slist_swap.fref|fact"><span class="entity_def" id="IICF_Shared_Lists.op_slist_swap.fref&apos;|fact"><span class="entity_def" id="IICF_Shared_Lists.pre_slist_swap.param|fact"><span class="entity_def" id="IICF_Shared_Lists.op_slist_swap.fref|fact"><span class="entity_def" id="IICF_Shared_Lists.mop_slist_swap.vcg|fact"><span class="entity_def" id="IICF_Shared_Lists.mop_slist_swap.mcomb|fact"><span class="entity_def" id="IICF_Shared_Lists.mop_slist_swap.arity|fact"><span class="entity_def" id="IICF_Shared_Lists.mop_slist_swap.itype|fact"><span class="entity_def" id="IICF_Shared_Lists.mop_slist_swap_def|fact"><span class="entity_def" id="IICF_Shared_Lists.pre_slist_swap_def|fact"><span class="entity_def" id="IICF_Shared_Lists.op_slist_swap.itype|fact"><span class="entity_def" id="IICF_Shared_Lists.op_slist_swap_def|fact"><span class="entity_def" id="IICF_Shared_Lists.mop_slist_swap.fref&apos;|thm"><span class="entity_def" id="IICF_Shared_Lists.mop_slist_swap.fref|thm"><span class="entity_def" id="IICF_Shared_Lists.op_slist_swap.fref&apos;|thm"><span class="entity_def" id="IICF_Shared_Lists.pre_slist_swap.param|thm"><span class="entity_def" id="IICF_Shared_Lists.op_slist_swap.fref|thm"><span class="entity_def" id="IICF_Shared_Lists.mop_slist_swap.vcg(2)|thm"><span class="entity_def" id="IICF_Shared_Lists.mop_slist_swap.vcg(1)|thm"><span class="entity_def" id="IICF_Shared_Lists.mop_slist_swap.mcomb|thm"><span class="entity_def" id="IICF_Shared_Lists.mop_slist_swap.arity|thm"><span class="entity_def" id="IICF_Shared_Lists.mop_slist_swap.itype|thm"><span class="entity_def" id="IICF_Shared_Lists.mop_slist_swap_def|thm"><span class="entity_def" id="IICF_Shared_Lists.pre_slist_swap_def|thm"><span class="entity_def" id="IICF_Shared_Lists.op_slist_swap.itype|thm"><span class="entity_def" id="IICF_Shared_Lists.op_slist_swap_def|thm"><span class="entity_def" id="IICF_Shared_Lists.mop_slist_swap_def|axiom"><span class="entity_def" id="IICF_Shared_Lists.pre_slist_swap_def|axiom"><span class="entity_def" id="IICF_Shared_Lists.op_slist_swap_def|axiom"><span>sepref_decl_op</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.mop_slist_swap_alt|fact"><span class="entity_def" id="IICF_Shared_Lists.mop_slist_swap_alt|thm"><span class="entity_def" id="IICF_Shared_Lists.mop_slist_swap|const"><span class="entity_def" id="IICF_Shared_Lists.pre_slist_swap|const"><span class="entity_def" id="IICF_Shared_Lists.op_slist_swap|const"><span>slist_swap</span></span></span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_LLVM/More_List.html#More_List.swap|const"><span>swap</span></a><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span> "</span></span></span><span>
  </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.frefnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes&apos;|const"><span>sl_indexes'</span></a><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>j</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes&apos;|const"><span>sl_indexes'</span></a><span> </span><span class="bound"><span>l</span></span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.frefnd|const"><span>]<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⟨</span></span><span class="main"><span>⟨</span></span><span class="free"><span>A</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel|const"><span>option_rel</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.prod_rel_syn|const"><span>×<span class="hidden">⇩</span><sub>r</sub></span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.nat_rel|const"><span>nat_rel</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.prod_rel_syn|const"><span>×<span class="hidden">⇩</span><sub>r</sub></span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.nat_rel|const"><span>nat_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.frefnd|const"><span>→</span></a></span><span> </span><span class="main"><span>⟨</span></span><span class="main"><span>⟨</span></span><span class="free"><span>A</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel|const"><span>option_rel</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes_lengthD|fact"><span>sl_indexes_lengthD</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Param_Tool.html#Param_Tool.parametricity|method"><span class="operator"><span>parametricity</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Shared_Lists.mop_sl_of_list.fref&apos;|fact"><span class="entity_def" id="IICF_Shared_Lists.mop_sl_of_list.fref|fact"><span class="entity_def" id="IICF_Shared_Lists.op_sl_of_list.fref&apos;|fact"><span class="entity_def" id="IICF_Shared_Lists.pre_sl_of_list.param|fact"><span class="entity_def" id="IICF_Shared_Lists.op_sl_of_list.fref|fact"><span class="entity_def" id="IICF_Shared_Lists.mop_sl_of_list.vcg|fact"><span class="entity_def" id="IICF_Shared_Lists.mop_sl_of_list.mcomb|fact"><span class="entity_def" id="IICF_Shared_Lists.mop_sl_of_list.arity|fact"><span class="entity_def" id="IICF_Shared_Lists.mop_sl_of_list.itype|fact"><span class="entity_def" id="IICF_Shared_Lists.mop_sl_of_list_alt|fact"><span class="entity_def" id="IICF_Shared_Lists.mop_sl_of_list_def|fact"><span class="entity_def" id="IICF_Shared_Lists.pre_sl_of_list_def|fact"><span class="entity_def" id="IICF_Shared_Lists.op_sl_of_list.itype|fact"><span class="entity_def" id="IICF_Shared_Lists.op_sl_of_list_def|fact"><span class="entity_def" id="IICF_Shared_Lists.mop_sl_of_list.fref&apos;|thm"><span class="entity_def" id="IICF_Shared_Lists.mop_sl_of_list.fref|thm"><span class="entity_def" id="IICF_Shared_Lists.op_sl_of_list.fref&apos;|thm"><span class="entity_def" id="IICF_Shared_Lists.pre_sl_of_list.param|thm"><span class="entity_def" id="IICF_Shared_Lists.op_sl_of_list.fref|thm"><span class="entity_def" id="IICF_Shared_Lists.mop_sl_of_list.vcg(2)|thm"><span class="entity_def" id="IICF_Shared_Lists.mop_sl_of_list.vcg(1)|thm"><span class="entity_def" id="IICF_Shared_Lists.mop_sl_of_list.mcomb|thm"><span class="entity_def" id="IICF_Shared_Lists.mop_sl_of_list.arity|thm"><span class="entity_def" id="IICF_Shared_Lists.mop_sl_of_list.itype|thm"><span class="entity_def" id="IICF_Shared_Lists.mop_sl_of_list_alt|thm"><span class="entity_def" id="IICF_Shared_Lists.mop_sl_of_list_def|thm"><span class="entity_def" id="IICF_Shared_Lists.pre_sl_of_list_def|thm"><span class="entity_def" id="IICF_Shared_Lists.op_sl_of_list.itype|thm"><span class="entity_def" id="IICF_Shared_Lists.op_sl_of_list_def|thm"><span class="entity_def" id="IICF_Shared_Lists.mop_sl_of_list_def|axiom"><span class="entity_def" id="IICF_Shared_Lists.pre_sl_of_list_def|axiom"><span class="entity_def" id="IICF_Shared_Lists.op_sl_of_list_def|axiom"><span class="entity_def" id="IICF_Shared_Lists.mop_sl_of_list|const"><span class="entity_def" id="IICF_Shared_Lists.pre_sl_of_list|const"><span class="entity_def" id="IICF_Shared_Lists.op_sl_of_list|const"><span>sepref_decl_op</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_of_list|const"><span>sl_of_list</span></a></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟨</span></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.rel|type"><span>rel</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><span class="main"><span>⟨</span></span><span class="main"><span>⟨</span></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.rel|type"><span>rel</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel|const"><span>option_rel</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> 
  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Shared_Lists.mop_list_of_sl.fref&apos;|fact"><span class="entity_def" id="IICF_Shared_Lists.mop_list_of_sl.fref|fact"><span class="entity_def" id="IICF_Shared_Lists.op_list_of_sl.fref&apos;|fact"><span class="entity_def" id="IICF_Shared_Lists.pre_list_of_sl.param|fact"><span class="entity_def" id="IICF_Shared_Lists.op_list_of_sl.fref|fact"><span class="entity_def" id="IICF_Shared_Lists.mop_list_of_sl.vcg|fact"><span class="entity_def" id="IICF_Shared_Lists.mop_list_of_sl.mcomb|fact"><span class="entity_def" id="IICF_Shared_Lists.mop_list_of_sl.arity|fact"><span class="entity_def" id="IICF_Shared_Lists.mop_list_of_sl.itype|fact"><span class="entity_def" id="IICF_Shared_Lists.mop_list_of_sl_alt|fact"><span class="entity_def" id="IICF_Shared_Lists.mop_list_of_sl_def|fact"><span class="entity_def" id="IICF_Shared_Lists.pre_list_of_sl_def|fact"><span class="entity_def" id="IICF_Shared_Lists.op_list_of_sl.itype|fact"><span class="entity_def" id="IICF_Shared_Lists.op_list_of_sl_def|fact"><span class="entity_def" id="IICF_Shared_Lists.mop_list_of_sl.fref&apos;|thm"><span class="entity_def" id="IICF_Shared_Lists.mop_list_of_sl.fref|thm"><span class="entity_def" id="IICF_Shared_Lists.op_list_of_sl.fref&apos;|thm"><span class="entity_def" id="IICF_Shared_Lists.pre_list_of_sl.param|thm"><span class="entity_def" id="IICF_Shared_Lists.op_list_of_sl.fref|thm"><span class="entity_def" id="IICF_Shared_Lists.mop_list_of_sl.vcg(2)|thm"><span class="entity_def" id="IICF_Shared_Lists.mop_list_of_sl.vcg(1)|thm"><span class="entity_def" id="IICF_Shared_Lists.mop_list_of_sl.mcomb|thm"><span class="entity_def" id="IICF_Shared_Lists.mop_list_of_sl.arity|thm"><span class="entity_def" id="IICF_Shared_Lists.mop_list_of_sl.itype|thm"><span class="entity_def" id="IICF_Shared_Lists.mop_list_of_sl_alt|thm"><span class="entity_def" id="IICF_Shared_Lists.mop_list_of_sl_def|thm"><span class="entity_def" id="IICF_Shared_Lists.pre_list_of_sl_def|thm"><span class="entity_def" id="IICF_Shared_Lists.op_list_of_sl.itype|thm"><span class="entity_def" id="IICF_Shared_Lists.op_list_of_sl_def|thm"><span class="entity_def" id="IICF_Shared_Lists.mop_list_of_sl_def|axiom"><span class="entity_def" id="IICF_Shared_Lists.pre_list_of_sl_def|axiom"><span class="entity_def" id="IICF_Shared_Lists.op_list_of_sl_def|axiom"><span class="entity_def" id="IICF_Shared_Lists.mop_list_of_sl|const"><span class="entity_def" id="IICF_Shared_Lists.pre_list_of_sl|const"><span class="entity_def" id="IICF_Shared_Lists.op_list_of_sl|const"><span>sepref_decl_op</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.list_of_sl|const"><span>list_of_sl</span></a></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.frefnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="bound"><span>xs</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_complete|const"><span>sl_complete</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="bound"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.frefnd|const"><span>]<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="main"><span>⟨</span></span><span class="main"><span>⟨</span></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.rel|type"><span>rel</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel|const"><span>option_rel</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Rules.html#Sepref_Rules.frefnd|const"><span>→</span></a></span><span> </span><span class="main"><span>⟨</span></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.rel|type"><span>rel</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 
  
  
    
</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹With-Idxs Combinator›</span></span></span><span>  
  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Shared_Lists.WITH_IDXS_def|fact"><span class="entity_def" id="IICF_Shared_Lists.WITH_IDXS_def|thm"><span class="entity_def" id="IICF_Shared_Lists.WITH_IDXS_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="IICF_Shared_Lists.WITH_IDXS|const"><span>WITH_IDXS</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ls</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span>
  </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>ls</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes&apos;|const"><span>sl_indexes'</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>

  </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split|const"><span>sl_split</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>ls</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span class="main"><span>;</span></span><span>
  </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split|const"><span>sl_split</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><span class="free"><span class="bound"><span class="entity"><span>ls</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span class="main"><span>;</span></span><span>
  
  </span><span class="main"><span>(</span></span><span class="bound"><span>r</span></span><span class="main"><span>,</span></span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>1</sub>'</span></span><span class="main"><span>,</span></span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>2</sub>'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>;</span></span><span>
  
  </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>1</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
  </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>2</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>

  </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>r</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join|const"><span>sl_join</span></a><span> </span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>1</sub>'</span></span><span> </span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>2</sub>'</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_15917..15922">lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.WITH_IDXS_rule|fact"><span class="entity_def" id="IICF_Shared_Lists.WITH_IDXS_rule|thm"><span>WITH_IDXS_rule</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|attribute"><span class="operator"><span>refine_vcg</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ls</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes&apos;|const"><span>sl_indexes'</span></a><span> </span><span class="free"><span>xs</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟦</span></span><span> 
    </span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split|const"><span>sl_split</span></a><span> </span><span class="free"><span>ls</span></span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>;</span></span><span> 
    </span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split|const"><span>sl_split</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><span class="free"><span>ls</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>;</span></span><span>
    </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat|const"><span>sl_compat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.SPEC|const"><span>SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>r</span></span><span class="main"><span>,</span></span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>1</sub>'</span></span><span class="main"><span>,</span></span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>2</sub>'</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> 
            </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>1</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>1</sub></span></span><span> 
          </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>2</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>2</sub></span></span><span>   
          </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>r</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_join|const"><span>sl_join</span></a><span> </span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>1</sub>'</span></span><span> </span><span class="bound"><span>xs<span class="hidden">⇩</span><sub>2</sub>'</span></span><span class="main"><span>)</span></span><span>
        </span><span class="main"><span>)</span></span><span>
        "</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.WITH_IDXS|const"><span>WITH_IDXS</span></a><span> </span><span class="free"><span>ls</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.SPEC|const"><span>SPEC</span></a><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.WITH_IDXS_def|fact"><span>WITH_IDXS_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>fact</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#offset_15917..15922"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_compat_splitI|fact"><span>sl_compat_splitI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.WITH_IDXS_mono|fact"><span class="entity_def" id="IICF_Shared_Lists.WITH_IDXS_mono|thm"><span>WITH_IDXS_mono</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/AFP/Refine_Monadic/refine_mono_prover.ML.html#Refine_Mono_Prover.refine_mono|attribute"><span class="operator"><span>refine_mono</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>f'</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.WITH_IDXS|const"><span>WITH_IDXS</span></a><span> </span><span class="free"><span>ls</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.WITH_IDXS|const"><span>WITH_IDXS</span></a><span> </span><span class="free"><span>ls</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>f'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.WITH_IDXS_def|fact"><span>WITH_IDXS_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Mono_Prover.html#Refine_Mono_Prover.refine_mono|method"><span class="operator"><span>refine_mono</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.WITH_IDXS_mono_flat|fact"><span class="entity_def" id="IICF_Shared_Lists.WITH_IDXS_mono_flat|thm"><span>WITH_IDXS_mono_flat</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/AFP/Refine_Monadic/refine_mono_prover.ML.html#Refine_Mono_Prover.refine_mono|attribute"><span class="operator"><span>refine_mono</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/RefineG_Domain.html#RefineG_Domain.flat_ge|const"><span>flat_ge</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f'</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/RefineG_Domain.html#RefineG_Domain.flat_ge|const"><span>flat_ge</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.WITH_IDXS|const"><span>WITH_IDXS</span></a><span> </span><span class="free"><span>ls</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.WITH_IDXS|const"><span>WITH_IDXS</span></a><span> </span><span class="free"><span>ls</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>f'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.WITH_IDXS_def|fact"><span>WITH_IDXS_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Mono_Prover.html#Refine_Mono_Prover.refine_mono|method"><span class="operator"><span>refine_mono</span></span></a><span>
  
  
</span><span class="comment1"><span>(* Monadifier setup *)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.WITH_IDXS_pat|fact"><span class="entity_def" id="IICF_Shared_Lists.WITH_IDXS_pat|thm"><span>WITH_IDXS_pat</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Id_Op.html#Sepref_Id_Op.def_pat_rules|attribute"><span class="operator"><span>def_pat_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.WITH_IDXS|const"><span>WITH_IDXS</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>ls</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Id_Op.html#Sepref_Id_Op.UNPROTECT|const"><span>UNPROTECT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.WITH_IDXS|const"><span>WITH_IDXS</span></a><span> </span><span class="free"><span>ls</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.WITH_IDXS|const"><span>WITH_IDXS</span></a></span><span>  
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.id_WITH_IDXS|fact"><span class="entity_def" id="IICF_Shared_Lists.id_WITH_IDXS|thm"><span>id_WITH_IDXS</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Id_Op.html#Sepref_Id_Op.id_rules|attribute"><span class="operator"><span>id_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.WITH_IDXS|const"><span>WITH_IDXS</span></a><span> </span><span class="free"><span>ls</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Id_Op.html#Sepref_Id_Op.intf_type|const"><span>::<span class="hidden">⇩</span><sub>i</sub></span></a></span><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'c</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'c</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres|type"><span>nres</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'c</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres|type"><span>nres</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.WITH_IDXS_arity|fact"><span class="entity_def" id="IICF_Shared_Lists.WITH_IDXS_arity|thm"><span>WITH_IDXS_arity</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Monadify.html#Sepref_Monadify.sepref_monadify_arity|attribute"><span class="operator"><span>sepref_monadify_arity</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.WITH_IDXS|const"><span>WITH_IDXS</span></a><span> </span><span class="free"><span>ls</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>λ<span class="hidden">⇩</span><sub>2</sub></span></a></span><span class="bound"><span>xs</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Monadify.html#Sepref_Monadify.SP|const"><span>SP</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.WITH_IDXS|const"><span>WITH_IDXS</span></a><span> </span><span class="free"><span>ls</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="bound"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>λ<span class="hidden">⇩</span><sub>2</sub></span></a></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>.</span></a></span><span> </span><span class="bound"><span>f</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.WITH_IDXS_comb|fact"><span class="entity_def" id="IICF_Shared_Lists.WITH_IDXS_comb|thm"><span>WITH_IDXS_comb</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Monadify.html#Sepref_Monadify.sepref_monadify_comb|attribute"><span class="operator"><span>sepref_monadify_comb</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>  
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.WITH_IDXS|const"><span>WITH_IDXS</span></a><span> </span><span class="free"><span>ls</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.bind|const"><span>Refine_Basic.bind</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Monadify.html#Sepref_Monadify.EVAL|const"><span>EVAL</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>λ<span class="hidden">⇩</span><sub>2</sub></span></a></span><span class="bound"><span>xs</span></span><span class="main"><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Monadify.html#Sepref_Monadify.SP|const"><span>SP</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_LLVM/Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.WITH_IDXS|const"><span>WITH_IDXS</span></a><span> </span><span class="free"><span>ls</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="bound"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

  
  
  
  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_17474..17479">lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Shared_Lists.WITH_IDXS_refine|fact"><span class="entity_def" id="IICF_Shared_Lists.WITH_IDXS_refine|thm"><span>WITH_IDXS_refine</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine|attribute"><span class="operator"><span>refine</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>ls'</span></span><span class="main"><span>,</span></span><span class="free"><span>ls</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>xs'</span></span><span class="main"><span>,</span></span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>⟨</span></span><span class="main"><span>⟨</span></span><span class="free"><span>A</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel|const"><span>option_rel</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine|attribute"><span class="operator"><span>refine</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span class="free"><span>ls</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes&apos;|const"><span>sl_indexes'</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>ls'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes&apos;|const"><span>sl_indexes'</span></a><span> </span><span class="free"><span>xs'</span></span><span class="main"><span>⟧</span></span><span> 
    </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>m'</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split|const"><span>sl_split</span></a><span> </span><span class="free"><span>ls'</span></span><span> </span><span class="free"><span>xs'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split|const"><span>sl_split</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><span class="free"><span>ls'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>xs'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.conc_fun|const"><span>⇓</span></a></span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.prod_rel_syn|const"><span>×<span class="hidden">⇩</span><sub>r</sub></span></a></span><span class="main"><span>⟨</span></span><span class="main"><span>⟨</span></span><span class="free"><span>A</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel|const"><span>option_rel</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.prod_rel_syn|const"><span>×<span class="hidden">⇩</span><sub>r</sub></span></a></span><span class="main"><span>⟨</span></span><span class="main"><span>⟨</span></span><span class="free"><span>A</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel|const"><span>option_rel</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split|const"><span>sl_split</span></a><span> </span><span class="free"><span>ls</span></span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_split|const"><span>sl_split</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><span class="free"><span>ls</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.WITH_IDXS|const"><span>WITH_IDXS</span></a><span> </span><span class="free"><span>ls'</span></span><span> </span><span class="free"><span>xs'</span></span><span> </span><span class="free"><span>m'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span class="main"><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.conc_fun|const"><span>⇓</span></a></span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.prod_rel_syn|const"><span>×<span class="hidden">⇩</span><sub>r</sub></span></a></span><span> </span><span class="main"><span>⟨</span></span><span class="main"><span>⟨</span></span><span class="free"><span>A</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel|const"><span>option_rel</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.WITH_IDXS|const"><span>WITH_IDXS</span></a><span> </span><span class="free"><span>ls</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.WITH_IDXS_def|fact"><span>WITH_IDXS_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres_relD|fact"><span>nres_relD</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#offset_17474..17479"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>,</span></span><span>2</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_rcg|method"><span class="operator"><span>refine_rcg</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes&apos;|const"><span>sl_indexes'</span></a><span> </span><span class="free"><span>xs'</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_indexes&apos;|const"><span>sl_indexes'</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="main"><span>⟨</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.nat_rel|const"><span>nat_rel</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.set_rel|const"><span>set_rel</span></a><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Param_Tool.html#Param_Tool.parametricity|method"><span class="operator"><span>parametricity</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>  
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> _ xx1s xx2s _ xx1s' xx2s'
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="skolem"><span>xx1s'</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="skolem"><span>xx1s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>⟨</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.bool_rel|const"><span>bool_rel</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>xs'</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>⟨</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.bool_rel|const"><span>bool_rel</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Param_Tool.html#Param_Tool.parametricity|method"><span class="operator"><span>parametricity</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Param_Tool.html#Param_Tool.parametricity|method"><span class="operator"><span>parametricity</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>  
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> _ xx1s xx2s _ xx1s' xx2s'
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="skolem"><span>xx2s'</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="skolem"><span>xx2s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>⟨</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.bool_rel|const"><span>bool_rel</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>xs'</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="IICF_Shared_Lists.html#IICF_Shared_Lists.sl_struct|const"><span>sl_struct</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>⟨</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.bool_rel|const"><span>bool_rel</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Param_Tool.html#Param_Tool.parametricity|method"><span class="operator"><span>parametricity</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Param_Tool.html#Param_Tool.parametricity|method"><span class="operator"><span>parametricity</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Param_Tool.html#Param_Tool.parametricity|method"><span class="operator"><span>parametricity</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>  
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>  

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre>
</body>

</html>