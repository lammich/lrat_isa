<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory IICF_Array_Map</title>
</head>


<body>
<div class="head">
<h1>Theory IICF_Array_Map</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="IICF_Array_Map.html"><span>IICF_Array_Map</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="IICF_Array.html"><span>IICF_Array</span></a><span> </span><span class="quoted"><span>"</span><a href="IICF_Map.html"><span>../Intf/IICF_Map</span></a><span>"</span></span><span> </span><span class="quoted"><span>"</span><a href="IICF_List.html"><span>../Intf/IICF_List</span></a><span>"</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Array_Map.am1_rel_def|fact"><span class="entity_def" id="IICF_Array_Map.am1_rel_def|thm"><span class="entity_def" id="IICF_Array_Map.am1_rel_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="IICF_Array_Map.am1_rel|const"><span>am1_rel</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>N</span></span></span></span><span>
    </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.br|const"><span>br</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>xs</span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="bound"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth|const"><span>!</span></a></span><span class="bound"><span>k</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>xs</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>N</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Array_Map.am1_empty_def|fact"><span class="entity_def" id="IICF_Array_Map.am1_empty_def|thm"><span class="entity_def" id="IICF_Array_Map.am1_empty_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="IICF_Array_Map.am1_empty|const"><span>am1_empty</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>N</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.replicate|const"><span>replicate</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>N</span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Array_Map.am1_update_def|fact"><span class="entity_def" id="IICF_Array_Map.am1_update_def|thm"><span class="entity_def" id="IICF_Array_Map.am1_update_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="IICF_Array_Map.am1_update|const"><span>am1_update</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="IICF_List.html#IICF_List.mop_list_set|const"><span>mop_list_set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Array_Map.am1_delete_def|fact"><span class="entity_def" id="IICF_Array_Map.am1_delete_def|thm"><span class="entity_def" id="IICF_Array_Map.am1_delete_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="IICF_Array_Map.am1_delete|const"><span>am1_delete</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="IICF_List.html#IICF_List.mop_list_set|const"><span>mop_list_set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Array_Map.am1_lookup_def|fact"><span class="entity_def" id="IICF_Array_Map.am1_lookup_def|thm"><span class="entity_def" id="IICF_Array_Map.am1_lookup_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="IICF_Array_Map.am1_lookup|const"><span>am1_lookup</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="IICF_List.html#IICF_List.mop_list_get|const"><span>mop_list_get</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Array_Map.am1_contains_key_def|fact"><span class="entity_def" id="IICF_Array_Map.am1_contains_key_def|thm"><span class="entity_def" id="IICF_Array_Map.am1_contains_key_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="IICF_Array_Map.am1_contains_key|const"><span>am1_contains_key</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="IICF_List.html#IICF_List.mop_list_get|const"><span>mop_list_get</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Bindings_HOL.html#Autoref_Bindings_HOL.is_None|const"><span>is_None</span></a><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>

      
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Array_Map.mop_am_custom_empty.fref&apos;|fact"><span class="entity_def" id="IICF_Array_Map.mop_am_custom_empty.fref|fact"><span class="entity_def" id="IICF_Array_Map.op_am_custom_empty.fref&apos;|fact"><span class="entity_def" id="IICF_Array_Map.pre_am_custom_empty.param|fact"><span class="entity_def" id="IICF_Array_Map.op_am_custom_empty.fref|fact"><span class="entity_def" id="IICF_Array_Map.mop_am_custom_empty.vcg|fact"><span class="entity_def" id="IICF_Array_Map.mop_am_custom_empty.mcomb|fact"><span class="entity_def" id="IICF_Array_Map.mop_am_custom_empty.arity|fact"><span class="entity_def" id="IICF_Array_Map.mop_am_custom_empty.itype|fact"><span class="entity_def" id="IICF_Array_Map.mop_am_custom_empty_def|fact"><span class="entity_def" id="IICF_Array_Map.pre_am_custom_empty_def|fact"><span class="entity_def" id="IICF_Array_Map.op_am_custom_empty.itype|fact"><span class="entity_def" id="IICF_Array_Map.op_am_custom_empty_def|fact"><span class="entity_def" id="IICF_Array_Map.mop_am_custom_empty.fref&apos;|thm"><span class="entity_def" id="IICF_Array_Map.mop_am_custom_empty.fref|thm"><span class="entity_def" id="IICF_Array_Map.op_am_custom_empty.fref&apos;|thm"><span class="entity_def" id="IICF_Array_Map.pre_am_custom_empty.param|thm"><span class="entity_def" id="IICF_Array_Map.op_am_custom_empty.fref|thm"><span class="entity_def" id="IICF_Array_Map.mop_am_custom_empty.vcg(2)|thm"><span class="entity_def" id="IICF_Array_Map.mop_am_custom_empty.vcg(1)|thm"><span class="entity_def" id="IICF_Array_Map.mop_am_custom_empty.mcomb|thm"><span class="entity_def" id="IICF_Array_Map.mop_am_custom_empty.arity|thm"><span class="entity_def" id="IICF_Array_Map.mop_am_custom_empty.itype|thm"><span class="entity_def" id="IICF_Array_Map.mop_am_custom_empty_def|thm"><span class="entity_def" id="IICF_Array_Map.pre_am_custom_empty_def|thm"><span class="entity_def" id="IICF_Array_Map.op_am_custom_empty.itype|thm"><span class="entity_def" id="IICF_Array_Map.op_am_custom_empty_def|thm"><span class="entity_def" id="IICF_Array_Map.mop_am_custom_empty_def|axiom"><span class="entity_def" id="IICF_Array_Map.pre_am_custom_empty_def|axiom"><span class="entity_def" id="IICF_Array_Map.op_am_custom_empty_def|axiom"><span>sepref_decl_op</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="IICF_Array_Map.mop_am_custom_empty_alt|fact"><span class="entity_def" id="IICF_Array_Map.mop_am_custom_empty_alt|thm"><span class="entity_def" id="IICF_Array_Map.mop_am_custom_empty|const"><span class="entity_def" id="IICF_Array_Map.pre_am_custom_empty|const"><span class="entity_def" id="IICF_Array_Map.op_am_custom_empty|const"><span>am_custom_empty</span></span></span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.empty|const"><span>Map.empty</span></a><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map|type"><span>⇀</span></a></span><span class="main"><span>_</span></span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.nat_rel|const"><span>nat_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><span class="main"><span>⟨</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.nat_rel|const"><span>nat_rel</span></a><span class="main"><span>,</span></span><span class="free"><span>V</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="IICF_Map.html#IICF_Map.map_rel|const"><span>map_rel</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Array_Map.fold_am_custom_empty|fact"><span class="entity_def" id="IICF_Array_Map.fold_am_custom_empty(3)|thm"><span class="entity_def" id="IICF_Array_Map.fold_am_custom_empty(2)|thm"><span class="entity_def" id="IICF_Array_Map.fold_am_custom_empty(1)|thm"><span>fold_am_custom_empty</span></span></span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.empty|const"><span>Map.empty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.op_am_custom_empty|const"><span>op_am_custom_empty</span></a><span> </span><span class="free"><span>N</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Map.html#IICF_Map.op_map_empty|const"><span>op_map_empty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.op_am_custom_empty|const"><span>op_am_custom_empty</span></a><span> </span><span class="free"><span>N</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Map.html#IICF_Map.mop_map_empty|const"><span>mop_map_empty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.mop_am_custom_empty|const"><span>mop_am_custom_empty</span></a><span> </span><span class="free"><span>N</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
  
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Array_Map.am1_empty_refine|fact"><span class="entity_def" id="IICF_Array_Map.am1_empty_refine|thm"><span>am1_empty_refine</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_empty|const"><span>am1_empty</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.op_am_custom_empty|const"><span>op_am_custom_empty</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.nat_rel|const"><span>nat_rel</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.freft|const"><span>→<span class="hidden">⇩</span><sub>f</sub><span class="hidden">⇩</span><sub>d</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>N</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_rel|const"><span>am1_rel</span></a><span> </span><span class="bound"><span>N</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_empty_def|fact"><span>am1_empty_def</span></a><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_rel_def|fact"><span>am1_rel_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_eq_iff|fact"><span>fun_eq_iff</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.frefI|fact"><span>frefI</span></a><span class="main"><span>)</span></span><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Array_Map.am1_update_refine|fact"><span class="entity_def" id="IICF_Array_Map.am1_update_refine|thm"><span>am1_update_refine</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Misc.html#Sepref_Misc.uncurry2|const"><span>uncurry2</span></a><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_update|const"><span>am1_update</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Sepref_Misc.html#Sepref_Misc.uncurry2|const"><span>uncurry2</span></a><span> </span><a class="entity_ref" href="IICF_Map.html#IICF_Map.mop_map_update|const"><span>mop_map_update</span></a><span class="main"><span>)</span></span><span> 
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.nbn_rel|const"><span>nbn_rel</span></a><span> </span><span class="free"><span>N</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.prod_rel_syn|const"><span>×<span class="hidden">⇩</span><sub>r</sub></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.prod_rel_syn|const"><span>×<span class="hidden">⇩</span><sub>r</sub></span></a></span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_rel|const"><span>am1_rel</span></a><span> </span><span class="free"><span>N</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.freftnd|const"><span>→<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="main"><span>⟨</span></span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_rel|const"><span>am1_rel</span></a><span> </span><span class="free"><span>N</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres_rel|const"><span>nres_rel</span></a><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.frefI|fact"><span>frefI</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_update_def|fact"><span>am1_update_def</span></a><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_rel_def|fact"><span>am1_rel_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span class="main"><span>)</span></span><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Array_Map.am1_delete_refine|fact"><span class="entity_def" id="IICF_Array_Map.am1_delete_refine|thm"><span>am1_delete_refine</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_delete|const"><span>am1_delete</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="IICF_Map.html#IICF_Map.mop_map_delete|const"><span>mop_map_delete</span></a><span class="main"><span>)</span></span><span> 
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.nbn_rel|const"><span>nbn_rel</span></a><span> </span><span class="free"><span>N</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.prod_rel_syn|const"><span>×<span class="hidden">⇩</span><sub>r</sub></span></a></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_rel|const"><span>am1_rel</span></a><span> </span><span class="free"><span>N</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.freftnd|const"><span>→<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="main"><span>⟨</span></span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_rel|const"><span>am1_rel</span></a><span> </span><span class="free"><span>N</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres_rel|const"><span>nres_rel</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.frefI|fact"><span>frefI</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_delete_def|fact"><span>am1_delete_def</span></a><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_rel_def|fact"><span>am1_rel_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span class="main"><span>)</span></span><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Array_Map.am1_lookup_refine|fact"><span class="entity_def" id="IICF_Array_Map.am1_lookup_refine|thm"><span>am1_lookup_refine</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_lookup|const"><span>am1_lookup</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="IICF_Map.html#IICF_Map.mop_map_lookup|const"><span>mop_map_lookup</span></a><span class="main"><span>)</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.nbn_rel|const"><span>nbn_rel</span></a><span> </span><span class="free"><span>N</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.prod_rel_syn|const"><span>×<span class="hidden">⇩</span><sub>r</sub></span></a></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_rel|const"><span>am1_rel</span></a><span> </span><span class="free"><span>N</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.freftnd|const"><span>→<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="main"><span>⟨</span></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres_rel|const"><span>nres_rel</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.frefI|fact"><span>frefI</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_lookup_def|fact"><span>am1_lookup_def</span></a><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_rel_def|fact"><span>am1_rel_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span class="main"><span>)</span></span><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Array_Map.am1_contains_key_refine|fact"><span class="entity_def" id="IICF_Array_Map.am1_contains_key_refine|thm"><span>am1_contains_key_refine</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_contains_key|const"><span>am1_contains_key</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="IICF_Map.html#IICF_Map.mop_map_contains_key|const"><span>mop_map_contains_key</span></a><span class="main"><span>)</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.nbn_rel|const"><span>nbn_rel</span></a><span> </span><span class="free"><span>N</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.prod_rel_syn|const"><span>×<span class="hidden">⇩</span><sub>r</sub></span></a></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_rel|const"><span>am1_rel</span></a><span> </span><span class="free"><span>N</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.freftnd|const"><span>→<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="main"><span>⟨</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.bool_rel|const"><span>bool_rel</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres_rel|const"><span>nres_rel</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.frefI|fact"><span>frefI</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_contains_key_def|fact"><span>am1_contains_key_def</span></a><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_rel_def|fact"><span>am1_rel_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.splits|fact"><span>option.splits</span></a><span class="main"><span>)</span></span><span>
    
  </span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.dflt_pure_option|locale"><span>dflt_pure_option</span></a><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>  
  
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Array_Map.snat.am2_assn_def|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_assn_def|fact"><span class="entity_def" id="IICF_Array_Map.snat.am2_assn_def|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_assn_def|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_assn_def_raw|axiom"><span class="entity_def" id="offset_2100..2110">definition</span></span></span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_assn.cong|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_assn.cong|thm"><span class="entity_def" id="IICF_Array_Map.snat.am2_assn|const"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_assn|const"><span class="entity_def" id="offset_2112..2120">am2_assn</span></span></span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="IICF_Array.html#IICF_Array.array_assn|const"><span>IICF_Array.array_assn</span></a><span> </span><span>option_assn</span><span>"</span></span></span><span>
  
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Array_Map.snat.am_assn_def|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am_assn_def|fact"><span class="entity_def" id="IICF_Array_Map.snat.am_assn_def|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am_assn_def|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am_assn_def_raw|axiom"><span class="entity_def" id="offset_2165..2175">definition</span></span></span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am_assn.cong|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am_assn.cong|thm"><span class="entity_def" id="IICF_Array_Map.snat.am_assn|const"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am_assn|const"><span class="entity_def" id="offset_2177..2184">am_assn</span></span></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>N</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hr_comp|const"><span>hr_comp</span></a><span> </span><a class="entity_ref" href="IICF_Array_Map.html#offset_2112..2120"><span>am2_assn</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_rel|const"><span>am1_rel</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>N</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    
    </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Array_Map.snat.am_assn_intf|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am_assn_intf|fact"><span class="entity_def" id="IICF_Array_Map.snat.am_assn_intf|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am_assn_intf|thm"><span>am_assn_intf</span></span></span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.intf_of_assn|attribute"><span class="operator"><span>intf_of_assn</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
      </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.intf_of_assn|const"><span>intf_of_assn</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.intf_of_assn|const"><span>intf_of_assn</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Array_Map.html#offset_2177..2184"><span>am_assn</span></a><span> </span><span class="free"><span>N</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>,</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><a class="entity_ref" href="IICF_Map.html#IICF_Map.i_map|type"><span>i_map</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    
    </span><span class="keyword1"><span class="command"><span>context</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>DUMMY</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'l</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span> </span><span>itself</span><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>notes</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.fcomp_norm_unfold|attribute"><span class="operator"><span>fcomp_norm_unfold</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#offset_2165..2175"><span>am_assn_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>notes</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.fcomp_norm_simps|attribute"><span class="operator"><span>fcomp_norm_simps</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Map.html#IICF_Map.map_rel_Id|fact"><span>map_rel_Id</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel_id_simp|fact"><span>option_rel_id_simp</span></a><span> 
        </span><span class="comment1"><span>(* TODO: Declare by default! *)</span></span><span> </span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hrr_comp_id_conv|fact"><span>hrr_comp_id_conv</span></a><span>
    </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
    
      </span><span class="keyword2"><span class="keyword"><span>private</span></span></span><span> </span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.K_assn|const"><span class="entity_def" id="offset_2645..2651">K_assn</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn&apos;|const"><span>snat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    
      </span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_empty.cong|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_empty.cong|thm"><span class="entity_def" id="IICF_Array_Map.snat.am2_empty|const"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_empty|const"><span>am2_empty</span></span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_empty|const"><span>am1_empty</span></a><span>"</span></span></span><span> 
        </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Array_Map.html#offset_2645..2651"><span>K_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#offset_2112..2120"><span>am2_assn</span></a><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_empty_def|fact"><span>am1_empty_def</span></a><span> </span><a class="entity_ref" href="IICF_Array_Map.html#offset_2100..2110"><span>am2_assn_def</span></a><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Library/rewrite.ML.html#Rewrite.rewrite|method"><span class="operator"><span>rewrite</span></span></a><span> </span><a class="entity_ref" href="IICF_Array.html#IICF_Array.array_fold_custom_replicate|fact"><a class="entity_ref" href="IICF_Array.html#IICF_Array.array_fold_custom_replicate|fact"><span>array_fold_custom_replicate</span></a></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Array_Map.snat.am2_empty.refine|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_empty.refine|fact"><span class="entity_def" id="IICF_Array_Map.snat.am2_empty_def|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_empty_def|fact"><span class="entity_def" id="IICF_Array_Map.snat.am2_empty.refine_raw|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_empty.refine_raw|fact"><span class="entity_def" id="IICF_Array_Map.snat.am2_empty.refine|thm"><span class="entity_def" id="IICF_Array_Map.snat.am2_empty.refine_raw|thm"><span class="entity_def" id="IICF_Array_Map.snat.am2_empty_def|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_empty.refine|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_empty_def|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_empty.refine_raw|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_empty_def_raw|axiom"><span class="entity_def" id="offset_2879..2881">by</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
        
        </span><span class="keyword1"><span class="command"><span>sepref_decl_impl</span></span></span><span> </span><span class="main"><span>(</span></span><span>no_register</span><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="IICF_Array_Map.snat.am2_empty_hnr_mop|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_empty_hnr_mop|fact"><span class="entity_def" id="IICF_Array_Map.snat.am2_empty_hnr|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_empty_hnr|fact"><span class="entity_def" id="IICF_Array_Map.snat.am2_empty_hnr_mop|thm"><span class="entity_def" id="IICF_Array_Map.snat.am2_empty_hnr|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_empty_hnr_mop|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_empty_hnr|thm"><span>am2_empty</span></span></span></span></span></span></span></span></span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#offset_2879..2881"><span>am2_empty.refine</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.FCOMP|attribute"><span class="operator"><span>FCOMP</span></span></a><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_empty_refine|fact"><span>am1_empty_refine</span></a><span class="main"><span>]</span></span><span> 
          </span><span class="keyword2"><span class="keyword"><span>uses</span></span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.op_am_custom_empty.fref|fact"><span>op_am_custom_empty.fref</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> V</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
        
      </span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="IICF_Array_Map.snat.am2_lookup|const"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_lookup|const"><span>am2_lookup</span></span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_lookup|const"><span>am1_lookup</span></a><span>"</span></span></span><span> 
        </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Array_Map.html#offset_2645..2651"><span>K_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#offset_2112..2120"><span>am2_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span>option_assn</span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_lookup_def|fact"><span>am1_lookup_def</span></a><span> </span><a class="entity_ref" href="IICF_Array_Map.html#offset_2100..2110"><span>am2_assn_def</span></a><span>
        </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Array_Map.snat.am2_lookup.refine|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_lookup.refine|fact"><span class="entity_def" id="IICF_Array_Map.snat.am2_lookup_def|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_lookup_def|fact"><span class="entity_def" id="IICF_Array_Map.snat.am2_lookup.refine_raw|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_lookup.refine_raw|fact"><span class="entity_def" id="IICF_Array_Map.snat.am2_lookup.refine|thm"><span class="entity_def" id="IICF_Array_Map.snat.am2_lookup.refine_raw|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_lookup.refine|thm"><span class="entity_def" id="IICF_Array_Map.snat.am2_lookup_def|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_lookup_def|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_lookup.refine_raw|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_lookup_def_raw|axiom"><span class="entity_def" id="offset_3233..3235">by</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>

      </span><span class="keyword1"><span class="command"><span>sepref_decl_impl</span></span></span><span> </span><span class="main"><span>(</span></span><span>no_register</span><span class="main"><span>,</span></span><span>ismop</span><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="IICF_Array_Map.snat.am2_lookup_hnr|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_lookup_hnr|fact"><span class="entity_def" id="IICF_Array_Map.snat.am2_lookup_hnr_mop|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_lookup_hnr_mop|fact"><span class="entity_def" id="IICF_Array_Map.snat.am2_lookup_hnr_mop|thm"><span class="entity_def" id="IICF_Array_Map.snat.am2_lookup_hnr|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_lookup_hnr|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_lookup_hnr_mop|thm"><span>am2_lookup</span></span></span></span></span></span></span></span></span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#offset_3233..3235"><span>am2_lookup.refine</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.FCOMP|attribute"><span class="operator"><span>FCOMP</span></span></a><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_lookup_refine|fact"><span>am1_lookup_refine</span></a><span class="main"><span>]</span></span><span> 
        </span><span class="keyword2"><span class="keyword"><span>uses</span></span></span><span> </span><a class="entity_ref" href="IICF_Map.html#IICF_Map.mop_map_lookup.fref|fact"><span>mop_map_lookup.fref</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> K</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> V</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

      </span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_contains_key.cong|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_contains_key.cong|thm"><span class="entity_def" id="IICF_Array_Map.snat.am2_contains_key|const"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_contains_key|const"><span>am2_contains_key</span></span></span></span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_contains_key|const"><span>am1_contains_key</span></a><span>"</span></span></span><span> 
        </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Array_Map.html#offset_2645..2651"><span>K_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#offset_2112..2120"><span>am2_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_contains_key_def|fact"><span>am1_contains_key_def</span></a><span> </span><a class="entity_ref" href="IICF_Array_Map.html#offset_2100..2110"><span>am2_assn_def</span></a><span>
        </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Array_Map.snat.am2_contains_key.refine|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_contains_key.refine|fact"><span class="entity_def" id="IICF_Array_Map.snat.am2_contains_key_def|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_contains_key_def|fact"><span class="entity_def" id="IICF_Array_Map.snat.am2_contains_key.refine_raw|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_contains_key.refine_raw|fact"><span class="entity_def" id="IICF_Array_Map.snat.am2_contains_key.refine|thm"><span class="entity_def" id="IICF_Array_Map.snat.am2_contains_key.refine_raw|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_contains_key.refine|thm"><span class="entity_def" id="IICF_Array_Map.snat.am2_contains_key_def|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_contains_key_def|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_contains_key.refine_raw|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_contains_key_def_raw|axiom"><span class="entity_def" id="offset_3598..3600">by</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>

      </span><span class="keyword1"><span class="command"><span>sepref_decl_impl</span></span></span><span> </span><span class="main"><span>(</span></span><span>no_register</span><span class="main"><span>,</span></span><span>ismop</span><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="IICF_Array_Map.snat.am2_contains_key_hnr|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_contains_key_hnr|fact"><span class="entity_def" id="IICF_Array_Map.snat.am2_contains_key_hnr_mop|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_contains_key_hnr_mop|fact"><span class="entity_def" id="IICF_Array_Map.snat.am2_contains_key_hnr_mop|thm"><span class="entity_def" id="IICF_Array_Map.snat.am2_contains_key_hnr|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_contains_key_hnr|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_contains_key_hnr_mop|thm"><span>am2_contains_key</span></span></span></span></span></span></span></span></span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#offset_3598..3600"><span>am2_contains_key.refine</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.FCOMP|attribute"><span class="operator"><span>FCOMP</span></span></a><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_contains_key_refine|fact"><span>am1_contains_key_refine</span></a><span class="main"><span>]</span></span><span> 
        </span><span class="keyword2"><span class="keyword"><span>uses</span></span></span><span> </span><a class="entity_ref" href="IICF_Map.html#IICF_Map.mop_map_contains_key.fref|fact"><span>mop_map_contains_key.fref</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> K</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> V</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
        
                        
      </span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_update.cong|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_update.cong|thm"><span class="entity_def" id="IICF_Array_Map.snat.am2_update|const"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_update|const"><span>am2_update</span></span></span></span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Misc.html#Sepref_Misc.uncurry2|const"><span>uncurry2</span></a><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_update|const"><span>am1_update</span></a><span>"</span></span></span><span>  
        </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Array_Map.html#offset_2645..2651"><span>K_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="free"><span>A</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#offset_2112..2120"><span>am2_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#offset_2112..2120"><span>am2_assn</span></a><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_update_def|fact"><span>am1_update_def</span></a><span> </span><a class="entity_ref" href="IICF_Array_Map.html#offset_2100..2110"><span>am2_assn_def</span></a><span>
        </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Array_Map.snat.am2_update.refine|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_update.refine|fact"><span class="entity_def" id="IICF_Array_Map.snat.am2_update_def|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_update_def|fact"><span class="entity_def" id="IICF_Array_Map.snat.am2_update.refine_raw|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_update.refine_raw|fact"><span class="entity_def" id="IICF_Array_Map.snat.am2_update.refine|thm"><span class="entity_def" id="IICF_Array_Map.snat.am2_update.refine_raw|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_update.refine|thm"><span class="entity_def" id="IICF_Array_Map.snat.am2_update_def|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_update_def|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_update.refine_raw|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_update_def_raw|axiom"><span class="entity_def" id="offset_4010..4012">by</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>

        
      </span><span class="keyword1"><span class="command"><span>sepref_decl_impl</span></span></span><span> </span><span class="main"><span>(</span></span><span>no_register</span><span class="main"><span>,</span></span><span>ismop</span><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="IICF_Array_Map.snat.am2_update_hnr|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_update_hnr|fact"><span class="entity_def" id="IICF_Array_Map.snat.am2_update_hnr_mop|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_update_hnr_mop|fact"><span class="entity_def" id="IICF_Array_Map.snat.am2_update_hnr_mop|thm"><span class="entity_def" id="IICF_Array_Map.snat.am2_update_hnr|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_update_hnr|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_update_hnr_mop|thm"><span>am2_update</span></span></span></span></span></span></span></span></span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#offset_4010..4012"><span>am2_update.refine</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.FCOMP|attribute"><span class="operator"><span>FCOMP</span></span></a><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_update_refine|fact"><span>am1_update_refine</span></a><span class="main"><span>]</span></span><span> 
        </span><span class="keyword2"><span class="keyword"><span>uses</span></span></span><span> </span><a class="entity_ref" href="IICF_Map.html#IICF_Map.mop_map_update.fref|fact"><span>mop_map_update.fref</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> K</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> V</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

      </span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_delete.cong|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_delete.cong|thm"><span class="entity_def" id="IICF_Array_Map.snat.am2_delete|const"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_delete|const"><span>am2_delete</span></span></span></span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_delete|const"><span>am1_delete</span></a><span>"</span></span></span><span>  
        </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Array_Map.html#offset_2645..2651"><span>K_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#offset_2112..2120"><span>am2_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#offset_2112..2120"><span>am2_assn</span></a><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_delete_def|fact"><span>am1_delete_def</span></a><span> </span><a class="entity_ref" href="IICF_Array_Map.html#offset_2100..2110"><span>am2_assn_def</span></a><span>
        </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Array_Map.snat.am2_delete.refine|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_delete.refine|fact"><span class="entity_def" id="IICF_Array_Map.snat.am2_delete_def|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_delete_def|fact"><span class="entity_def" id="IICF_Array_Map.snat.am2_delete.refine_raw|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_delete.refine_raw|fact"><span class="entity_def" id="IICF_Array_Map.snat.am2_delete.refine|thm"><span class="entity_def" id="IICF_Array_Map.snat.am2_delete.refine_raw|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_delete.refine|thm"><span class="entity_def" id="IICF_Array_Map.snat.am2_delete_def|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_delete_def|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_delete.refine_raw|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_delete_def_raw|axiom"><span class="entity_def" id="offset_4365..4367">by</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>

      </span><span class="keyword1"><span class="command"><span>sepref_decl_impl</span></span></span><span> </span><span class="main"><span>(</span></span><span>no_register</span><span class="main"><span>,</span></span><span>ismop</span><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="IICF_Array_Map.snat.am2_delete_hnr|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_delete_hnr|fact"><span class="entity_def" id="IICF_Array_Map.snat.am2_delete_hnr_mop|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_delete_hnr_mop|fact"><span class="entity_def" id="IICF_Array_Map.snat.am2_delete_hnr_mop|thm"><span class="entity_def" id="IICF_Array_Map.snat.am2_delete_hnr|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_delete_hnr|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am2_delete_hnr_mop|thm"><span>am2_delete</span></span></span></span></span></span></span></span></span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#offset_4365..4367"><span>am2_delete.refine</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.FCOMP|attribute"><span class="operator"><span>FCOMP</span></span></a><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.am1_delete_refine|fact"><span>am1_delete_refine</span></a><span class="main"><span>]</span></span><span> 
        </span><span class="keyword2"><span class="keyword"><span>uses</span></span></span><span> </span><a class="entity_ref" href="IICF_Map.html#IICF_Map.mop_map_delete.fref|fact"><span>mop_map_delete.fref</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> K</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> V</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
                  
      </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Array_Map.snat.am_assn_free|fact"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am_assn_free|fact"><span class="entity_def" id="IICF_Array_Map.snat.am_assn_free|thm"><span class="entity_def" id="IICF_Array_Map.dflt_pure_option.am_assn_free|thm"><span>am_assn_free</span></span></span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Frame.html#Sepref_Frame.sepref_frame_free_rules|attribute"><span class="operator"><span>sepref_frame_free_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MK_FREE|const"><span>MK_FREE</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Array_Map.html#offset_2177..2184"><span>am_assn</span></a><span> </span><span class="free"><span>N</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="LLVM_DS_NArray.html#LLVM_DS_NArray.narray_free|const"><span>narray_free</span></a><span>"</span></span></span><span>  
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#offset_2165..2175"><span>am_assn_def</span></a><span> </span><a class="entity_ref" href="IICF_Array_Map.html#offset_2100..2110"><span>am2_assn_def</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Frame.html#Sepref_Frame.sepref_frame_free_rules|fact"><span class="dynamic"><span class="dynamic"><span>sepref_frame_free_rules</span></span></span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
        
    </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Array_Map.snat_am_empty.refine|fact"><span class="entity_def" id="IICF_Array_Map.snat_am_empty_def|fact"><span class="entity_def" id="IICF_Array_Map.snat_am_empty.refine|thm"><span class="entity_def" id="IICF_Array_Map.snat_am_empty_def|thm"><span class="entity_def" id="IICF_Array_Map.snat_am_empty_def_raw|axiom"><span>concrete_definition</span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="IICF_Array_Map.snat_am_empty|const"><span>snat_am_empty</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_code|attribute"><span class="operator"><span>llvm_code</span></span></a><span class="main"><span>,</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat.am2_empty_def|fact"><span>snat.am2_empty_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Array_Map.snat_am_lookup.refine|fact"><span class="entity_def" id="IICF_Array_Map.snat_am_lookup_def|fact"><span class="entity_def" id="IICF_Array_Map.snat_am_lookup.refine|thm"><span class="entity_def" id="IICF_Array_Map.snat_am_lookup_def|thm"><span class="entity_def" id="IICF_Array_Map.snat_am_lookup_def_raw|axiom"><span>concrete_definition</span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="IICF_Array_Map.snat_am_lookup|const"><span>snat_am_lookup</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_code|attribute"><span class="operator"><span>llvm_code</span></span></a><span class="main"><span>,</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat.am2_lookup_def|fact"><span>snat.am2_lookup_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Array_Map.snat_am_contains_key.refine|fact"><span class="entity_def" id="IICF_Array_Map.snat_am_contains_key_def|fact"><span class="entity_def" id="IICF_Array_Map.snat_am_contains_key.refine|thm"><span class="entity_def" id="IICF_Array_Map.snat_am_contains_key_def|thm"><span class="entity_def" id="IICF_Array_Map.snat_am_contains_key_def_raw|axiom"><span>concrete_definition</span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="IICF_Array_Map.snat_am_contains_key|const"><span>snat_am_contains_key</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_code|attribute"><span class="operator"><span>llvm_code</span></span></a><span class="main"><span>,</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat.am2_contains_key_def|fact"><span>snat.am2_contains_key_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Array_Map.snat_am_update.refine|fact"><span class="entity_def" id="IICF_Array_Map.snat_am_update_def|fact"><span class="entity_def" id="IICF_Array_Map.snat_am_update.refine|thm"><span class="entity_def" id="IICF_Array_Map.snat_am_update_def|thm"><span class="entity_def" id="IICF_Array_Map.snat_am_update_def_raw|axiom"><span>concrete_definition</span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="IICF_Array_Map.snat_am_update|const"><span>snat_am_update</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_code|attribute"><span class="operator"><span>llvm_code</span></span></a><span class="main"><span>,</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat.am2_update_def|fact"><span>snat.am2_update_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Array_Map.snat_am_delete.refine|fact"><span class="entity_def" id="IICF_Array_Map.snat_am_delete_def|fact"><span class="entity_def" id="IICF_Array_Map.snat_am_delete.refine|thm"><span class="entity_def" id="IICF_Array_Map.snat_am_delete_def|thm"><span class="entity_def" id="IICF_Array_Map.snat_am_delete_def_raw|axiom"><span>concrete_definition</span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="IICF_Array_Map.snat_am_delete|const"><span>snat_am_delete</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_code|attribute"><span class="operator"><span>llvm_code</span></span></a><span class="main"><span>,</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat.am2_delete_def|fact"><span>snat.am2_delete_def</span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat_am_empty.refine|fact"><span>snat_am_empty.refine</span></a><span>
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat_am_empty.refine|fact"><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat_am_empty.refine|fact"><span>snat_am_empty.refine</span></a></a><span class="main"><span>,</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat.am2_empty_hnr|fact"><span>snat.am2_empty_hnr</span></a><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat.am2_empty_hnr_mop|fact"><span>snat.am2_empty_hnr_mop</span></a><span>
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat_am_lookup.refine|fact"><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat_am_lookup.refine|fact"><span>snat_am_lookup.refine</span></a></a><span class="main"><span>,</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat.am2_lookup_hnr|fact"><span>snat.am2_lookup_hnr</span></a><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat.am2_lookup_hnr_mop|fact"><span>snat.am2_lookup_hnr_mop</span></a><span>
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat_am_contains_key.refine|fact"><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat_am_contains_key.refine|fact"><span>snat_am_contains_key.refine</span></a></a><span class="main"><span>,</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat.am2_contains_key_hnr|fact"><span>snat.am2_contains_key_hnr</span></a><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat.am2_contains_key_hnr_mop|fact"><span>snat.am2_contains_key_hnr_mop</span></a><span>
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat_am_update.refine|fact"><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat_am_update.refine|fact"><span>snat_am_update.refine</span></a></a><span class="main"><span>,</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat.am2_update_hnr|fact"><span>snat.am2_update_hnr</span></a><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat.am2_update_hnr_mop|fact"><span>snat.am2_update_hnr_mop</span></a><span>
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat_am_delete.refine|fact"><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat_am_delete.refine|fact"><span>snat_am_delete.refine</span></a></a><span class="main"><span>,</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat.am2_delete_hnr|fact"><span>snat.am2_delete_hnr</span></a><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat.am2_delete_hnr_mop|fact"><span>snat.am2_delete_hnr_mop</span></a><span>
  
  
  
  </span><span class="keyword1"><span class="command"><span>export_llvm</span></span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat_am_empty|const"><span>snat_am_empty</span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="numeral"><span>32</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="numeral"><span>32</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ptr|type"><span>ptr</span></a><span> </span><a class="entity_ref" href="Simple_Memory.html#Simple_Memory.llM|type"><span>llM</span></a><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat_am_lookup|const"><span>snat_am_lookup</span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="numeral"><span>32</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="numeral"><span>32</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ptr|type"><span>ptr</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="numeral"><span>32</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><a class="entity_ref" href="Simple_Memory.html#Simple_Memory.llM|type"><span>llM</span></a><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat_am_contains_key|const"><span>snat_am_contains_key</span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="numeral"><span>32</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="numeral"><span>32</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ptr|type"><span>ptr</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>1</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><a class="entity_ref" href="Simple_Memory.html#Simple_Memory.llM|type"><span>llM</span></a><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat_am_update|const"><span>snat_am_update</span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="numeral"><span>32</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="numeral"><span>32</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="numeral"><span>32</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ptr|type"><span>ptr</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="numeral"><span>32</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ptr|type"><span>ptr</span></a><span> </span><a class="entity_ref" href="Simple_Memory.html#Simple_Memory.llM|type"><span>llM</span></a><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat_am_delete|const"><span>snat_am_delete</span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="numeral"><span>32</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="numeral"><span>32</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ptr|type"><span>ptr</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="numeral"><span>32</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ptr|type"><span>ptr</span></a><span> </span><a class="entity_ref" href="Simple_Memory.html#Simple_Memory.llM|type"><span>llM</span></a><span>"</span></span></span><span>
  
  
  </span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="IICF_Array_Map.snat_am_assn&apos;|const"><span>snat_am_assn'</span></span></span><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.snat.am_assn|const"><span>snat.am_assn</span></a><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'l</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ptr|type"><span>ptr</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="LLVM_Simple_Memory_RS.html#LLVM_Simple_Memory_RS.llvm_amemory|type"><span>llvm_amemory</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>

  
</span><span class="comment1"><span>(*  method frame_solve_simple = 
    rule fr_round1_init, 
    (determ ‹rule fr_round1_match | rule fr_round1_nomatch›)+, 
    rule fr_round1_finalize,
    tactic ‹›
*)</span></span><span>    
      
  
  </span><span class="keyword1"><span class="command"><span>experiment</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

  
    </span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="IICF_Array_Map.experiment9840424.test|const"><span>test</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_code|attribute"><span class="operator"><span>llvm_code</span></span></a><span class="main"><span>]</span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>N</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
      </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>10</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span class="bound"><span>N</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>N</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span class="numeral"><span>42</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
      </span><span class="bound"><span>m</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.mop_am_custom_empty|const"><span>mop_am_custom_empty</span></a><span> </span><span class="bound"><span>N</span></span><span class="main"><span>;</span></span><span>
      </span><span class="bound"><span>m</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="IICF_Map.html#IICF_Map.mop_map_update|const"><span>mop_map_update</span></a><span> </span><span class="numeral"><span>4</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>;</span></span><span>
      </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="IICF_Map.html#IICF_Map.op_map_contains_key|const"><span>op_map_contains_key</span></a><span> </span><span class="numeral"><span>4</span></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
        </span><span class="bound"><span>m</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="IICF_Map.html#IICF_Map.mop_map_update|const"><span>mop_map_update</span></a><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>;</span></span><span>
        </span><span class="bound"><span>m</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="IICF_Map.html#IICF_Map.mop_map_update|const"><span>mop_map_update</span></a><span> </span><span class="numeral"><span>6</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>;</span></span><span>
        </span><span class="bound"><span>m</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="IICF_Map.html#IICF_Map.mop_map_delete|const"><span>mop_map_delete</span></a><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>;</span></span><span>
        </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>m</span></span><span> </span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>}</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span>
        </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>}</span></span><span>
    </span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn&apos;|const"><span>snat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="numeral"><span>32</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn&apos;|const"><span>snat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="numeral"><span>32</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.annot_snat_const|method"><span class="operator"><span>annot_snat_const</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="numeral"><span>32</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Array_Map.experiment9840424.test.refine|fact"><span class="entity_def" id="IICF_Array_Map.experiment9840424.test_def|fact"><span class="entity_def" id="IICF_Array_Map.experiment9840424.test.refine_raw|fact"><span class="entity_def" id="IICF_Array_Map.experiment9840424.test.refine|thm"><span class="entity_def" id="IICF_Array_Map.experiment9840424.test_def|thm"><span class="entity_def" id="IICF_Array_Map.experiment9840424.test.refine_raw|thm"><span class="entity_def" id="IICF_Array_Map.experiment9840424.test_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
      
    </span><span class="keyword1"><span class="command"><span>print_named_simpset</span></span></span><span> </span><span>llvm_pre_simp</span><span>  
      
    </span><span class="keyword1"><span class="command"><span>find_theorems</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.neg_numeral_class.dbl_dec|const"><span>neg_numeral_class.dbl_dec</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="var"><span>?k1</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    
    </span><span class="keyword1"><span class="command"><span>export_llvm</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="IICF_Array_Map.html#IICF_Array_Map.experiment9840424.test|const"><span>test</span></a></span><span>
    
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
  

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre>
</body>

</html>