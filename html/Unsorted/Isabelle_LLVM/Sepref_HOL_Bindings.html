<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Sepref_HOL_Bindings</title>
</head>


<body>
<div class="head">
<h1>Theory Sepref_HOL_Bindings</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹HOL Setup›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="Sepref_HOL_Bindings.html"><span>Sepref_HOL_Bindings</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="Sepref_Tool.html"><span>Sepref_Tool</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Assertion Annotation›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Annotate an assertion to a term. The term must then be refined with this assertion.›</span></span></span><span>
</span><span class="comment1"><span>(* TODO: Version for monadic expressions.*)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.ASSN_ANNOT_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.ASSN_ANNOT_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.ASSN_ANNOT_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Sepref_HOL_Bindings.ASSN_ANNOT|const"><span>ASSN_ANNOT</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'ai</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.assn|type"><span>assn</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ASSN_ANNOT</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'ai</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.assn|type"><span>assn</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.ASSN_ANNOT.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.ASSN_ANNOT.itype|thm"><span>sepref_register</span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.ASSN_ANNOT|const"><span>ASSN_ANNOT</span></a><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.def_pat_rules|attribute"><span class="operator"><span>def_pat_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.ASSN_ANNOT|const"><span>ASSN_ANNOT</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>A</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.UNPROTECT|const"><span>UNPROTECT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.ASSN_ANNOT|const"><span>ASSN_ANNOT</span></a><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.ASSN_ANNOT|const"><span>ASSN_ANNOT</span></a><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>A</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span class="free"><span>A</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg|method"><span class="operator"><span>vcg</span></span></a><span>
    
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>  

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.annotate_assn|fact"><span class="entity_def" id="Sepref_HOL_Bindings.annotate_assn|thm"><span>annotate_assn</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.ASSN_ANNOT|const"><span>ASSN_ANNOT</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Identity Relations›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.IS_ID_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.IS_ID_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.IS_ID_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.IS_ID|const"><span>IS_ID</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.IS_BELOW_ID_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.IS_BELOW_ID_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.IS_BELOW_ID_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.IS_BELOW_ID|const"><span>IS_BELOW_ID</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.safe_constraint_rules|attribute"><span class="operator"><span>safe_constraint_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_ID|const"><span>IS_ID</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_ID|const"><span>IS_ID</span></a><span> </span><span class="free"><span>R1</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_ID|const"><span>IS_ID</span></a><span> </span><span class="free"><span>R2</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_ID|const"><span>IS_ID</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>R1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><span class="free"><span>R2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_ID|const"><span>IS_ID</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_ID|const"><span>IS_ID</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>⟨</span></span><span class="free"><span>R</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel|const"><span>option_rel</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_ID|const"><span>IS_ID</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_ID|const"><span>IS_ID</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>⟨</span></span><span class="free"><span>R</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_ID|const"><span>IS_ID</span></a><span> </span><span class="free"><span>R1</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_ID|const"><span>IS_ID</span></a><span> </span><span class="free"><span>R2</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_ID|const"><span>IS_ID</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>R1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.prod_rel_syn|const"><span>×<span class="hidden">⇩</span><sub>r</sub></span></a></span><span> </span><span class="free"><span>R2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_ID|const"><span>IS_ID</span></a><span> </span><span class="free"><span>R1</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_ID|const"><span>IS_ID</span></a><span> </span><span class="free"><span>R2</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_ID|const"><span>IS_ID</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>⟨</span></span><span class="free"><span>R1</span></span><span class="main"><span>,</span></span><span class="free"><span>R2</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.sum_rel|const"><span>sum_rel</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_ID_def|fact"><span>IS_ID_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.safe_constraint_rules|attribute"><span class="operator"><span>safe_constraint_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID|const"><span>IS_BELOW_ID</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID|const"><span>IS_BELOW_ID</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID|const"><span>IS_BELOW_ID</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>⟨</span></span><span class="free"><span>R</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel|const"><span>option_rel</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID|const"><span>IS_BELOW_ID</span></a><span> </span><span class="free"><span>R1</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID|const"><span>IS_BELOW_ID</span></a><span> </span><span class="free"><span>R2</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID|const"><span>IS_BELOW_ID</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>R1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.prod_rel_syn|const"><span>×<span class="hidden">⇩</span><sub>r</sub></span></a></span><span> </span><span class="free"><span>R2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID|const"><span>IS_BELOW_ID</span></a><span> </span><span class="free"><span>R1</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID|const"><span>IS_BELOW_ID</span></a><span> </span><span class="free"><span>R2</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID|const"><span>IS_BELOW_ID</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>⟨</span></span><span class="free"><span>R1</span></span><span class="main"><span>,</span></span><span class="free"><span>R2</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.sum_rel|const"><span>sum_rel</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_ID_def|fact"><span>IS_ID_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID_def|fact"><span>IS_BELOW_ID_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel_def|fact"><span>option_rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.sum_rel_def|fact"><span>sum_rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel_def|fact"><span>list_rel_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.IS_BELOW_ID_fun_rel_aux|fact"><span class="entity_def" id="Sepref_HOL_Bindings.IS_BELOW_ID_fun_rel_aux|thm"><span>IS_BELOW_ID_fun_rel_aux</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.supset_eq|const"><span>⊇</span></a></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID|const"><span>IS_BELOW_ID</span></a><span> </span><span class="free"><span>R2</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID|const"><span>IS_BELOW_ID</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>R1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><span class="free"><span>R2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID_def|fact"><span>IS_BELOW_ID_def</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_relD|fact"><span>fun_relD</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>corollary</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.IS_BELOW_ID_fun_rel|fact"><span class="entity_def" id="Sepref_HOL_Bindings.IS_BELOW_ID_fun_rel|thm"><span>IS_BELOW_ID_fun_rel</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.safe_constraint_rules|attribute"><span class="operator"><span>safe_constraint_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_ID|const"><span>IS_ID</span></a><span> </span><span class="free"><span>R1</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID|const"><span>IS_BELOW_ID</span></a><span> </span><span class="free"><span>R2</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID|const"><span>IS_BELOW_ID</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>R1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><span class="free"><span>R2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID_fun_rel_aux|fact"><span>IS_BELOW_ID_fun_rel_aux</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a></span><span> </span><span class="quoted"><span class="free"><span>R2</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_ID_def|fact"><span>IS_ID_def</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.IS_BELOW_ID_list_rel|fact"><span class="entity_def" id="Sepref_HOL_Bindings.IS_BELOW_ID_list_rel|thm"><span>IS_BELOW_ID_list_rel</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.safe_constraint_rules|attribute"><span class="operator"><span>safe_constraint_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID|const"><span>IS_BELOW_ID</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID|const"><span>IS_BELOW_ID</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>⟨</span></span><span class="free"><span>R</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID_def|fact"><span>IS_BELOW_ID_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="skolem"><span>l'</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_1835..1836">A</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span>"</span></span></span><span> 
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>l</span></span><span class="main"><span>,</span></span><span class="skolem"><span>l'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="main"><span>⟨</span></span><span class="free"><span>R</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>l</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="skolem"><span>l'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_1835..1836"><span>A</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.IS_ID_imp_BELOW_ID|fact"><span class="entity_def" id="Sepref_HOL_Bindings.IS_ID_imp_BELOW_ID|thm"><span>IS_ID_imp_BELOW_ID</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.constraint_rules|attribute"><span class="operator"><span>constraint_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_ID|const"><span>IS_ID</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID|const"><span>IS_BELOW_ID</span></a><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_ID_def|fact"><span>IS_ID_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID_def|fact"><span>IS_BELOW_ID_def</span></a><span> </span><span class="main"><span>)</span></span><span>



</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Inverse Relation›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.inv_fun_rel_eq|fact"><span class="entity_def" id="Sepref_HOL_Bindings.inv_fun_rel_eq|thm"><span>inv_fun_rel_eq</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.converse|const"><span>¯</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>A</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.converse|const"><span>¯</span></a></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span class="free"><span>B</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.converse|const"><span>¯</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_relD|fact"><span>fun_relD</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.inv_option_rel_eq|fact"><span class="entity_def" id="Sepref_HOL_Bindings.inv_option_rel_eq|thm"><span>inv_option_rel_eq</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>⟨</span></span><span class="free"><span>K</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel|const"><span>option_rel</span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.converse|const"><span>¯</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>⟨</span></span><span class="free"><span>K</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.converse|const"><span>¯</span></a></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel|const"><span>option_rel</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel_def|fact"><span>option_rel_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.inv_prod_rel_eq|fact"><span class="entity_def" id="Sepref_HOL_Bindings.inv_prod_rel_eq|thm"><span>inv_prod_rel_eq</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.prod_rel_syn|const"><span>×<span class="hidden">⇩</span><sub>r</sub></span></a></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.converse|const"><span>¯</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.converse|const"><span>¯</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.prod_rel_syn|const"><span>×<span class="hidden">⇩</span><sub>r</sub></span></a></span><span> </span><span class="free"><span>Q</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.converse|const"><span>¯</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.inv_sum_rel_eq|fact"><span class="entity_def" id="Sepref_HOL_Bindings.inv_sum_rel_eq|thm"><span>inv_sum_rel_eq</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>⟨</span></span><span class="free"><span>P</span></span><span class="main"><span>,</span></span><span class="free"><span>Q</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.sum_rel|const"><span>sum_rel</span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.converse|const"><span>¯</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>⟨</span></span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.converse|const"><span>¯</span></a></span><span class="main"><span>,</span></span><span class="free"><span>Q</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.converse|const"><span>¯</span></a></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.sum_rel|const"><span>sum_rel</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.sum_rel_def|fact"><span>sum_rel_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.inv_list_rel_eq|fact"><span class="entity_def" id="Sepref_HOL_Bindings.inv_list_rel_eq|thm"><span>inv_list_rel_eq</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>⟨</span></span><span class="free"><span>R</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.converse|const"><span>¯</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>⟨</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.converse|const"><span>¯</span></a></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel_def|fact"><span>list_rel_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.List.list.rel_flip|fact"><span>list.rel_flip</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.conversep_iff|fact"><span>conversep_iff</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>abs_def</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.List.list.rel_flip|fact"><span>list.rel_flip</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.conversep_iff|fact"><span>conversep_iff</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>abs_def</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.constraint_simps|attribute"><span class="operator"><span>constraint_simps</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.converse_Id|fact"><span>Relation.converse_Id</span></a><span>
  </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.inv_fun_rel_eq|fact"><span>inv_fun_rel_eq</span></a><span>
  </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.inv_option_rel_eq|fact"><span>inv_option_rel_eq</span></a><span>
  </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.inv_prod_rel_eq|fact"><span>inv_prod_rel_eq</span></a><span>
  </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.inv_sum_rel_eq|fact"><span>inv_sum_rel_eq</span></a><span>
  </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.inv_list_rel_eq|fact"><span>inv_list_rel_eq</span></a><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Single Valued and Total Relations›</span></span></span><span>

</span><span class="comment1"><span>(* TODO: Link to other such theories: Transfer, Autoref *)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.IS_LEFT_UNIQUE_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.IS_LEFT_UNIQUE_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.IS_LEFT_UNIQUE_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.IS_LEFT_UNIQUE|const"><span>IS_LEFT_UNIQUE</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.single_valued|const"><span>single_valued</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.converse|const"><span>¯</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.IS_LEFT_TOTAL_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.IS_LEFT_TOTAL_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.IS_LEFT_TOTAL_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.IS_LEFT_TOTAL|const"><span>IS_LEFT_TOTAL</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Domain|const"><span>Domain</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span>UNIV</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.IS_RIGHT_TOTAL_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.IS_RIGHT_TOTAL_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.IS_RIGHT_TOTAL_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.IS_RIGHT_TOTAL|const"><span>IS_RIGHT_TOTAL</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Range|const"><span>Range</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span>UNIV</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.IS_RIGHT_UNIQUE|const"><span>IS_RIGHT_UNIQUE</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.single_valued|const"><span>single_valued</span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.IS_RIGHT_UNIQUED|fact"><span class="entity_def" id="Sepref_HOL_Bindings.IS_RIGHT_UNIQUED|thm"><span>IS_RIGHT_UNIQUED</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.single_valuedD|fact"><span>single_valuedD</span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.IS_LEFT_UNIQUED|fact"><span class="entity_def" id="Sepref_HOL_Bindings.IS_LEFT_UNIQUED|thm"><span>IS_LEFT_UNIQUED</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE|const"><span>IS_LEFT_UNIQUE</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>;</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>;</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>z</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>z</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE_def|fact"><span>IS_LEFT_UNIQUE_def</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.single_valuedD|fact"><span>single_valuedD</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.prop2p|fact"><span class="entity_def" id="Sepref_HOL_Bindings.prop2p(5)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.prop2p(4)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.prop2p(3)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.prop2p(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.prop2p(1)|thm"><span>prop2p</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE|const"><span>IS_LEFT_UNIQUE</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Transfer.html#Transfer.left_unique|const"><span>left_unique</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.rel2p|const"><span>rel2p</span></a><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_UNIQUE|const"><span>IS_RIGHT_UNIQUE</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Transfer.html#Transfer.right_unique|const"><span>right_unique</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.rel2p|const"><span>rel2p</span></a><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Transfer.html#Transfer.right_unique|const"><span>right_unique</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.rel2p|const"><span>rel2p</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.converse|const"><span>¯</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Transfer.html#Transfer.left_unique|const"><span>left_unique</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.rel2p|const"><span>rel2p</span></a><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_TOTAL|const"><span>IS_LEFT_TOTAL</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Transfer.html#Transfer.left_total|const"><span>left_total</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.rel2p|const"><span>rel2p</span></a><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL|const"><span>IS_RIGHT_TOTAL</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Transfer.html#Transfer.right_total|const"><span>right_total</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.rel2p|const"><span>rel2p</span></a><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 
    </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE_def|fact"><span>IS_LEFT_UNIQUE_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Transfer.html#Transfer.left_unique_def|fact"><span>left_unique_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.single_valued_def|fact"><span>single_valued_def</span></a><span>
    </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Transfer.html#Transfer.right_unique_def|fact"><span>right_unique_def</span></a><span>
    </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_TOTAL_def|fact"><span>IS_LEFT_TOTAL_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Transfer.html#Transfer.left_total_def|fact"><span>left_total_def</span></a><span>
    </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL_def|fact"><span>IS_RIGHT_TOTAL_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Transfer.html#Transfer.right_total_def|fact"><span>right_total_def</span></a><span>
    </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.rel2p_def|fact"><span>rel2p_def</span></a><span>
    </span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.p2prop|fact"><span class="entity_def" id="Sepref_HOL_Bindings.p2prop(5)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.p2prop(4)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.p2prop(3)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.p2prop(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.p2prop(1)|thm"><span>p2prop</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Transfer.html#Transfer.left_unique|const"><span>left_unique</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE|const"><span>IS_LEFT_UNIQUE</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.p2rel|const"><span>p2rel</span></a><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Transfer.html#Transfer.right_unique|const"><span>right_unique</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_UNIQUE|const"><span>IS_RIGHT_UNIQUE</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.p2rel|const"><span>p2rel</span></a><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Transfer.html#Transfer.left_total|const"><span>left_total</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_TOTAL|const"><span>IS_LEFT_TOTAL</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.p2rel|const"><span>p2rel</span></a><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Transfer.html#Transfer.right_total|const"><span>right_total</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL|const"><span>IS_RIGHT_TOTAL</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.p2rel|const"><span>p2rel</span></a><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Transfer.html#Transfer.bi_unique|const"><span>bi_unique</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Transfer.html#Transfer.left_unique|const"><span>left_unique</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Transfer.html#Transfer.right_unique|const"><span>right_unique</span></a><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 
    </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE_def|fact"><span>IS_LEFT_UNIQUE_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Transfer.html#Transfer.left_unique_def|fact"><span>left_unique_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.single_valued_def|fact"><span>single_valued_def</span></a><span>
    </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Transfer.html#Transfer.right_unique_def|fact"><span>right_unique_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Transfer.html#Transfer.bi_unique_alt_def|fact"><span>bi_unique_alt_def</span></a><span>
    </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_TOTAL_def|fact"><span>IS_LEFT_TOTAL_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Transfer.html#Transfer.left_total_def|fact"><span>left_total_def</span></a><span>
    </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL_def|fact"><span>IS_RIGHT_TOTAL_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Transfer.html#Transfer.right_total_def|fact"><span>right_total_def</span></a><span>
    </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.p2rel_def|fact"><span>p2rel_def</span></a><span>
    </span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.safe_constraint_rules|attribute"><span class="operator"><span>safe_constraint_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> 
  </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.single_valued_Id|fact"><span>single_valued_Id</span></a><span>  
  </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.prod_rel_sv|fact"><span>prod_rel_sv</span></a><span> 
  </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel_sv|fact"><span>list_rel_sv</span></a><span> 
  </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel_sv|fact"><span>option_rel_sv</span></a><span> 
  </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.sum_rel_sv|fact"><span>sum_rel_sv</span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.safe_constraint_rules|attribute"><span class="operator"><span>safe_constraint_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE|const"><span>IS_LEFT_UNIQUE</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE|const"><span>IS_LEFT_UNIQUE</span></a><span> </span><span class="free"><span>R1</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE|const"><span>IS_LEFT_UNIQUE</span></a><span> </span><span class="free"><span>R2</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE|const"><span>IS_LEFT_UNIQUE</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>R1</span></span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.prod_rel_syn|const"><span>×<span class="hidden">⇩</span><sub>r</sub></span></a></span><span class="free"><span>R2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE|const"><span>IS_LEFT_UNIQUE</span></a><span> </span><span class="free"><span>R1</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE|const"><span>IS_LEFT_UNIQUE</span></a><span> </span><span class="free"><span>R2</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE|const"><span>IS_LEFT_UNIQUE</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>⟨</span></span><span class="free"><span>R1</span></span><span class="main"><span>,</span></span><span class="free"><span>R2</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.sum_rel|const"><span>sum_rel</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE|const"><span>IS_LEFT_UNIQUE</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE|const"><span>IS_LEFT_UNIQUE</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>⟨</span></span><span class="free"><span>R</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel|const"><span>option_rel</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE|const"><span>IS_LEFT_UNIQUE</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE|const"><span>IS_LEFT_UNIQUE</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>⟨</span></span><span class="free"><span>R</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE_def|fact"><span>IS_LEFT_UNIQUE_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.prod_rel_sv|fact"><span>prod_rel_sv</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.sum_rel_sv|fact"><span>sum_rel_sv</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel_sv|fact"><span>option_rel_sv</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel_sv|fact"><span>list_rel_sv</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.IS_LEFT_TOTAL_alt|fact"><span class="entity_def" id="Sepref_HOL_Bindings.IS_LEFT_TOTAL_alt|thm"><span>IS_LEFT_TOTAL_alt</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_TOTAL|const"><span>IS_LEFT_TOTAL</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_TOTAL_def|fact"><span>IS_LEFT_TOTAL_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.IS_RIGHT_TOTAL_alt|fact"><span class="entity_def" id="Sepref_HOL_Bindings.IS_RIGHT_TOTAL_alt|thm"><span>IS_RIGHT_TOTAL_alt</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL|const"><span>IS_RIGHT_TOTAL</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL_def|fact"><span>IS_RIGHT_TOTAL_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.safe_constraint_rules|attribute"><span class="operator"><span>safe_constraint_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_TOTAL|const"><span>IS_LEFT_TOTAL</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_TOTAL|const"><span>IS_LEFT_TOTAL</span></a><span> </span><span class="free"><span>R1</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_TOTAL|const"><span>IS_LEFT_TOTAL</span></a><span> </span><span class="free"><span>R2</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_TOTAL|const"><span>IS_LEFT_TOTAL</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>R1</span></span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.prod_rel_syn|const"><span>×<span class="hidden">⇩</span><sub>r</sub></span></a></span><span class="free"><span>R2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_TOTAL|const"><span>IS_LEFT_TOTAL</span></a><span> </span><span class="free"><span>R1</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_TOTAL|const"><span>IS_LEFT_TOTAL</span></a><span> </span><span class="free"><span>R2</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_TOTAL|const"><span>IS_LEFT_TOTAL</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>⟨</span></span><span class="free"><span>R1</span></span><span class="main"><span>,</span></span><span class="free"><span>R2</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.sum_rel|const"><span>sum_rel</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_TOTAL|const"><span>IS_LEFT_TOTAL</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_TOTAL|const"><span>IS_LEFT_TOTAL</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>⟨</span></span><span class="free"><span>R</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel|const"><span>option_rel</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_TOTAL_alt|fact"><span>IS_LEFT_TOTAL_alt</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.sum_rel_def|fact"><span>sum_rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel_def|fact"><span>option_rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel_def|fact"><span>list_rel_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rename_tac</span></span><span> x</span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct_tacs.ML.html#HOL.case_tac|method"><span class="operator"><span>case_tac</span></span></a><span> </span><span class="quoted"><span class="improper"><span>x</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rename_tac</span></span><span> x</span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct_tacs.ML.html#HOL.case_tac|method"><span class="operator"><span>case_tac</span></span></a><span> </span><span class="quoted"><span class="improper"><span>x</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.safe_constraint_rules|attribute"><span class="operator"><span>safe_constraint_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_TOTAL|const"><span>IS_LEFT_TOTAL</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_TOTAL|const"><span>IS_LEFT_TOTAL</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>⟨</span></span><span class="free"><span>R</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_TOTAL_alt|fact"><span>IS_LEFT_TOTAL_alt</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_5518..5519">A</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>R</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>l</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>l'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>l</span></span><span class="main"><span>,</span></span><span class="bound"><span>l'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="main"><span>⟨</span></span><span class="free"><span>R</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>l</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_5518..5519"><span>A</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel_split_right_iff|fact"><span>list_rel_split_right_iff</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.safe_constraint_rules|attribute"><span class="operator"><span>safe_constraint_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL|const"><span>IS_RIGHT_TOTAL</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL|const"><span>IS_RIGHT_TOTAL</span></a><span> </span><span class="free"><span>R1</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL|const"><span>IS_RIGHT_TOTAL</span></a><span> </span><span class="free"><span>R2</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL|const"><span>IS_RIGHT_TOTAL</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>R1</span></span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.prod_rel_syn|const"><span>×<span class="hidden">⇩</span><sub>r</sub></span></a></span><span class="free"><span>R2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL|const"><span>IS_RIGHT_TOTAL</span></a><span> </span><span class="free"><span>R1</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL|const"><span>IS_RIGHT_TOTAL</span></a><span> </span><span class="free"><span>R2</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL|const"><span>IS_RIGHT_TOTAL</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>⟨</span></span><span class="free"><span>R1</span></span><span class="main"><span>,</span></span><span class="free"><span>R2</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.sum_rel|const"><span>sum_rel</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL|const"><span>IS_RIGHT_TOTAL</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL|const"><span>IS_RIGHT_TOTAL</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>⟨</span></span><span class="free"><span>R</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel|const"><span>option_rel</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL_alt|fact"><span>IS_RIGHT_TOTAL_alt</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.sum_rel_def|fact"><span>sum_rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel_def|fact"><span>option_rel_def</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL_alt|fact"><span>IS_RIGHT_TOTAL_alt</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.sum_rel_def|fact"><span>sum_rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel_def|fact"><span>option_rel_def</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL_alt|fact"><span>IS_RIGHT_TOTAL_alt</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.sum_rel_def|fact"><span>sum_rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel_def|fact"><span>option_rel_def</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rename_tac</span></span><span> x</span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct_tacs.ML.html#HOL.case_tac|method"><span class="operator"><span>case_tac</span></span></a><span> </span><span class="quoted"><span class="improper"><span>x</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL_alt|fact"><span>IS_RIGHT_TOTAL_alt</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.option_rel_def|fact"><span>option_rel_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rename_tac</span></span><span> x</span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct_tacs.ML.html#HOL.case_tac|method"><span class="operator"><span>case_tac</span></span></a><span> </span><span class="quoted"><span class="improper"><span>x</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.safe_constraint_rules|attribute"><span class="operator"><span>safe_constraint_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL|const"><span>IS_RIGHT_TOTAL</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL|const"><span>IS_RIGHT_TOTAL</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>⟨</span></span><span class="free"><span>R</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL_alt|fact"><span>IS_RIGHT_TOTAL_alt</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_6408..6409">A</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>R</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>l</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>l'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l'</span></span><span class="main"><span>,</span></span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="main"><span>⟨</span></span><span class="free"><span>R</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>l</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_6408..6409"><span>A</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel_split_left_iff|fact"><span>list_rel_split_left_iff</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.constraint_simps|attribute"><span class="operator"><span>constraint_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_TOTAL|const"><span>IS_LEFT_TOTAL</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.converse|const"><span>¯</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL|const"><span>IS_RIGHT_TOTAL</span></a><span> </span><span class="free"><span>R</span></span><span> "</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL|const"><span>IS_RIGHT_TOTAL</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.converse|const"><span>¯</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_TOTAL|const"><span>IS_LEFT_TOTAL</span></a><span> </span><span class="free"><span>R</span></span><span>  "</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE|const"><span>IS_LEFT_UNIQUE</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.converse|const"><span>¯</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_UNIQUE|const"><span>IS_RIGHT_UNIQUE</span></a><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_UNIQUE|const"><span>IS_RIGHT_UNIQUE</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.converse|const"><span>¯</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE|const"><span>IS_LEFT_UNIQUE</span></a><span> </span><span class="free"><span>R</span></span><span> "</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL_alt|fact"><span>IS_RIGHT_TOTAL_alt</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_TOTAL_alt|fact"><span>IS_LEFT_TOTAL_alt</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE_def|fact"><span>IS_LEFT_UNIQUE_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.safe_constraint_rules|attribute"><span class="operator"><span>safe_constraint_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_UNIQUE|const"><span>IS_RIGHT_UNIQUE</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL|const"><span>IS_RIGHT_TOTAL</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL|const"><span>IS_RIGHT_TOTAL</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL|const"><span>IS_RIGHT_TOTAL</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_UNIQUE|const"><span>IS_RIGHT_UNIQUE</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_UNIQUE|const"><span>IS_RIGHT_UNIQUE</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE|const"><span>IS_LEFT_UNIQUE</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_TOTAL|const"><span>IS_LEFT_TOTAL</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_TOTAL|const"><span>IS_LEFT_TOTAL</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_TOTAL|const"><span>IS_LEFT_TOTAL</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE|const"><span>IS_LEFT_UNIQUE</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE|const"><span>IS_LEFT_UNIQUE</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp_all</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.prop2p|fact"><span>prop2p</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.rel2p|fact"><span class="dynamic"><span class="dynamic"><span>rel2p</span></span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="comment1"><span>(*apply transfer_step TODO: Isabelle 2016 *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer_raw|fact"><span class="dynamic"><span class="dynamic"><span>transfer_raw</span></span></span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.constraint_rules|attribute"><span class="operator"><span>constraint_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID|const"><span>IS_BELOW_ID</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_UNIQUE|const"><span>IS_RIGHT_UNIQUE</span></a><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID|const"><span>IS_BELOW_ID</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE|const"><span>IS_LEFT_UNIQUE</span></a><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_ID|const"><span>IS_ID</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL|const"><span>IS_RIGHT_TOTAL</span></a><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_ID|const"><span>IS_ID</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_TOTAL|const"><span>IS_LEFT_TOTAL</span></a><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID_def|fact"><span>IS_BELOW_ID_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_ID_def|fact"><span>IS_ID_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE_def|fact"><span>IS_LEFT_UNIQUE_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL_def|fact"><span>IS_RIGHT_TOTAL_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_TOTAL_def|fact"><span>IS_LEFT_TOTAL_def</span></a><span>
    </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.single_valuedI|fact"><span>single_valuedI</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.constraint_rules|fact"><span class="dynamic"><span class="dynamic"><span>constraint_rules</span></span></span></a><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Additional Parametricity Lemmas›</span></span></span><span>
</span><span class="comment1"><span>(* TODO: Move. Problem: Depend on IS_LEFT_UNIQUE, which has to be moved to!*)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.param_distinct|fact"><span class="entity_def" id="Sepref_HOL_Bindings.param_distinct|thm"><span>param_distinct</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Param_Tool.html#Param_Tool.param|attribute"><span class="operator"><span>param</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE|const"><span>IS_LEFT_UNIQUE</span></a><span> </span><span class="free"><span>A</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_UNIQUE|const"><span>IS_RIGHT_UNIQUE</span></a><span> </span><span class="free"><span>A</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.distinct|const"><span>distinct</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.distinct|const"><span>distinct</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>⟨</span></span><span class="free"><span>A</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel|const"><span>list_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.bool_rel|const"><span>bool_rel</span></a><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>fold</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.rel2p_def|fact"><span>rel2p_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.rel2p|fact"><span class="dynamic"><span class="dynamic"><span>rel2p</span></span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.distinct_transfer|fact"><span>distinct_transfer</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.p2prop|fact"><span>p2prop</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7923..7928">lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.param_Image|fact"><span class="entity_def" id="Sepref_HOL_Bindings.param_Image|thm"><span>param_Image</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Param_Tool.html#Param_Tool.param|attribute"><span class="operator"><span>param</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE|const"><span>IS_LEFT_UNIQUE</span></a><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_UNIQUE|const"><span>IS_RIGHT_UNIQUE</span></a><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Image|const"><span>(``)</span></a></span><span class="main"><span>,</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Image|const"><span>(``)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>⟨</span></span><span class="free"><span>A</span></span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.prod_rel_syn|const"><span>×<span class="hidden">⇩</span><sub>r</sub></span></a></span><span class="free"><span>B</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.set_rel|const"><span>set_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><span class="main"><span>⟨</span></span><span class="free"><span>A</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.set_rel|const"><span>set_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><span class="main"><span>⟨</span></span><span class="free"><span>B</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.set_rel|const"><span>set_rel</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.set_rel_def|fact"><span>set_rel_def</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>  
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_UNIQUED|fact"><span>IS_RIGHT_UNIQUED</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_7923..7928"><span>assms</span></a><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span>2</span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUED|fact"><span>IS_LEFT_UNIQUED</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_7923..7928"><span>assms</span></a><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span>1</span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.pres_eq_iff_svb|fact"><span class="entity_def" id="Sepref_HOL_Bindings.pres_eq_iff_svb|thm"><span>pres_eq_iff_svb</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>(=)</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>(=)</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>K</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span class="free"><span>K</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.bool_rel|const"><span>bool_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.single_valued|const"><span>single_valued</span></a><span> </span><span class="free"><span>K</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.single_valued|const"><span>single_valued</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>K</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.converse|const"><span>¯</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.single_valuedI|fact"><span>single_valuedI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>full_types</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.IdD|fact"><span>IdD</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_relD1|fact"><span>fun_relD1</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>full_types</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.IdD|fact"><span>IdD</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_relD1|fact"><span>fun_relD1</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.single_valuedD|fact"><span>single_valuedD</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.IS_PRES_EQ_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.IS_PRES_EQ_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.IS_PRES_EQ_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.IS_PRES_EQ|const"><span>IS_PRES_EQ</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>(=)</span></a></span><span class="main"><span>,</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>(=)</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.bool_rel|const"><span>bool_rel</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.constraint_rules|attribute"><span class="operator"><span>constraint_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.single_valued|const"><span>single_valued</span></a><span> </span><span class="free"><span>R</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.single_valued|const"><span>single_valued</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.converse|const"><span>¯</span></a></span><span class="main"><span>)</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_PRES_EQ|const"><span>IS_PRES_EQ</span></a><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.pres_eq_iff_svb|fact"><span>pres_eq_iff_svb</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_PRES_EQ_def|fact"><span>IS_PRES_EQ_def</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Bounded Assertions›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.b_rel_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.b_rel_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.b_rel_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.b_rel|const"><span>b_rel</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span>UNIV</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Times|const"><span>×</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Collect|const"><span>Collect</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.b_assn_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.b_assn_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.b_assn_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.b_assn|const"><span>b_assn</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift|const"><span>↑</span></a></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.b_assn_pure_conv|fact"><span class="entity_def" id="Sepref_HOL_Bindings.b_assn_pure_conv|thm"><span>b_assn_pure_conv</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.constraint_simps|attribute"><span class="operator"><span>constraint_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn|const"><span>b_assn</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.pure|const"><span>pure</span></a><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.pure|const"><span>pure</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_rel|const"><span>b_rel</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>del</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_rel_def|fact"><span>b_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn_def|fact"><span>b_assn_def</span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.pure_def|fact"><span>pure_def</span></a><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift_extract_simps|fact"><span>pred_lift_extract_simps</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_import_rewrite|attribute"><span class="operator"><span>sepref_import_rewrite</span></span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="USER_HOME/devel/isabelle/lrat_isa/isabelle_llvm/thys/lib/named_simpsets.ML.html#Named_Simpsets.named_ss|attribute"><span class="operator"><span>named_ss</span></span></a><span> </span><span>sepref_frame_normrel</span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.fcomp_norm_unfold|attribute"><span class="operator"><span>fcomp_norm_unfold</span></span></a><span class="main"><span>]</span></span><span> 
  </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn_pure_conv|fact"><span>b_assn_pure_conv</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.b_rel_nesting|fact"><span class="entity_def" id="Sepref_HOL_Bindings.b_rel_nesting|thm"><span>b_rel_nesting</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_rel|const"><span>b_rel</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_rel|const"><span>b_rel</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>P1</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>P2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_rel|const"><span>b_rel</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P1</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>P2</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_rel_def|fact"><span>b_rel_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.b_rel_triv|fact"><span class="entity_def" id="Sepref_HOL_Bindings.b_rel_triv|thm"><span>b_rel_triv</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_rel|const"><span>b_rel</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_rel_def|fact"><span>b_rel_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.b_assn_nesting|fact"><span class="entity_def" id="Sepref_HOL_Bindings.b_assn_nesting|thm"><span>b_assn_nesting</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn|const"><span>b_assn</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn|const"><span>b_assn</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P1</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>P2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn|const"><span>b_assn</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P1</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>P2</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn_def|fact"><span>b_assn_def</span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.pure_def|fact"><span>pure_def</span></a><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift_extract_simps|fact"><span>pred_lift_extract_simps</span></a><span> </span><span class="quasi_keyword"><span>del</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.b_assn_triv|fact"><span class="entity_def" id="Sepref_HOL_Bindings.b_assn_triv|thm"><span>b_assn_triv</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn|const"><span>b_assn</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn_def|fact"><span>b_assn_def</span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.pure_def|fact"><span>pure_def</span></a><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift_extract_simps|fact"><span>pred_lift_extract_simps</span></a><span> </span><span class="quasi_keyword"><span>del</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.constraint_simps|attribute"><span class="operator"><span>constraint_simps</span></span></a><span class="main"><span>,</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_import_rewrite|attribute"><span class="operator"><span>sepref_import_rewrite</span></span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="USER_HOME/devel/isabelle/lrat_isa/isabelle_llvm/thys/lib/named_simpsets.ML.html#Named_Simpsets.named_ss|attribute"><span class="operator"><span>named_ss</span></span></a><span> </span><span>sepref_frame_normrel</span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.fcomp_norm_unfold|attribute"><span class="operator"><span>fcomp_norm_unfold</span></span></a><span class="main"><span>]</span></span><span>
  </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_rel_nesting|fact"><span>b_rel_nesting</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn_nesting|fact"><span>b_assn_nesting</span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.b_rel_simp|fact"><span class="entity_def" id="Sepref_HOL_Bindings.b_rel_simp|thm"><span>b_rel_simp</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_rel|const"><span>b_rel</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_rel_def|fact"><span>b_rel_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.b_assn_simp|fact"><span class="entity_def" id="Sepref_HOL_Bindings.b_assn_simp|thm"><span>b_assn_simp</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn|const"><span>b_assn</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift|const"><span>↑</span></a></span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn_def|fact"><span>b_assn_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.b_rel_Range|fact"><span class="entity_def" id="Sepref_HOL_Bindings.b_rel_Range|thm"><span>b_rel_Range</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Range|const"><span>Range</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_rel|const"><span>b_rel</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Range|const"><span>Range</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Collect|const"><span>Collect</span></a><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.b_assn_rdom|fact"><span class="entity_def" id="Sepref_HOL_Bindings.b_assn_rdom|thm"><span>b_assn_rdom</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.rdomp|const"><span>rdomp</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn|const"><span>b_assn</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.rdomp|const"><span>rdomp</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.rdomp_def|fact"><span>rdomp_def</span></a><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift_extract_simps|fact"><span>pred_lift_extract_simps</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.b_rel_below_id|fact"><span class="entity_def" id="Sepref_HOL_Bindings.b_rel_below_id|thm"><span>b_rel_below_id</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.constraint_rules|attribute"><span class="operator"><span>constraint_rules</span></span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.relator_props|attribute"><span class="operator"><span>relator_props</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID|const"><span>IS_BELOW_ID</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID|const"><span>IS_BELOW_ID</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_rel|const"><span>b_rel</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID_def|fact"><span>IS_BELOW_ID_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.b_rel_left_unique|fact"><span class="entity_def" id="Sepref_HOL_Bindings.b_rel_left_unique|thm"><span>b_rel_left_unique</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.constraint_rules|attribute"><span class="operator"><span>constraint_rules</span></span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.relator_props|attribute"><span class="operator"><span>relator_props</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE|const"><span>IS_LEFT_UNIQUE</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE|const"><span>IS_LEFT_UNIQUE</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_rel|const"><span>b_rel</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE_def|fact"><span>IS_LEFT_UNIQUE_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.single_valued_def|fact"><span>single_valued_def</span></a><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.b_rel_right_unique|fact"><span class="entity_def" id="Sepref_HOL_Bindings.b_rel_right_unique|thm"><span>b_rel_right_unique</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.constraint_rules|attribute"><span class="operator"><span>constraint_rules</span></span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.relator_props|attribute"><span class="operator"><span>relator_props</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_UNIQUE|const"><span>IS_RIGHT_UNIQUE</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_UNIQUE|const"><span>IS_RIGHT_UNIQUE</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_rel|const"><span>b_rel</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.single_valued_def|fact"><span>single_valued_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="comment1"><span>― ‹Registered as safe rule, although may loose information in the 
    odd case that purity depends condition.›</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.b_assn_is_pure|fact"><span class="entity_def" id="Sepref_HOL_Bindings.b_assn_is_pure|thm"><span>b_assn_is_pure</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.safe_constraint_rules|attribute"><span class="operator"><span>safe_constraint_rules</span></span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.is_pure|const"><span>is_pure</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.is_pure|const"><span>is_pure</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn|const"><span>b_assn</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.is_pure_conv|fact"><span>is_pure_conv</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn_pure_conv|fact"><span>b_assn_pure_conv</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.R_comp_brel_id_conv|fact"><span class="entity_def" id="Sepref_HOL_Bindings.R_comp_brel_id_conv|thm"><span>R_comp_brel_id_conv</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.fcomp_norm_simps|attribute"><span class="operator"><span>fcomp_norm_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.relcomp|const"><span>O</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_rel|const"><span>b_rel</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_rel|const"><span>b_rel</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
  
</span><span class="comment1"><span>― ‹Most general form›</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10890..10895">lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.b_assn_subtyping_match|fact"><span class="entity_def" id="Sepref_HOL_Bindings.b_assn_subtyping_match|thm"><span>b_assn_subtyping_match</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Frame.html#Sepref_Frame.sepref_frame_match_rules|attribute"><span class="operator"><span>sepref_frame_match_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn|const"><span>b_assn</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>A'</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.vassn_tag|const"><span>vassn_tag</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.vassn_tag|const"><span>vassn_tag</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>A'</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P'</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn|const"><span>b_assn</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn|const"><span>b_assn</span></a><span> </span><span class="free"><span>A'</span></span><span> </span><span class="free"><span>P'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_10890..10895"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt_def|fact"><span>hn_ctxt_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn_def|fact"><span>b_assn_def</span></a><span> </span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails_def|fact"><span>entails_def</span></a><span> </span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.vassn_tag_def|fact"><span>vassn_tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift_extract_simps|fact"><span>pred_lift_extract_simps</span></a><span class="main"><span>)</span></span><span>
  
</span><span class="comment1"><span>― ‹Simplified forms:›</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_11286..11291">lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.b_assn_subtyping_match_eqA|fact"><span class="entity_def" id="Sepref_HOL_Bindings.b_assn_subtyping_match_eqA|thm"><span>b_assn_subtyping_match_eqA</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Frame.html#Sepref_Frame.sepref_frame_match_rules|attribute"><span class="operator"><span>sepref_frame_match_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.vassn_tag|const"><span>vassn_tag</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P'</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn|const"><span>b_assn</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn|const"><span>b_assn</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn_subtyping_match|fact"><span>b_assn_subtyping_match</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt_def|fact"><span>hn_ctxt_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn_def|fact"><span>b_assn_def</span></a><span> </span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails_def|fact"><span>entails_def</span></a><span> </span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.vassn_tag_def|fact"><span>vassn_tag_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift_extract_simps|fact"><span>pred_lift_extract_simps</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_11286..11291"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>  

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_11655..11660">lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.b_assn_subtyping_match_tR|fact"><span class="entity_def" id="Sepref_HOL_Bindings.b_assn_subtyping_match_tR|thm"><span>b_assn_subtyping_match_tR</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Frame.html#Sepref_Frame.sepref_frame_match_rules|attribute"><span class="operator"><span>sepref_frame_match_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span class="free"><span>P</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>A'</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn|const"><span>b_assn</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>A'</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_11655..11660"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt_def|fact"><span>hn_ctxt_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn_def|fact"><span>b_assn_def</span></a><span> </span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails_def|fact"><span>entails_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift_extract_simps|fact"><span>pred_lift_extract_simps</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_11921..11926">lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.b_assn_subtyping_match_tL|fact"><span class="entity_def" id="Sepref_HOL_Bindings.b_assn_subtyping_match_tL|thm"><span>b_assn_subtyping_match_tL</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Frame.html#Sepref_Frame.sepref_frame_match_rules|attribute"><span class="operator"><span>sepref_frame_match_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>A'</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.vassn_tag|const"><span>vassn_tag</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P'</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn|const"><span>b_assn</span></a><span> </span><span class="free"><span>A'</span></span><span> </span><span class="free"><span>P'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_11921..11926"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt_def|fact"><span>hn_ctxt_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn_def|fact"><span>b_assn_def</span></a><span> </span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails_def|fact"><span>entails_def</span></a><span> </span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.vassn_tag_def|fact"><span>vassn_tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift_extract_simps|fact"><span>pred_lift_extract_simps</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.b_assn_subtyping_match_eqA_tR|fact"><span class="entity_def" id="Sepref_HOL_Bindings.b_assn_subtyping_match_eqA_tR|thm"><span>b_assn_subtyping_match_eqA_tR</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Frame.html#Sepref_Frame.sepref_frame_match_rules|attribute"><span class="operator"><span>sepref_frame_match_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn|const"><span>b_assn</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt_def|fact"><span>hn_ctxt_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn_def|fact"><span>b_assn_def</span></a><span> </span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails_def|fact"><span>entails_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift_extract_simps|fact"><span>pred_lift_extract_simps</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12441..12446">lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.b_assn_subtyping_match_eqA_tL|fact"><span class="entity_def" id="Sepref_HOL_Bindings.b_assn_subtyping_match_eqA_tL|thm"><span>b_assn_subtyping_match_eqA_tL</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Frame.html#Sepref_Frame.sepref_frame_match_rules|attribute"><span class="operator"><span>sepref_frame_match_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.vassn_tag|const"><span>vassn_tag</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P'</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn|const"><span>b_assn</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_12441..12446"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt_def|fact"><span>hn_ctxt_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn_def|fact"><span>b_assn_def</span></a><span> </span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails_def|fact"><span>entails_def</span></a><span> </span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.vassn_tag_def|fact"><span>vassn_tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift_extract_simps|fact"><span>pred_lift_extract_simps</span></a><span class="main"><span>)</span></span><span>

  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.b_rel_gen_merge|fact"><span class="entity_def" id="Sepref_HOL_Bindings.b_rel_gen_merge|thm"><span>b_rel_gen_merge</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_12757..12758">A</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MERGE1|const"><span>MERGE1</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>  
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MERGE1|const"><span>MERGE1</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn|const"><span>b_assn</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn|const"><span>b_assn</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn|const"><span>b_assn</span></a><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg_rules|attribute"><span class="operator"><span>vcg_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MERGE1D|fact"><span>MERGE1D</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_12757..12758"><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_12757..12758"><span>A</span></a></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg|method"><span class="operator"><span>vcg</span></span></a><span>
  
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.b_rel_merge_eq|fact"><span class="entity_def" id="Sepref_HOL_Bindings.b_rel_merge_eq|thm"><span>b_rel_merge_eq</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Frame.html#Sepref_Frame.sepref_frame_merge_rules|attribute"><span class="operator"><span>sepref_frame_merge_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_rel_gen_merge|fact"><span>b_rel_gen_merge</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> P</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="free"><span>P</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> Q</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="free"><span>P</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>for</span></span></span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Frame.html#Sepref_Frame.sepref_frame_merge_rules|attribute"><span class="operator"><span>sepref_frame_merge_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_rel_gen_merge|fact"><span>b_rel_gen_merge</span></a><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.b_rel_merge_left|fact"><span class="entity_def" id="Sepref_HOL_Bindings.b_rel_merge_left|thm"><span>b_rel_merge_left</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Frame.html#Sepref_Frame.sepref_frame_merge_rules|attribute"><span class="operator"><span>sepref_frame_merge_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_rel_gen_merge|fact"><span>b_rel_gen_merge</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> Q</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>"</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.b_rel_merge_right|fact"><span class="entity_def" id="Sepref_HOL_Bindings.b_rel_merge_right|thm"><span>b_rel_merge_right</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Frame.html#Sepref_Frame.sepref_frame_merge_rules|attribute"><span class="operator"><span>sepref_frame_merge_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_rel_gen_merge|fact"><span>b_rel_gen_merge</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> P</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>"</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span>
  
</span><span class="comment1"><span>(*  
― ‹General form›
lemma b_rel_subtyping_merge[sepref_frame_merge_rules]:
  assumes "hn_ctxt A x y ∨<span class="hidden">⇩</span><sub>A</sub> hn_ctxt A' x y ⟹<span class="hidden">⇩</span><sub>t</sub> hn_ctxt Am x y"
  shows "hn_ctxt (b_assn A P) x y ∨<span class="hidden">⇩</span><sub>A</sub> hn_ctxt (b_assn A' P') x y ⟹<span class="hidden">⇩</span><sub>t</sub> hn_ctxt (b_assn Am (λx. P x ∨ P' x)) x y"
  using assms
  unfolding hn_ctxt_def b_assn_def entailst_def entails_def
  by (fastforce simp: vassn_tag_def)
  
― ‹Simplified forms›
lemma b_rel_subtyping_merge_eqA[sepref_frame_merge_rules]:
  shows "hn_ctxt (b_assn A P) x y ∨<span class="hidden">⇩</span><sub>A</sub> hn_ctxt (b_assn A P') x y ⟹<span class="hidden">⇩</span><sub>t</sub> hn_ctxt (b_assn A (λx. P x ∨ P' x)) x y"
  apply (rule b_rel_subtyping_merge)
  by simp

lemma b_rel_subtyping_merge_tL[sepref_frame_merge_rules]:
  assumes "hn_ctxt A x y ∨<span class="hidden">⇩</span><sub>A</sub> hn_ctxt A' x y ⟹<span class="hidden">⇩</span><sub>t</sub> hn_ctxt Am x y"
  shows "hn_ctxt A x y ∨<span class="hidden">⇩</span><sub>A</sub> hn_ctxt (b_assn A' P') x y ⟹<span class="hidden">⇩</span><sub>t</sub> hn_ctxt Am x y"
  using b_rel_subtyping_merge[of A x y A' Am "λ_. True" P', simplified] assms .

lemma b_rel_subtyping_merge_tR[sepref_frame_merge_rules]:
  assumes "hn_ctxt A x y ∨<span class="hidden">⇩</span><sub>A</sub> hn_ctxt A' x y ⟹<span class="hidden">⇩</span><sub>t</sub> hn_ctxt Am x y"
  shows "hn_ctxt (b_assn A P) x y ∨<span class="hidden">⇩</span><sub>A</sub> hn_ctxt A' x y ⟹<span class="hidden">⇩</span><sub>t</sub> hn_ctxt Am x y"
  using b_rel_subtyping_merge[of A x y A' Am P "λ_. True", simplified] assms .

lemma b_rel_subtyping_merge_eqA_tL[sepref_frame_merge_rules]:
  shows "hn_ctxt A x y ∨<span class="hidden">⇩</span><sub>A</sub> hn_ctxt (b_assn A P') x y ⟹<span class="hidden">⇩</span><sub>t</sub> hn_ctxt A x y"
  using b_rel_subtyping_merge_eqA[of A "λ_. True" x y P', simplified] .

lemma b_rel_subtyping_merge_eqA_tR[sepref_frame_merge_rules]:
  shows "hn_ctxt (b_assn A P) x y ∨<span class="hidden">⇩</span><sub>A</sub> hn_ctxt A x y ⟹<span class="hidden">⇩</span><sub>t</sub> hn_ctxt A x y"
  using b_rel_subtyping_merge_eqA[of A P x y "λ_. True", simplified] .

(* TODO: Combinatorial explosion :( *)
lemma b_assn_invalid_merge1: "hn_invalid (b_assn A P) x y ∨<span class="hidden">⇩</span><sub>A</sub> hn_invalid (b_assn A P') x y
  ⟹<span class="hidden">⇩</span><sub>t</sub> hn_invalid (b_assn A (λx. P x ∨ P' x)) x y"
  by (sep_auto simp: hn_ctxt_def invalid_assn_def entailst_def)

lemma b_assn_invalid_merge2: "hn_invalid (b_assn A P) x y ∨<span class="hidden">⇩</span><sub>A</sub> hn_invalid A x y
  ⟹<span class="hidden">⇩</span><sub>t</sub> hn_invalid A x y"
  by (sep_auto simp: hn_ctxt_def invalid_assn_def entailst_def)
lemma b_assn_invalid_merge3: "hn_invalid A x y ∨<span class="hidden">⇩</span><sub>A</sub> hn_invalid (b_assn A P) x y
  ⟹<span class="hidden">⇩</span><sub>t</sub> hn_invalid A x y"
  by (sep_auto simp: hn_ctxt_def invalid_assn_def entailst_def)

lemma b_assn_invalid_merge4: "hn_invalid (b_assn A P) x y ∨<span class="hidden">⇩</span><sub>A</sub> hn_ctxt (b_assn A P') x y
  ⟹<span class="hidden">⇩</span><sub>t</sub> hn_invalid (b_assn A (λx. P x ∨ P' x)) x y"
  by (sep_auto simp: hn_ctxt_def invalid_assn_def entailst_def)
lemma b_assn_invalid_merge5: "hn_ctxt (b_assn A P') x y ∨<span class="hidden">⇩</span><sub>A</sub> hn_invalid (b_assn A P) x y
  ⟹<span class="hidden">⇩</span><sub>t</sub> hn_invalid (b_assn A (λx. P x ∨ P' x)) x y"
  by (sep_auto simp: hn_ctxt_def invalid_assn_def entailst_def)

lemma b_assn_invalid_merge6: "hn_invalid (b_assn A P) x y ∨<span class="hidden">⇩</span><sub>A</sub> hn_ctxt A x y
  ⟹<span class="hidden">⇩</span><sub>t</sub> hn_invalid A x y"
  by (sep_auto simp: hn_ctxt_def invalid_assn_def entailst_def)
lemma b_assn_invalid_merge7: "hn_ctxt A x y ∨<span class="hidden">⇩</span><sub>A</sub> hn_invalid (b_assn A P) x y
  ⟹<span class="hidden">⇩</span><sub>t</sub> hn_invalid A x y"
  by (sep_auto simp: hn_ctxt_def invalid_assn_def entailst_def)

lemma b_assn_invalid_merge8: "hn_ctxt (b_assn A P) x y ∨<span class="hidden">⇩</span><sub>A</sub> hn_invalid A x y
  ⟹<span class="hidden">⇩</span><sub>t</sub> hn_invalid A x y"
  by (sep_auto simp: hn_ctxt_def invalid_assn_def entailst_def)
lemma b_assn_invalid_merge9: "hn_invalid A x y ∨<span class="hidden">⇩</span><sub>A</sub> hn_ctxt (b_assn A P) x y
  ⟹<span class="hidden">⇩</span><sub>t</sub> hn_invalid A x y"
  by (sep_auto simp: hn_ctxt_def invalid_assn_def entailst_def)

lemmas b_assn_invalid_merge[sepref_frame_merge_rules] = 
  b_assn_invalid_merge1
  b_assn_invalid_merge2
  b_assn_invalid_merge3
  b_assn_invalid_merge4
  b_assn_invalid_merge5
  b_assn_invalid_merge6
  b_assn_invalid_merge7
  b_assn_invalid_merge8
  b_assn_invalid_merge9

*)</span></span><span>



</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Sepref_HOL_Bindings.nbn_rel|const"><span>nbn_rel</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span> 
  </span><span class="comment1"><span>― ‹Natural numbers with upper bound.›</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>nbn_rel</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_rel|const"><span>b_rel</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.nat_rel|const"><span>nat_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.in_R_comp_nbn_conv|fact"><span class="entity_def" id="Sepref_HOL_Bindings.in_R_comp_nbn_conv|thm"><span>in_R_comp_nbn_conv</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.relcomp|const"><span>O</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.nbn_rel|const"><span>nbn_rel</span></a><span> </span><span class="free"><span>N</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span class="free"><span>N</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.range_comp_nbn_conv|fact"><span class="entity_def" id="Sepref_HOL_Bindings.range_comp_nbn_conv|thm"><span>range_comp_nbn_conv</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Range|const"><span>Range</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.relcomp|const"><span>O</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.nbn_rel|const"><span>nbn_rel</span></a><span> </span><span class="free"><span>N</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Range|const"><span>Range</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>{</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>..&lt;</span></a></span><span class="free"><span>N</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>}</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 3 </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_rel_def|fact"><span>b_rel_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_17090..17095">lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.mk_free_b_assn|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mk_free_b_assn|thm"><span>mk_free_b_assn</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Frame.html#Sepref_Frame.sepref_frame_free_rules|attribute"><span class="operator"><span>sepref_frame_free_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MK_FREE|const"><span>MK_FREE</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>  
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MK_FREE|const"><span>MK_FREE</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn|const"><span>b_assn</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>  
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg_rules|attribute"><span class="operator"><span>vcg_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_17090..17095"><span>assms</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MK_FREED|fact"><span>MK_FREED</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg|method"><span class="operator"><span>vcg</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.intf_of_b_rel|fact"><span class="entity_def" id="Sepref_HOL_Bindings.intf_of_b_rel|thm"><span>intf_of_b_rel</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Term_Synth.html#Term_Synth.synth_rules|attribute"><span class="operator"><span>synth_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Intf_Util.html#Sepref_Intf_Util.INTF_OF_REL|const"><span>INTF_OF_REL</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>I</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Intf_Util.html#Sepref_Intf_Util.INTF_OF_REL|const"><span>INTF_OF_REL</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_rel|const"><span>b_rel</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>I</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.b_assn_intf|fact"><span class="entity_def" id="Sepref_HOL_Bindings.b_assn_intf|thm"><span>b_assn_intf</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.intf_of_assn|attribute"><span class="operator"><span>intf_of_assn</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.intf_of_assn|const"><span>intf_of_assn</span></a><span> </span><span class="free"><span>V</span></span><span> </span><span class="free"><span>I</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.intf_of_assn|const"><span>intf_of_assn</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn|const"><span>b_assn</span></a><span> </span><span class="free"><span>V</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>I</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Introduce extra goal for bounded result›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_17510..17515">lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.hfref_bassn_resI|fact"><span class="entity_def" id="Sepref_HOL_Bindings.hfref_bassn_resI|thm"><span>hfref_bassn_resI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>xs</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟦</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.rdomp|const"><span>rdomp</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="free"><span>As</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>xs</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="bound"><span>xs</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Leof.html#Refine_Leof.le_or_fail|const"><span>≤<span class="hidden">⇩</span><sub>n</sub></span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.SPEC|const"><span>SPEC</span></a><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="free"><span>C</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="free"><span>As</span></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="free"><span>C</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="free"><span>As</span></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.b_assn|const"><span>b_assn</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine_preI|fact"><span>hn_refine_preI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine_cons|fact"><span>hn_refine_cons</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine_augment_res|fact"><span>hn_refine_augment_res</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_17510..17515"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.to_hnr|attribute"><span class="operator"><span>to_hnr</span></span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt_def|fact"><span>hn_ctxt_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.autoref_tag_defs|fact"><span class="dynamic"><span class="dynamic"><span>autoref_tag_defs</span></span></span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_17510..17515"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.rdomp_def|fact"><span>rdomp_def</span></a><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.sep_algebra_simps|fact"><span class="dynamic"><span class="dynamic"><span>sep_algebra_simps</span></span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

  
  
</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Tool Setup›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Intf_Util.html#Sepref_Intf_Util.sepref_relprops|attribute"><span class="operator"><span>sepref_relprops</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> 
  </span><a class="entity_ref" href="Sepref_Intf_Util.html#Sepref_Intf_Util.sepref_relpropI|fact"><span>sepref_relpropI</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE|const"><span>IS_LEFT_UNIQUE</span></a></span><span class="main"><span>]</span></span><span>
  </span><a class="entity_ref" href="Sepref_Intf_Util.html#Sepref_Intf_Util.sepref_relpropI|fact"><span>sepref_relpropI</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_UNIQUE|const"><span>IS_RIGHT_UNIQUE</span></a></span><span class="main"><span>]</span></span><span>
  </span><a class="entity_ref" href="Sepref_Intf_Util.html#Sepref_Intf_Util.sepref_relpropI|fact"><span>sepref_relpropI</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_TOTAL|const"><span>IS_LEFT_TOTAL</span></a></span><span class="main"><span>]</span></span><span>
  </span><a class="entity_ref" href="Sepref_Intf_Util.html#Sepref_Intf_Util.sepref_relpropI|fact"><span>sepref_relpropI</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL|const"><span>IS_RIGHT_TOTAL</span></a></span><span class="main"><span>]</span></span><span>
  </span><a class="entity_ref" href="Sepref_Intf_Util.html#Sepref_Intf_Util.sepref_relpropI|fact"><span>sepref_relpropI</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.is_pure|const"><span>is_pure</span></a></span><span class="main"><span>]</span></span><span>
  </span><a class="entity_ref" href="Sepref_Intf_Util.html#Sepref_Intf_Util.sepref_relpropI|fact"><span>sepref_relpropI</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Intf_Util.html#Sepref_Intf_Util.IS_PURE|const"><span>IS_PURE</span></a><span> </span><span class="free"><span>Φ</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>for</span></span></span></span><span> </span><span class="free"><span>Φ</span></span><span class="main"><span>]</span></span><span>
  </span><a class="entity_ref" href="Sepref_Intf_Util.html#Sepref_Intf_Util.sepref_relpropI|fact"><span>sepref_relpropI</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_ID|const"><span>IS_ID</span></a></span><span class="main"><span>]</span></span><span>
  </span><a class="entity_ref" href="Sepref_Intf_Util.html#Sepref_Intf_Util.sepref_relpropI|fact"><span>sepref_relpropI</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID|const"><span>IS_BELOW_ID</span></a></span><span class="main"><span>]</span></span><span>
 


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Intf_Util.html#Sepref_Intf_Util.sepref_relprops_simps|attribute"><span class="operator"><span>sepref_relprops_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.CONSTRAINT|const"><span>CONSTRAINT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Intf_Util.html#Sepref_Intf_Util.IS_PURE|const"><span>IS_PURE</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_ID|const"><span>IS_ID</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.CONSTRAINT|const"><span>CONSTRAINT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Intf_Util.html#Sepref_Intf_Util.IS_PURE|const"><span>IS_PURE</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID|const"><span>IS_BELOW_ID</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.CONSTRAINT|const"><span>CONSTRAINT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Intf_Util.html#Sepref_Intf_Util.IS_PURE|const"><span>IS_PURE</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_ID|const"><span>IS_ID</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.CONSTRAINT|const"><span>CONSTRAINT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Intf_Util.html#Sepref_Intf_Util.IS_PURE|const"><span>IS_PURE</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_TOTAL|const"><span>IS_LEFT_TOTAL</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.CONSTRAINT|const"><span>CONSTRAINT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Intf_Util.html#Sepref_Intf_Util.IS_PURE|const"><span>IS_PURE</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_ID|const"><span>IS_ID</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.CONSTRAINT|const"><span>CONSTRAINT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Intf_Util.html#Sepref_Intf_Util.IS_PURE|const"><span>IS_PURE</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL|const"><span>IS_RIGHT_TOTAL</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.CONSTRAINT|const"><span>CONSTRAINT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Intf_Util.html#Sepref_Intf_Util.IS_PURE|const"><span>IS_PURE</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID|const"><span>IS_BELOW_ID</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.CONSTRAINT|const"><span>CONSTRAINT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Intf_Util.html#Sepref_Intf_Util.IS_PURE|const"><span>IS_PURE</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE|const"><span>IS_LEFT_UNIQUE</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.CONSTRAINT|const"><span>CONSTRAINT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Intf_Util.html#Sepref_Intf_Util.IS_PURE|const"><span>IS_PURE</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID|const"><span>IS_BELOW_ID</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.CONSTRAINT|const"><span>CONSTRAINT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Intf_Util.html#Sepref_Intf_Util.IS_PURE|const"><span>IS_PURE</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_UNIQUE|const"><span>IS_RIGHT_UNIQUE</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 
    </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_ID_def|fact"><span>IS_ID_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_BELOW_ID_def|fact"><span>IS_BELOW_ID_def</span></a><span> </span><a class="entity_ref" href="Sepref_Intf_Util.html#Sepref_Intf_Util.IS_PURE_def|fact"><span>IS_PURE_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE_def|fact"><span>IS_LEFT_UNIQUE_def</span></a><span>
    </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_TOTAL_def|fact"><span>IS_LEFT_TOTAL_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_RIGHT_TOTAL_def|fact"><span>IS_RIGHT_TOTAL_def</span></a><span>
    </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.single_valued_below_Id|fact"><span>single_valued_below_Id</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True_implies_equals|fact"><span>True_implies_equals</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Intf_Util.html#Sepref_Intf_Util.sepref_relprops_simps|attribute"><span class="operator"><span>sepref_relprops_simps</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Intf_Util.html#Sepref_Intf_Util.sepref_relprops_transform|attribute"><span class="operator"><span>sepref_relprops_transform</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.single_valued|const"><span>single_valued</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.converse|const"><span>¯</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE|const"><span>IS_LEFT_UNIQUE</span></a><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.IS_LEFT_UNIQUE_def|fact"><span>IS_LEFT_UNIQUE_def</span></a><span class="main"><span>)</span></span><span>

  
</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Default Initializers›</span></span></span><span>  
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹We define a generic algorithm scheme to determine the abstract counterpart of
  the </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">term</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>‹</span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.llvm_rep_class.init|const"><span>init</span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.llvm_rep|class"><span>llvm_rep</span></a><span>›</span></span></span><span> value wrt. an assertion. This is important for 
  initializing container data structures directly from zero-initializing </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>calloc›</span></span></span><span>, 
  rather than having to </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>memset›</span></span></span><span> each array.›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.is_init_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.is_init_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.is_init_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Sepref_HOL_Bindings.is_init|const"><span>is_init</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'c</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.llvm_rep|class"><span>llvm_rep</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.assn|type"><span>assn</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>is_init</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.is_pure|const"><span>is_pure</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.llvm_rep_class.init|const"><span>init</span></a><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.the_pure|const"><span>the_pure</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span>"</span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.is_init_id_assn|fact"><span class="entity_def" id="Sepref_HOL_Bindings.is_init_id_assn|thm"><span>is_init_id_assn</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_gen_algo_rules|attribute"><span class="operator"><span>sepref_gen_algo_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.GEN_ALGO|const"><span>GEN_ALGO</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.llvm_rep_class.init|const"><span>init</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.is_init|const"><span>is_init</span></a><span> </span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.id_assn|const"><span>id_assn</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.GEN_ALGO_def|fact"><span>GEN_ALGO_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.is_init_def|fact"><span>is_init_def</span></a><span class="main"><span>)</span></span><span>
  
  
</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Arithmetics›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Connecting to Standard Operation Abstraction from LLVM-RS›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹We will hide the connection behind an additional abstraction layer, 
  introduced by definitions. So, the definitions from this locale should not 
  be used by the end-user.
›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_19888..19895">context</span></span></span><span> </span><a class="entity_ref" href="LLVM_Shallow_RS.html#LLVM_Shallow_RS.standard_opr_abstraction|locale"><span>standard_opr_abstraction</span></a><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.snat.rel_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.sint.rel_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.bool.rel_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.uint.rel_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.unat.rel_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.standard_opr_abstraction.rel_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.uint.rel_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat.rel_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.unat.rel_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.sint.rel_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.bool.rel_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.standard_opr_abstraction.rel_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.standard_opr_abstraction.rel_def_raw|axiom"><span class="entity_def" id="offset_19929..19939">definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.standard_opr_abstraction.rel.cong|fact"><span class="entity_def" id="Sepref_HOL_Bindings.standard_opr_abstraction.rel.cong|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat.rel|const"><span class="entity_def" id="Sepref_HOL_Bindings.sint.rel|const"><span class="entity_def" id="Sepref_HOL_Bindings.bool.rel|const"><span class="entity_def" id="Sepref_HOL_Bindings.uint.rel|const"><span class="entity_def" id="Sepref_HOL_Bindings.unat.rel|const"><span class="entity_def" id="Sepref_HOL_Bindings.standard_opr_abstraction.rel|const"><span class="entity_def" id="offset_19941..19944">rel</span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.br|const"><span>br</span></a><span> </span><span class="free"><span>α</span></span><span> </span><span class="free"><span>I</span></span><span>"</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.snat.assn_is_rel|fact"><span class="entity_def" id="Sepref_HOL_Bindings.sint.assn_is_rel|fact"><span class="entity_def" id="Sepref_HOL_Bindings.bool.assn_is_rel|fact"><span class="entity_def" id="Sepref_HOL_Bindings.uint.assn_is_rel|fact"><span class="entity_def" id="Sepref_HOL_Bindings.unat.assn_is_rel|fact"><span class="entity_def" id="Sepref_HOL_Bindings.standard_opr_abstraction.assn_is_rel|fact"><span class="entity_def" id="Sepref_HOL_Bindings.sint.assn_is_rel|thm"><span class="entity_def" id="Sepref_HOL_Bindings.uint.assn_is_rel|thm"><span class="entity_def" id="Sepref_HOL_Bindings.unat.assn_is_rel|thm"><span class="entity_def" id="Sepref_HOL_Bindings.bool.assn_is_rel|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat.assn_is_rel|thm"><span class="entity_def" id="Sepref_HOL_Bindings.standard_opr_abstraction.assn_is_rel|thm"><span class="entity_def" id="offset_19964..19975">assn_is_rel</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="LLVM_Shallow_RS.html#LLVM_Shallow_RS.dr_assn_prefix|const"><span>↿</span></a></span><span>assn</span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.pure|const"><span>pure</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_19941..19944"><span>rel</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.pure_def|fact"><span>pure_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_19929..19939"><span>rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_19888..19895"><span>assn_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift_extract_simps|fact"><span>pred_lift_extract_simps</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="Sepref_HOL_Bindings.snat.sepref_assn|const"><span class="entity_def" id="Sepref_HOL_Bindings.sint.sepref_assn|const"><span class="entity_def" id="Sepref_HOL_Bindings.bool.sepref_assn|const"><span class="entity_def" id="Sepref_HOL_Bindings.uint.sepref_assn|const"><span class="entity_def" id="Sepref_HOL_Bindings.unat.sepref_assn|const"><span class="entity_def" id="Sepref_HOL_Bindings.standard_opr_abstraction.sepref_assn|const"><span class="entity_def" id="offset_20153..20164">sepref_assn</span></span></span></span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>sepref_assn</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.pure|const"><span>pure</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_19941..19944"><span>rel</span></a><span>"</span></span></span><span>  

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_20201..20206">lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.snat.hn_un_op|fact"><span class="entity_def" id="Sepref_HOL_Bindings.sint.hn_un_op|fact"><span class="entity_def" id="Sepref_HOL_Bindings.bool.hn_un_op|fact"><span class="entity_def" id="Sepref_HOL_Bindings.uint.hn_un_op|fact"><span class="entity_def" id="Sepref_HOL_Bindings.unat.hn_un_op|fact"><span class="entity_def" id="Sepref_HOL_Bindings.standard_opr_abstraction.hn_un_op|fact"><span class="entity_def" id="Sepref_HOL_Bindings.sint.hn_un_op|thm"><span class="entity_def" id="Sepref_HOL_Bindings.uint.hn_un_op|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat.hn_un_op|thm"><span class="entity_def" id="Sepref_HOL_Bindings.unat.hn_un_op|thm"><span class="entity_def" id="Sepref_HOL_Bindings.bool.hn_un_op|thm"><span class="entity_def" id="Sepref_HOL_Bindings.standard_opr_abstraction.hn_un_op|thm"><span>hn_un_op</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>is_un_op</span><span> </span><span class="free"><span>PRE</span></span><span> </span><span class="free"><span>cop</span></span><span> </span><span class="free"><span>xmop</span></span><span> </span><span class="free"><span>aop</span></span><span>"</span></span></span><span>  
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>cop</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>aop</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>PRE</span></span><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'c</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>a</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_20153..20164"><span>sepref_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_20153..20164"><span>sepref_assn</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_19964..19975"><span>assn_is_rel</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg_rules|attribute"><span class="operator"><span>vcg_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>un_op_tmpl</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_20201..20206"><span>assms</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg|method"><span class="operator"><span>vcg</span></span></a><span>
      
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_20474..20479">lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.snat.hn_bin_op|fact"><span class="entity_def" id="Sepref_HOL_Bindings.sint.hn_bin_op|fact"><span class="entity_def" id="Sepref_HOL_Bindings.bool.hn_bin_op|fact"><span class="entity_def" id="Sepref_HOL_Bindings.uint.hn_bin_op|fact"><span class="entity_def" id="Sepref_HOL_Bindings.unat.hn_bin_op|fact"><span class="entity_def" id="Sepref_HOL_Bindings.standard_opr_abstraction.hn_bin_op|fact"><span class="entity_def" id="Sepref_HOL_Bindings.uint.hn_bin_op|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat.hn_bin_op|thm"><span class="entity_def" id="Sepref_HOL_Bindings.unat.hn_bin_op|thm"><span class="entity_def" id="Sepref_HOL_Bindings.sint.hn_bin_op|thm"><span class="entity_def" id="Sepref_HOL_Bindings.bool.hn_bin_op|thm"><span class="entity_def" id="Sepref_HOL_Bindings.standard_opr_abstraction.hn_bin_op|thm"><span>hn_bin_op</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>is_bin_op</span><span> </span><span class="free"><span>PRE</span></span><span> </span><span class="free"><span>cop</span></span><span> </span><span class="free"><span>xmop</span></span><span> </span><span class="free"><span>aop</span></span><span>"</span></span></span><span>  
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="free"><span>cop</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>oo</span></a></span><span> </span><span class="free"><span>aop</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>PRE</span></span><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'c</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_20153..20164"><span>sepref_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_20153..20164"><span>sepref_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_20153..20164"><span>sepref_assn</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_19964..19975"><span>assn_is_rel</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg_rules|attribute"><span class="operator"><span>vcg_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>bin_op_tmpl</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_20474..20479"><span>assms</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg|method"><span class="operator"><span>vcg</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_20789..20794">lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.snat.hn_cmp_op|fact"><span class="entity_def" id="Sepref_HOL_Bindings.sint.hn_cmp_op|fact"><span class="entity_def" id="Sepref_HOL_Bindings.bool.hn_cmp_op|fact"><span class="entity_def" id="Sepref_HOL_Bindings.uint.hn_cmp_op|fact"><span class="entity_def" id="Sepref_HOL_Bindings.unat.hn_cmp_op|fact"><span class="entity_def" id="Sepref_HOL_Bindings.standard_opr_abstraction.hn_cmp_op|fact"><span class="entity_def" id="Sepref_HOL_Bindings.bool.hn_cmp_op|thm"><span class="entity_def" id="Sepref_HOL_Bindings.uint.hn_cmp_op|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat.hn_cmp_op|thm"><span class="entity_def" id="Sepref_HOL_Bindings.unat.hn_cmp_op|thm"><span class="entity_def" id="Sepref_HOL_Bindings.sint.hn_cmp_op|thm"><span class="entity_def" id="Sepref_HOL_Bindings.standard_opr_abstraction.hn_cmp_op|thm"><span>hn_cmp_op</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>  
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>is_cmp_op</span><span> </span><span class="free"><span>cop</span></span><span> </span><span class="free"><span>xmop</span></span><span> </span><span class="free"><span>aop</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="free"><span>cop</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>oo</span></a></span><span> </span><span class="free"><span>aop</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_20153..20164"><span>sepref_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_20153..20164"><span>sepref_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool.sepref_assn|const"><span>bool.sepref_assn</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_19964..19975"><span>assn_is_rel</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool.assn_is_rel|fact"><span>bool.assn_is_rel</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg_rules|attribute"><span class="operator"><span>vcg_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>cmp_op_tmpl</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_20789..20794"><span>assms</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg|method"><span class="operator"><span>vcg</span></span></a><span>
    

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Operator Setup›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Not-Equals is an operator in LLVM, but not in HOL›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.op_neq_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_neq_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_neq_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.op_neq|const"><span>op_neq</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span>"</span></span></span><span>  
</span><span class="comment1"><span>(* TODO: Maybe have this pattern rule only for certain types.
  Otherwise, op_neq has to be implemented by every type that has custom eq-operator!

  The best solution would, or course, be to have a generic algorithm!
*)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.op_neq_pat|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_neq_pat|thm"><span>op_neq_pat</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.def_pat_rules|attribute"><span class="operator"><span>def_pat_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Not</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>(=)</span></a></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_neq|const"><span>op_neq</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>b</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.op_neq_word.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_neq_word.itype|thm"><span>sepref_register</span></span></span></span></span><span> op_neq_word</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_neq|const"><span>op_neq</span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹For technical reasons, we need the operands as parameters to the operators 
  on the concrete side of refinement theorems. Thus, we define the following shortcut
  for comparison operators. ›</span></span></span><span>    
</span><span class="comment1"><span>(* TODO/FIXME: This, in turn, relies on LLVM-inlining of from_bool (comparison)! 
  Perhaps we should directly generate the ll_icmp instructions
*)</span></span><span>  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.lift_cmp_op_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.lift_cmp_op_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.lift_cmp_op_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.lift_cmp_op|const"><span>lift_cmp_op</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Word_Lib.More_Word_Operations.html#More_Word_Operations.from_bool|const"><span>from_bool</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
  


   
</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Boolean›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.bool1_rel_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.bool1_rel_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.bool1_rel_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.bool1_rel|const"><span>bool1_rel</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool.rel|const"><span>bool.rel</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.pure|const"><span>pure</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel|const"><span>bool1_rel</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.bool_const_refine|fact"><span class="entity_def" id="Sepref_HOL_Bindings.bool_const_refine(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.bool_const_refine(1)|thm"><span>bool_const_refine</span></span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_import_param|attribute"><span class="operator"><span>sepref_import_param</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel|const"><span>bool1_rel</span></a><span>"</span></span></span><span>  
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel|const"><span>bool1_rel</span></a><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel_def|fact"><span>bool1_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool.rel_def|fact"><span>bool.rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span class="main"><span>)</span></span><span>
  

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.hn_bool_ops|fact"><span class="entity_def" id="Sepref_HOL_Bindings.hn_bool_ops(4)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_bool_ops(3)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_bool_ops(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_bool_ops(1)|thm"><span>hn_bool_ops</span></span></span></span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_and|const"><span>ll_and</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>(∧)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_or|const"><span>ll_or</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>(∨)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_xor|const"><span>ll_xor</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_neq|const"><span>op_neq</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="LLVM_Shallow_RS.html#LLVM_Shallow_RS.ll_not1|const"><span>ll_not1</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Not</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="LLVM_Shallow_RS.html#LLVM_Shallow_RS.bool_bin_ops|fact"><span>bool_bin_ops</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool.hn_bin_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool.hn_bin_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool.hn_bin_op|fact"><span>bool.hn_bin_op</span></a></a></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>folded</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel_def|fact"><span>bool1_rel_def</span></a></a></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.to_hfref_post|fact"><span class="dynamic"><span class="dynamic"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.to_hfref_post|fact"><span class="dynamic"><span class="dynamic"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.to_hfref_post|fact"><span class="dynamic"><span class="dynamic"><span>to_hfref_post</span></span></span></a></span></span></a></span></span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><a class="entity_ref" href="LLVM_Shallow_RS.html#LLVM_Shallow_RS.bool_un_ops|fact"><span>bool_un_ops</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool.hn_un_op|fact"><span>bool.hn_un_op</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>folded</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel_def|fact"><span>bool1_rel_def</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_neq_def|fact"><span>op_neq_def</span></a><span>  
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹We define an implies connective, using sepref›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Sepref_HOL_Bindings.ll_implies|const"><span>ll_implies</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>oo</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>(⟶)</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.imp_conv_disj|fact"><span>imp_conv_disj</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.ll_implies.refine|fact"><span class="entity_def" id="Sepref_HOL_Bindings.ll_implies_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.ll_implies.refine_raw|fact"><span class="entity_def" id="Sepref_HOL_Bindings.ll_implies.refine|thm"><span class="entity_def" id="Sepref_HOL_Bindings.ll_implies_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.ll_implies.refine_raw|thm"><span class="entity_def" id="Sepref_HOL_Bindings.ll_implies_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.ll_implies_def|fact"><span>ll_implies_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.ll_implies.refine|fact"><span>ll_implies.refine</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.is_init_bool|fact"><span class="entity_def" id="Sepref_HOL_Bindings.is_init_bool|thm"><span>is_init_bool</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_gen_algo_rules|attribute"><span class="operator"><span>sepref_gen_algo_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.GEN_ALGO|const"><span>GEN_ALGO</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.is_init|const"><span>is_init</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.GEN_ALGO_def|fact"><span>GEN_ALGO_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.is_init_def|fact"><span>is_init_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel_def|fact"><span>bool1_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool.rel_def|fact"><span>bool.rel_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Direct Word Arithmetic›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.word_rel|const"><span>word_rel</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span class="main"><span>::</span></span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.id_assn|const"><span>id_assn</span></a><span class="main"><span>::</span></span><span class="main"><span>_</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Sepref_HOL_Bindings.word_assn&apos;|const"><span>word_assn'</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span> </span><span>itself</span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="LLVM_Simple_Memory_RS.html#LLVM_Simple_Memory_RS.llvm_amemory|type"><span>llvm_amemory</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>word_assn'</span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span>"</span></span></span><span>

</span><span class="comment1"><span>(* TODO: Move *)</span></span><span>  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.ll_not_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.ll_not_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.ll_not_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Sepref_HOL_Bindings.ll_not|const"><span>ll_not</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><a class="entity_ref" href="Simple_Memory.html#Simple_Memory.llM|type"><span>llM</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> 
  </span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ll_not</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doM</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_sub|const"><span>ll_sub</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_sub|const"><span>ll_sub</span></a><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><a class="entity_ref" href="LLVM_Shallow_RS.html#LLVM_Shallow_RS.llvm_prim_arith_setup|locale"><span>llvm_prim_arith_setup</span></a><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.llvm_prim_arith_setup.ll_not_normalize|fact"><span class="entity_def" id="Sepref_HOL_Bindings.llvm_prim_arith_setup.ll_not_normalize|thm"><span>ll_not_normalize</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg_normalize_simps|attribute"><span class="operator"><span>vcg_normalize_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.ll_not|const"><span>ll_not</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Word_Lib.Word_Syntax.html#Word_Syntax.wordNOT|const"><span>~~</span></a></span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.ll_not_def|fact"><span>ll_not_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Word_Lib.More_Word.html#More_Word.NOT_eq|fact"><span>NOT_eq</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg_normalize|method"><span class="operator"><span>vcg_normalize</span></span></a><span>
  
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>  


</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>interpretation</span></span></span><span> </span><a class="entity_ref" href="LLVM_Shallow_RS.html#LLVM_Shallow_RS.llvm_prim_arith_setup|locale"><span>llvm_prim_arith_setup</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>  

</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>::</span></span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.num|type"><span>num</span></a></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.one.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.zero.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.numeral.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.numeral.pat|fact"><span class="entity_def" id="Sepref_HOL_Bindings.one.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.zero.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.numeral.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.numeral.pat|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span></span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span>"</span></span></span><span>  
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span>"</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.word_numeral_param|fact"><span class="entity_def" id="Sepref_HOL_Bindings.word_numeral_param(3)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.word_numeral_param(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.word_numeral_param(1)|thm"><span>word_numeral_param</span></span></span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_import_param|attribute"><span class="operator"><span>sepref_import_param</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_rel|const"><span>word_rel</span></a><span>"</span></span></span><span>  
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_rel|const"><span>word_rel</span></a><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_rel|const"><span>word_rel</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
        
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
  
   
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.xor_word.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.or_word.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.and_word.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.times_word.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.minus_word.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.plus_word.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.xor_word.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.or_word.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.and_word.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.times_word.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.minus_word.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.plus_word.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> 
  plus_word</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>(+)</span></a></span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>  
  minus_word</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>(-)</span></a></span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>  
  times_word</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>(*)</span></a></span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>  
  and_word</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Bit_Operations.html#Bit_Operations.semiring_bit_operations_class.and|const"><span>(AND)</span></a></span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>  
  or_word</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Bit_Operations.html#Bit_Operations.semiring_bit_operations_class.or|const"><span>(OR)</span></a></span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>  
  xor_word</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Bit_Operations.html#Bit_Operations.semiring_bit_operations_class.xor|const"><span>(XOR)</span></a></span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>  
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.word_param_imports|fact"><span class="entity_def" id="Sepref_HOL_Bindings.word_param_imports(6)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.word_param_imports(5)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.word_param_imports(4)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.word_param_imports(3)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.word_param_imports(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.word_param_imports(1)|thm"><span>word_param_imports</span></span></span></span></span></span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_import_param|attribute"><span class="operator"><span>sepref_import_param</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>(+)</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>(+)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_rel|const"><span>word_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_rel|const"><span>word_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_rel|const"><span>word_rel</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>(-)</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>(-)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_rel|const"><span>word_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_rel|const"><span>word_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_rel|const"><span>word_rel</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>(*)</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>(*)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_rel|const"><span>word_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_rel|const"><span>word_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_rel|const"><span>word_rel</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Bit_Operations.html#Bit_Operations.semiring_bit_operations_class.and|const"><span>(AND)</span></a></span><span class="main"><span>,</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Bit_Operations.html#Bit_Operations.semiring_bit_operations_class.and|const"><span>(AND)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_rel|const"><span>word_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_rel|const"><span>word_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_rel|const"><span>word_rel</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Bit_Operations.html#Bit_Operations.semiring_bit_operations_class.or|const"><span>(OR)</span></a></span><span class="main"><span>,</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Bit_Operations.html#Bit_Operations.semiring_bit_operations_class.or|const"><span>(OR)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_rel|const"><span>word_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_rel|const"><span>word_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_rel|const"><span>word_rel</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Bit_Operations.html#Bit_Operations.semiring_bit_operations_class.xor|const"><span>(XOR)</span></a></span><span class="main"><span>,</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Bit_Operations.html#Bit_Operations.semiring_bit_operations_class.xor|const"><span>(XOR)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_rel|const"><span>word_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_rel|const"><span>word_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_rel|const"><span>word_rel</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.not_word.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.not_word.itype|thm"><span>sepref_register</span></span></span></span></span><span> 
  not_word</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Bit_Operations.html#Bit_Operations.ring_bit_operations_class.not|const"><span>NOT</span></a></span><span class="main"><span>)</span></span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>  

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.hn_word_NOT|fact"><span class="entity_def" id="Sepref_HOL_Bindings.hn_word_NOT|thm"><span>hn_word_NOT</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.ll_not|const"><span>ll_not</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Bit_Operations.html#Bit_Operations.ring_bit_operations_class.not|const"><span>NOT</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg|method"><span class="operator"><span>vcg</span></span></a><span>
  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.smod_word.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.sdiv_word.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mod_word.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.div_word.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.smod_word.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.sdiv_word.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mod_word.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.div_word.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span></span></span><span> 
  div_word</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.divide_class.divide|const"><span>(div)</span></a></span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>  
  mod_word</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.modulo_class.modulo|const"><span>(mod)</span></a></span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>  
  sdiv_word</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Signed_Division.html#Signed_Division.signed_divide_class.signed_divide|const"><span>(sdiv)</span></a></span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>  
  smod_word</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Signed_Division.html#Signed_Division.signed_modulo_class.signed_modulo|const"><span>(smod)</span></a></span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>  
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.hn_word_div_op|fact"><span class="entity_def" id="Sepref_HOL_Bindings.hn_word_div_op(4)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_word_div_op(3)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_word_div_op(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_word_div_op(1)|thm"><span>hn_word_div_op</span></span></span></span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_udiv|const"><span>ll_udiv</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>oo</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.divide_class.divide|const"><span>(div)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>,</span></span><span class="bound"><span>d</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>d</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span>"</span></span></span><span>  
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_urem|const"><span>ll_urem</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>oo</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.modulo_class.modulo|const"><span>(mod)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>,</span></span><span class="bound"><span>d</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>d</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span>"</span></span></span><span>  
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_sdiv|const"><span>ll_sdiv</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>oo</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Signed_Division.html#Signed_Division.signed_divide_class.signed_divide|const"><span>(sdiv)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>c</span></span><span class="main"><span>,</span></span><span class="bound"><span>d</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>d</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="LLVM_Shallow_RS.html#LLVM_Shallow_RS.in_srange|const"><span>in_srange</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Signed_Division.html#Signed_Division.signed_divide_class.signed_divide|const"><span>(sdiv)</span></a></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="bound"><span>d</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span>"</span></span></span><span>  
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_srem|const"><span>ll_srem</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>oo</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Signed_Division.html#Signed_Division.signed_modulo_class.signed_modulo|const"><span>(smod)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>c</span></span><span class="main"><span>,</span></span><span class="bound"><span>d</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>d</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="LLVM_Shallow_RS.html#LLVM_Shallow_RS.in_srange|const"><span>in_srange</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Signed_Division.html#Signed_Division.signed_divide_class.signed_divide|const"><span>(sdiv)</span></a></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="bound"><span>d</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg|method"><span class="operator"><span>vcg</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>fail</span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.sle_word.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.slt_word.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.ule_word.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.ult_word.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.neq_word.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.eq_word.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.sle_word.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.slt_word.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.ule_word.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.ult_word.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.neq_word.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.eq_word.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> 
  eq_word</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>(=)</span></a></span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>  
  neq_word</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_neq|const"><span>op_neq</span></a><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>  
  ult_word</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>(&lt;)</span></a></span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>  
  ule_word</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>(≤)</span></a></span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>  
  slt_word</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word_sless|const"><span>(&lt;s)</span></a></span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>  
  sle_word</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word_sle|const"><span>(≤s)</span></a></span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>  
    
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.hn_word_icmp_op|fact"><span class="entity_def" id="Sepref_HOL_Bindings.hn_word_icmp_op(6)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_word_icmp_op(5)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_word_icmp_op(4)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_word_icmp_op(3)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_word_icmp_op(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_word_icmp_op(1)|thm"><span>hn_word_icmp_op</span></span></span></span></span></span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_icmp_eq|const"><span>ll_icmp_eq</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>oo</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>(=)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_icmp_ne|const"><span>ll_icmp_ne</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>oo</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_neq|const"><span>op_neq</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_icmp_ult|const"><span>ll_icmp_ult</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>oo</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>(&lt;)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_icmp_ule|const"><span>ll_icmp_ule</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>oo</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>(≤)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_icmp_slt|const"><span>ll_icmp_slt</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>oo</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word_sless|const"><span>&lt;s</span></a></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_icmp_sle|const"><span>ll_icmp_sle</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>oo</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word_sle|const"><span>&lt;=s</span></a></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel_def|fact"><span>bool1_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool.rel_def|fact"><span>bool.rel_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg|method"><span class="operator"><span>vcg</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>fail</span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.is_init_word|fact"><span class="entity_def" id="Sepref_HOL_Bindings.is_init_word|thm"><span>is_init_word</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_gen_algo_rules|attribute"><span class="operator"><span>sepref_gen_algo_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.GEN_ALGO|const"><span>GEN_ALGO</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.is_init|const"><span>is_init</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.GEN_ALGO_def|fact"><span>GEN_ALGO_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.is_init_def|fact"><span>is_init_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
  
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>  
      

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Integer by Word›</span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.sint_rel_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.sint_rel_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.sint_rel_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.sint_rel|const"><span>sint_rel</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint.rel|const"><span>sint.rel</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.sint_assn|const"><span>sint_assn</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.pure|const"><span>pure</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_rel|const"><span>sint_rel</span></a><span>"</span></span></span><span>  

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.sint_rel&apos;|const"><span>sint_rel'</span></span></span><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_rel|const"><span>sint_rel</span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.sint_assn&apos;|const"><span>sint_assn'</span></span></span><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn|const"><span>sint_assn</span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.sint_const_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.sint_const_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.sint_const_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.sint_const|const"><span>sint_const</span></span></span><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>::</span></span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.sint_const.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.sint_const.pat|fact"><span class="entity_def" id="Sepref_HOL_Bindings.sint_const.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.sint_const.pat|thm"><span>sepref_register</span></span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_const|const"><span>sint_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.fold_sint|fact"><span class="entity_def" id="Sepref_HOL_Bindings.fold_sint(5)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.fold_sint(4)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.fold_sint(3)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.fold_sint(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.fold_sint(1)|thm"><span>fold_sint</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_const|const"><span>sint_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span>  
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_const|const"><span>sint_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span>  
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_const|const"><span>sint_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_const|const"><span>sint_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_const|const"><span>sint_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.hn_sint_0|fact"><span class="entity_def" id="Sepref_HOL_Bindings.hn_sint_0|thm"><span>hn_sint_0</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_import_param|attribute"><span class="operator"><span>sepref_import_param</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_const|const"><span>sint_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_rel&apos;|const"><span>sint_rel'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_rel_def|fact"><span>sint_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint.rel_def|fact"><span>sint.rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.hn_sint_1|fact"><span class="entity_def" id="Sepref_HOL_Bindings.hn_sint_1|thm"><span>hn_sint_1</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_empty|const"><span>□</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_empty|const"><span>□</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn&apos;|const"><span>sint_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_const|const"><span>sint_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_rel_def|fact"><span>sint_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint.rel_def|fact"><span>sint.rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg|method"><span class="operator"><span>vcg</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.hn_sint_minus_1|fact"><span class="entity_def" id="Sepref_HOL_Bindings.hn_sint_minus_1|thm"><span>hn_sint_minus_1</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_empty|const"><span>□</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_empty|const"><span>□</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn&apos;|const"><span>sint_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_const|const"><span>sint_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_rel_def|fact"><span>sint_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint.rel_def|fact"><span>sint.rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg|method"><span class="operator"><span>vcg</span></span></a><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.hn_sint_numeral|fact"><span class="entity_def" id="Sepref_HOL_Bindings.hn_sint_numeral|thm"><span>hn_sint_numeral</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Word_Lib.Typedef_Morphisms.html#Typedef_Morphisms.sints|const"><span>sints</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> 
    </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_empty|const"><span>□</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_empty|const"><span>□</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn&apos;|const"><span>sint_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_const|const"><span>sint_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_rel_def|fact"><span>sint_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint.rel_def|fact"><span>sint.rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg&apos;|method"><span class="operator"><span>vcg'</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Word_Lib.Bits_Int.html#Bits_Int.sbintrunc_mod2p|fact"><span>sbintrunc_mod2p</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.min_sint_def|fact"><span>min_sint_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_sint_def|fact"><span>max_sint_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.ll_const_signed_aux|fact"><span>ll_const_signed_aux</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.hn_sint_minus_numeral|fact"><span class="entity_def" id="Sepref_HOL_Bindings.hn_sint_minus_numeral|thm"><span>hn_sint_minus_numeral</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Word_Lib.Typedef_Morphisms.html#Typedef_Morphisms.sints|const"><span>sints</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> 
    </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_empty|const"><span>□</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_empty|const"><span>□</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn&apos;|const"><span>sint_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_const|const"><span>sint_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_rel_def|fact"><span>sint_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint.rel_def|fact"><span>sint.rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg&apos;|method"><span class="operator"><span>vcg'</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Word_Lib.Bits_Int.html#Bits_Int.sbintrunc_mod2p|fact"><span>sbintrunc_mod2p</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.min_sint_def|fact"><span>min_sint_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_sint_def|fact"><span>max_sint_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.ll_const_signed_aux|fact"><span>ll_const_signed_aux</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.diff_Suc_less|fact"><span>diff_Suc_less</span></a><span> </span><a class="entity_ref" href="Word_Lib.More_Divides.html#More_Divides.int_mod_eq&apos;|fact"><span>int_mod_eq'</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len_class.len_gt_0|fact"><span>len_gt_0</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.linordered_idom_class.neg_numeral_le_numeral|fact"><span>neg_numeral_le_numeral</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Power.html#Power.linordered_semidom_class.power_strict_increasing_iff|fact"><span>power_strict_increasing_iff</span></a><span class="main"><span>)</span></span><span>

  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.smod_int.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.sdiv_int.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.times_int.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.minus_int.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.plus_int.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.smod_int.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.sdiv_int.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.times_int.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.minus_int.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.plus_int.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span></span></span></span></span><span> 
  plus_int</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>(+)</span></a></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span class="main"><span>⇒</span></span><span class="main"><span>_</span></span><span>"</span></span></span><span>    </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span>"</span></span></span><span>
  minus_int</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>(-)</span></a></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span class="main"><span>⇒</span></span><span class="main"><span>_</span></span><span>"</span></span></span><span>   </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span>"</span></span></span><span>
  times_int</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>(*)</span></a></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span class="main"><span>⇒</span></span><span class="main"><span>_</span></span><span>"</span></span></span><span>  </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span>"</span></span></span><span>
  sdiv_int</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Signed_Division.html#Signed_Division.signed_divide_class.signed_divide|const"><span>(sdiv)</span></a></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span class="main"><span>⇒</span></span><span class="main"><span>_</span></span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span>"</span></span></span><span>
  smod_int</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Signed_Division.html#Signed_Division.signed_modulo_class.signed_modulo|const"><span>(smod)</span></a></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span class="main"><span>⇒</span></span><span class="main"><span>_</span></span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span>"</span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.le_int.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.lt_int.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_neq_int.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.eq_int.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.le_int.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.lt_int.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_neq_int.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.eq_int.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span></span></span><span> 
  eq_int</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>(=)</span></a></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span class="main"><span>⇒</span></span><span class="main"><span>_</span></span><span>"</span></span></span><span>        </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>
  op_neq_int</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_neq|const"><span>op_neq</span></a><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span class="main"><span>⇒</span></span><span class="main"><span>_</span></span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>
  lt_int</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>(&lt;)</span></a></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span class="main"><span>⇒</span></span><span class="main"><span>_</span></span><span>"</span></span></span><span>        </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>
  le_int</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>(≤)</span></a></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span class="main"><span>⇒</span></span><span class="main"><span>_</span></span><span>"</span></span></span><span>        </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.shiftl_int.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.shiftr_int.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.xor_int.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.or_int.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.and_int.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.shiftl_int.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.shiftr_int.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.xor_int.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.or_int.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.and_int.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span></span></span></span></span><span>    
  and_int</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Bit_Operations.html#Bit_Operations.semiring_bit_operations_class.and|const"><span>(AND)</span></a></span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>  
  or_int</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Bit_Operations.html#Bit_Operations.semiring_bit_operations_class.or|const"><span>(OR)</span></a></span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>  
  xor_int</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Bit_Operations.html#Bit_Operations.semiring_bit_operations_class.xor|const"><span>(XOR)</span></a></span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>
  shiftr_int</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl|const"><span>(&lt;&lt;)</span></a></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span>"</span></span></span><span>
  shiftl_int</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftr|const"><span>(&gt;&gt;)</span></a></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span>"</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.sint_cmp_ops|fact"><span>sint_cmp_ops</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint.hn_cmp_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint.hn_cmp_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint.hn_cmp_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint.hn_cmp_op|fact"><span>sint.hn_cmp_op</span></a></a></a></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>folded</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_rel_def|fact"><span>sint_rel_def</span></a></a></a></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.to_hfref_post|fact"><span class="dynamic"><span class="dynamic"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.to_hfref_post|fact"><span class="dynamic"><span class="dynamic"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.to_hfref_post|fact"><span class="dynamic"><span class="dynamic"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.to_hfref_post|fact"><span class="dynamic"><span class="dynamic"><span>to_hfref_post</span></span></span></a></span></span></a></span></span></a></span></span></a><span class="main"><span>]</span></span><span>  
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.sint_bin_ops|fact"><span>sint_bin_ops</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint.hn_bin_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint.hn_bin_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint.hn_bin_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint.hn_bin_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint.hn_bin_op|fact"><span>sint.hn_bin_op</span></a></a></a></a></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>folded</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_rel_def|fact"><span>sint_rel_def</span></a></a></a></a></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.to_hfref_post|fact"><span class="dynamic"><span class="dynamic"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.to_hfref_post|fact"><span class="dynamic"><span class="dynamic"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.to_hfref_post|fact"><span class="dynamic"><span class="dynamic"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.to_hfref_post|fact"><span class="dynamic"><span class="dynamic"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.to_hfref_post|fact"><span class="dynamic"><span class="dynamic"><span>to_hfref_post</span></span></span></a></span></span></a></span></span></a></span></span></a></span></span></a><span class="main"><span>]</span></span><span>  
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.hn_sint_ops|fact"><span class="entity_def" id="Sepref_HOL_Bindings.hn_sint_ops(9)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_sint_ops(8)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_sint_ops(7)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_sint_ops(6)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_sint_ops(5)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_sint_ops(4)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_sint_ops(3)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_sint_ops(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_sint_ops(1)|thm"><span>hn_sint_ops</span></span></span></span></span></span></span></span></span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_add|const"><span>ll_add</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>(+)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Word_Lib.Typedef_Morphisms.html#Typedef_Morphisms.sints|const"><span>sints</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn|const"><span>sint_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn|const"><span>sint_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn&apos;|const"><span>sint_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_sub|const"><span>ll_sub</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>(-)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Word_Lib.Typedef_Morphisms.html#Typedef_Morphisms.sints|const"><span>sints</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn|const"><span>sint_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn|const"><span>sint_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn&apos;|const"><span>sint_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_mul|const"><span>ll_mul</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>(*)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Word_Lib.Typedef_Morphisms.html#Typedef_Morphisms.sints|const"><span>sints</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn|const"><span>sint_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn|const"><span>sint_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn&apos;|const"><span>sint_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_sdiv|const"><span>ll_sdiv</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Signed_Division.html#Signed_Division.signed_divide_class.signed_divide|const"><span>(sdiv)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Signed_Division.html#Signed_Division.signed_divide_class.signed_divide|const"><span>sdiv</span></a></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Word_Lib.Typedef_Morphisms.html#Typedef_Morphisms.sints|const"><span>sints</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn|const"><span>sint_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn|const"><span>sint_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn&apos;|const"><span>sint_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_srem|const"><span>ll_srem</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Signed_Division.html#Signed_Division.signed_modulo_class.signed_modulo|const"><span>(smod)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Signed_Division.html#Signed_Division.signed_divide_class.signed_divide|const"><span>sdiv</span></a></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Word_Lib.Typedef_Morphisms.html#Typedef_Morphisms.sints|const"><span>sints</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn|const"><span>sint_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn|const"><span>sint_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn&apos;|const"><span>sint_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
    
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_icmp_eq|const"><span>ll_icmp_eq</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>(=)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn|const"><span>sint_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn|const"><span>sint_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_icmp_ne|const"><span>ll_icmp_ne</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_neq|const"><span>op_neq</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn|const"><span>sint_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn|const"><span>sint_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_icmp_sle|const"><span>ll_icmp_sle</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>(≤)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn|const"><span>sint_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn|const"><span>sint_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_icmp_slt|const"><span>ll_icmp_slt</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>(&lt;)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn|const"><span>sint_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn|const"><span>sint_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_neq_def|fact"><span>op_neq_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.sint_bin_ops|fact"><span>sint_bin_ops</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint.hn_bin_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint.hn_bin_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint.hn_bin_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint.hn_bin_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint.hn_bin_op|fact"><span>sint.hn_bin_op</span></a></a></a></a></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>folded</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_rel_def|fact"><span>sint_rel_def</span></a></a></a></a></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.to_hfref_post|fact"><span class="dynamic"><span class="dynamic"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.to_hfref_post|fact"><span class="dynamic"><span class="dynamic"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.to_hfref_post|fact"><span class="dynamic"><span class="dynamic"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.to_hfref_post|fact"><span class="dynamic"><span class="dynamic"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.to_hfref_post|fact"><span class="dynamic"><span class="dynamic"><span>to_hfref_post</span></span></span></a></span></span></a></span></span></a></span></span></a></span></span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.sint_cmp_ops|fact"><span>sint_cmp_ops</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint.hn_cmp_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint.hn_cmp_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint.hn_cmp_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint.hn_cmp_op|fact"><span>sint.hn_cmp_op</span></a></a></a></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>folded</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_rel_def|fact"><span>sint_rel_def</span></a></a></a></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel_def|fact"><span>bool1_rel_def</span></a></a></a></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.to_hfref_post|fact"><span class="dynamic"><span class="dynamic"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.to_hfref_post|fact"><span class="dynamic"><span class="dynamic"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.to_hfref_post|fact"><span class="dynamic"><span class="dynamic"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.to_hfref_post|fact"><span class="dynamic"><span class="dynamic"><span>to_hfref_post</span></span></span></a></span></span></a></span></span></a></span></span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>


      
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.sint_init_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.sint_init_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.sint_init_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.sint_init|const"><span>sint_init</span></span></span><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span>"</span></span></span><span>

</span><span class="comment1"><span>(* TODO: Add rule for 0 *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.is_init_sint|fact"><span class="entity_def" id="Sepref_HOL_Bindings.is_init_sint|thm"><span>is_init_sint</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_gen_algo_rules|attribute"><span class="operator"><span>sepref_gen_algo_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.GEN_ALGO|const"><span>GEN_ALGO</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_init|const"><span>sint_init</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.is_init|const"><span>is_init</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn&apos;|const"><span>sint_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.GEN_ALGO_def|fact"><span>GEN_ALGO_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_init_def|fact"><span>sint_init_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.is_init_def|fact"><span>is_init_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_rel_def|fact"><span>sint_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint.rel_def|fact"><span>sint.rel_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.is_init_sint0|fact"><span class="entity_def" id="Sepref_HOL_Bindings.is_init_sint0|thm"><span>is_init_sint0</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_gen_algo_rules|attribute"><span class="operator"><span>sepref_gen_algo_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.GEN_ALGO|const"><span>GEN_ALGO</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_const|const"><span>sint_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.is_init|const"><span>is_init</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn&apos;|const"><span>sint_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.is_init_sint|fact"><span>is_init_sint</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span class="main"><span>=</span></span></span><span class="tfree"><span class="quoted"><span class="tfree"><span>'a</span></span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Natural Numbers by Unsigned Word›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.mod_nat.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.div_nat.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.times_nat.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.minus_nat.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.plus_nat.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mod_nat.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.div_nat.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.times_nat.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.minus_nat.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.plus_nat.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span></span></span></span></span><span> 
  plus_nat</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>(+)</span></a></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>⇒</span></span><span class="main"><span>_</span></span><span>"</span></span></span><span>    </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span>"</span></span></span><span>
  minus_nat</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>(-)</span></a></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>⇒</span></span><span class="main"><span>_</span></span><span>"</span></span></span><span>   </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span>"</span></span></span><span>
  times_nat</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>(*)</span></a></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>⇒</span></span><span class="main"><span>_</span></span><span>"</span></span></span><span>  </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span>"</span></span></span><span>
  div_nat</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.divide_class.divide|const"><span>(div)</span></a></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>⇒</span></span><span class="main"><span>_</span></span><span>"</span></span></span><span>   </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span>"</span></span></span><span>
  mod_nat</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.modulo_class.modulo|const"><span>(mod)</span></a></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>⇒</span></span><span class="main"><span>_</span></span><span>"</span></span></span><span>   </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span>"</span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.le_nat.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.lt_nat.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_neq_nat.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.eq_nat.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.le_nat.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.lt_nat.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_neq_nat.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.eq_nat.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span></span></span><span> 
  eq_nat</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>(=)</span></a></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>⇒</span></span><span class="main"><span>_</span></span><span>"</span></span></span><span>        </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>
  op_neq_nat</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_neq|const"><span>op_neq</span></a><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>⇒</span></span><span class="main"><span>_</span></span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>
  lt_nat</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>(&lt;)</span></a></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>⇒</span></span><span class="main"><span>_</span></span><span>"</span></span></span><span>        </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>
  le_nat</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>(≤)</span></a></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>⇒</span></span><span class="main"><span>_</span></span><span>"</span></span></span><span>        </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.shiftl_nat.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.shiftr_nat.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.xor_nat.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.or_nat.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.and_nat.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.shiftl_nat.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.shiftr_nat.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.xor_nat.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.or_nat.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.and_nat.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span></span></span></span></span><span>    
  and_nat</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Bit_Operations.html#Bit_Operations.semiring_bit_operations_class.and|const"><span>(AND)</span></a></span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>  
  or_nat</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Bit_Operations.html#Bit_Operations.semiring_bit_operations_class.or|const"><span>(OR)</span></a></span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>  
  xor_nat</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Bit_Operations.html#Bit_Operations.semiring_bit_operations_class.xor|const"><span>(XOR)</span></a></span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>  
  shiftr_nat</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl|const"><span>(&lt;&lt;)</span></a></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>
  shiftl_nat</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftr|const"><span>(&gt;&gt;)</span></a></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.unat_rel_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.unat_rel_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.unat_rel_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Sepref_HOL_Bindings.unat_rel|const"><span>unat_rel</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>unat_rel</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat.rel|const"><span>unat.rel</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.pure|const"><span>pure</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel|const"><span>unat_rel</span></a><span>"</span></span></span><span>  

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.unat_rel&apos;|const"><span>unat_rel'</span></span></span><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel|const"><span>unat_rel</span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.unat_assn&apos;|const"><span>unat_assn'</span></span></span><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.unat_const_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.unat_const_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.unat_const_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.unat_const|const"><span>unat_const</span></span></span><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>::</span></span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.unat_const.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.unat_const.pat|fact"><span class="entity_def" id="Sepref_HOL_Bindings.unat_const.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.unat_const.pat|thm"><span>sepref_register</span></span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_const|const"><span>unat_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.fold_unat|fact"><span class="entity_def" id="Sepref_HOL_Bindings.fold_unat(3)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.fold_unat(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.fold_unat(1)|thm"><span>fold_unat</span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_const|const"><span>unat_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span>  
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_const|const"><span>unat_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span>  
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_const|const"><span>unat_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>

  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.hn_unat_0|fact"><span class="entity_def" id="Sepref_HOL_Bindings.hn_unat_0|thm"><span>hn_unat_0</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_empty|const"><span>□</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_empty|const"><span>□</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn&apos;|const"><span>unat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_const|const"><span>unat_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel_def|fact"><span>unat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat.rel_def|fact"><span>unat.rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg|method"><span class="operator"><span>vcg</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.hn_unat_1|fact"><span class="entity_def" id="Sepref_HOL_Bindings.hn_unat_1|thm"><span>hn_unat_1</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_empty|const"><span>□</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_empty|const"><span>□</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn&apos;|const"><span>unat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_const|const"><span>unat_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel_def|fact"><span>unat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat.rel_def|fact"><span>unat.rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg|method"><span class="operator"><span>vcg</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.hn_unat_numeral|fact"><span class="entity_def" id="Sepref_HOL_Bindings.hn_unat_numeral|thm"><span>hn_unat_numeral</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Word_Lib.Typedef_Morphisms.html#Typedef_Morphisms.unats|const"><span>unats</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> 
    </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_empty|const"><span>□</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_empty|const"><span>□</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn&apos;|const"><span>unat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_const|const"><span>unat_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel_def|fact"><span>unat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat.rel_def|fact"><span>unat.rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg&apos;|method"><span class="operator"><span>vcg'</span></span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_apply|fact"><span>id_apply</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_unat_def|fact"><span>max_unat_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Euclidean_Rings.html#Euclidean_Rings.mod_less|fact"><span>mod_less</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.of_nat_eq_id|fact"><span>of_nat_eq_id</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Bit_Operations.html#Bit_Operations.semiring_bit_operations_class.take_bit_eq_mod|fact"><span>take_bit_eq_mod</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.unat_bintrunc|fact"><span>unat_bintrunc</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.semiring_1_class.unsigned_numeral|fact"><span>unsigned_numeral</span></a><span class="main"><span>)</span></span><span>

  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.hn_unat_ops|fact"><span class="entity_def" id="Sepref_HOL_Bindings.hn_unat_ops(13)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_unat_ops(12)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_unat_ops(11)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_unat_ops(10)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_unat_ops(9)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_unat_ops(8)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_unat_ops(7)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_unat_ops(6)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_unat_ops(5)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_unat_ops(4)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_unat_ops(3)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_unat_ops(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_unat_ops(1)|thm"><span>hn_unat_ops</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_add|const"><span>ll_add</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>(+)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_unat|const"><span>max_unat</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn&apos;|const"><span>unat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_add|const"><span>ll_add</span></a><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_unat|const"><span>max_unat</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn&apos;|const"><span>unat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_sub|const"><span>ll_sub</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>(-)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="bound"><span>a</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_mul|const"><span>ll_mul</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>(*)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_unat|const"><span>max_unat</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn&apos;|const"><span>unat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_udiv|const"><span>ll_udiv</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.divide_class.divide|const"><span>(div)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_urem|const"><span>ll_urem</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.modulo_class.modulo|const"><span>(mod)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span>"</span></span></span><span>
  
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_and|const"><span>ll_and</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Bit_Operations.html#Bit_Operations.semiring_bit_operations_class.and|const"><span>(AND)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_or|const"><span>ll_or</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Bit_Operations.html#Bit_Operations.semiring_bit_operations_class.or|const"><span>(OR)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_xor|const"><span>ll_xor</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Bit_Operations.html#Bit_Operations.semiring_bit_operations_class.xor|const"><span>(XOR)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span>"</span></span></span><span>
  
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_icmp_eq|const"><span>ll_icmp_eq</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>(=)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_icmp_ne|const"><span>ll_icmp_ne</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_neq|const"><span>op_neq</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_icmp_ule|const"><span>ll_icmp_ule</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>(≤)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_icmp_ult|const"><span>ll_icmp_ult</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>(&lt;)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_neq_def|fact"><span>op_neq_def</span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.unat_bin_ops|fact"><span>unat_bin_ops</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat.hn_bin_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat.hn_bin_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat.hn_bin_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat.hn_bin_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat.hn_bin_op|fact"><span>unat.hn_bin_op</span></a></a></a></a></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>folded</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel_def|fact"><span>unat_rel_def</span></a></a></a></a></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.unat_un_ops|fact"><span>unat_un_ops</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat.hn_un_op|fact"><span>unat.hn_un_op</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>folded</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel_def|fact"><span>unat_rel_def</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.unat_bin_ops_bitwise|fact"><span>unat_bin_ops_bitwise</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat.hn_bin_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat.hn_bin_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat.hn_bin_op|fact"><span>unat.hn_bin_op</span></a></a></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>folded</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel_def|fact"><span>unat_rel_def</span></a></a></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.unat_cmp_ops|fact"><span>unat_cmp_ops</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat.hn_cmp_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat.hn_cmp_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat.hn_cmp_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat.hn_cmp_op|fact"><span>unat.hn_cmp_op</span></a></a></a></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>folded</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel_def|fact"><span>unat_rel_def</span></a></a></a></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel_def|fact"><span>bool1_rel_def</span></a></a></a></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp_all</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.prod_casesK|fact"><span>prod_casesK</span></a><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.unat_init_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.unat_init_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.unat_init_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.unat_init|const"><span>unat_init</span></span></span><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.is_init_unat|fact"><span class="entity_def" id="Sepref_HOL_Bindings.is_init_unat|thm"><span>is_init_unat</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_gen_algo_rules|attribute"><span class="operator"><span>sepref_gen_algo_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.GEN_ALGO|const"><span>GEN_ALGO</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_init|const"><span>unat_init</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.is_init|const"><span>is_init</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn&apos;|const"><span>unat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.GEN_ALGO_def|fact"><span>GEN_ALGO_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_init_def|fact"><span>unat_init_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.is_init_def|fact"><span>is_init_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel_def|fact"><span>unat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat.rel_def|fact"><span>unat.rel_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.is_init_unat0|fact"><span class="entity_def" id="Sepref_HOL_Bindings.is_init_unat0|thm"><span>is_init_unat0</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_gen_algo_rules|attribute"><span class="operator"><span>sepref_gen_algo_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.GEN_ALGO|const"><span>GEN_ALGO</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_const|const"><span>unat_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.is_init|const"><span>is_init</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn&apos;|const"><span>unat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.is_init_unat|fact"><span>is_init_unat</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span class="main"><span>=</span></span></span><span class="tfree"><span class="quoted"><span class="tfree"><span>'a</span></span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.exists_pure_conv|fact"><span class="entity_def" id="Sepref_HOL_Bindings.exists_pure_conv|thm"><span>exists_pure_conv</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift|const"><span>↑</span></a></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_empty|const"><span>□</span></a></span><span class="free"><span>s</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="free"><span>a</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pure_true_conv|fact"><span>pure_true_conv</span></a><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift_def|fact"><span>pred_lift_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.unat_distr_shr|fact"><span class="entity_def" id="Sepref_HOL_Bindings.unat_distr_shr|thm"><span>unat_distr_shr</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.unat|const"><span>unat</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>ai</span></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftr|const"><span>&gt;&gt;</span></a></span><span> </span><span class="free"><span>k</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.unat|const"><span>unat</span></a><span> </span><span class="free"><span>ai</span></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftr|const"><span>&gt;&gt;</span></a></span><span> </span><span class="free"><span>k</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Bit_Operations.html#Bit_Operations.semiring_bit_operations_class.drop_bit_eq_div|fact"><span>drop_bit_eq_div</span></a><span> </span><a class="entity_ref" href="Word_Lib.Word_Lemmas.html#Word_Lemmas.shiftr_div_2n&apos;|fact"><span>shiftr_div_2n'</span></a><span> </span><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftr_def|fact"><span>shiftr_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.bit_lshift_unat_assn|fact"><span class="entity_def" id="Sepref_HOL_Bindings.bit_lshift_unat_assn|thm"><span>bit_lshift_unat_assn</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_lshr|const"><span>ll_lshr</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>oo</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftr|const"><span>(&gt;&gt;)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span>
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn&apos;|const"><span>unat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_lshr_def|fact"><span>ll_lshr_def</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.op_lift_arith2_def|fact"><span>op_lift_arith2_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Let_def|fact"><span>Let_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg|method"><span class="operator"><span>vcg</span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.shift_ovf_def|fact"><span>shift_ovf_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel_def|fact"><span>unat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat.rel_def|fact"><span>unat.rel_def</span></a><span> </span><a class="entity_ref" href="LLVM_Integer.html#LLVM_Integer.word_to_lint_to_uint_conv|fact"><span>word_to_lint_to_uint_conv</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.sep_algebra_simps|fact"><span class="dynamic"><span class="dynamic"><span>sep_algebra_simps</span></span></span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.bitLSHR&apos;_def|fact"><span>bitLSHR'_def</span></a><span> </span><a class="entity_ref" href="LLVM_Integer.html#LLVM_Integer.word_to_lint_to_uint_conv|fact"><span>word_to_lint_to_uint_conv</span></a><span>
        </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel_def|fact"><span>unat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat.rel_def|fact"><span>unat.rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span> </span><a class="entity_ref" href="LLVM_Simple_Memory_RS.html#LLVM_Simple_Memory_RS.POSTCOND_def|fact"><span>POSTCOND_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_distr_shr|fact"><span>unat_distr_shr</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.exists_pure_conv|fact"><span>exists_pure_conv</span></a><span>
        </span><span class="quasi_keyword"><span>flip</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="LLVM_Integer.html#LLVM_Integer.word_to_lint_lshr|fact"><span>word_to_lint_lshr</span></a><span class="main"><span>)</span></span><span>

  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.unat_distr_shl|fact"><span class="entity_def" id="Sepref_HOL_Bindings.unat_distr_shl|thm"><span>unat_distr_shl</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.unat|const"><span>unat</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl|const"><span>&lt;&lt;</span></a></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_unat|const"><span>max_unat</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><span>  </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.unat|const"><span>unat</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl|const"><span>&lt;&lt;</span></a></span><span> </span><span class="free"><span>k</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.unat|const"><span>unat</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl|const"><span>&lt;&lt;</span></a></span><span> </span><span class="free"><span>k</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl_def|fact"><span>shiftl_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Bit_Operations.html#Bit_Operations.semiring_bit_operations_class.push_bit_eq_mult|fact"><span>push_bit_eq_mult</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_unat_def|fact"><span>max_unat_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.unat_mult_lem|fact"><span>unat_mult_lem</span></a><span> </span><a class="entity_ref" href="Word_Lib.More_Word.html#More_Word.unat_power_lower|fact"><span>unat_power_lower</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.bit_shiftl_unat_assn|fact"><span class="entity_def" id="Sepref_HOL_Bindings.bit_shiftl_unat_assn|thm"><span>bit_shiftl_unat_assn</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_shl|const"><span>ll_shl</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>oo</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl|const"><span>(&lt;&lt;)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl|const"><span>&lt;&lt;</span></a></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_unat|const"><span>max_unat</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span>
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn&apos;|const"><span>unat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="main"><span>)</span></span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_shl_def|fact"><span>ll_shl_def</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.op_lift_arith2_def|fact"><span>op_lift_arith2_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Let_def|fact"><span>Let_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg|method"><span class="operator"><span>vcg</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.shift_ovf_def|fact"><span>shift_ovf_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel_def|fact"><span>unat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat.rel_def|fact"><span>unat.rel_def</span></a><span> </span><a class="entity_ref" href="LLVM_Integer.html#LLVM_Integer.word_to_lint_to_uint_conv|fact"><span>word_to_lint_to_uint_conv</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.sep_algebra_simps|fact"><span class="dynamic"><span class="dynamic"><span>sep_algebra_simps</span></span></span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.bitSHL&apos;_def|fact"><span>bitSHL'_def</span></a><span> </span><a class="entity_ref" href="LLVM_Integer.html#LLVM_Integer.word_to_lint_to_uint_conv|fact"><span>word_to_lint_to_uint_conv</span></a><span>
          </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel_def|fact"><span>unat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat.rel_def|fact"><span>unat.rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span> </span><a class="entity_ref" href="LLVM_Simple_Memory_RS.html#LLVM_Simple_Memory_RS.POSTCOND_def|fact"><span>POSTCOND_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_distr_shr|fact"><span>unat_distr_shr</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.exists_pure_conv|fact"><span>exists_pure_conv</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_distr_shl|fact"><span>unat_distr_shl</span></a><span>
          </span><span class="quasi_keyword"><span>flip</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="LLVM_Integer.html#LLVM_Integer.word_to_lint_shl|fact"><span>word_to_lint_shl</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Natural Numbers by Signed Word›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.snat_rel_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat_rel_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat_rel_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Sepref_HOL_Bindings.snat_rel|const"><span>snat_rel</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>snat_rel</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.rel|const"><span>snat.rel</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.pure|const"><span>pure</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel|const"><span>snat_rel</span></a><span>"</span></span></span><span>  

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.snat_rel&apos;|const"><span>snat_rel'</span></span></span><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel|const"><span>snat_rel</span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.snat_assn&apos;|const"><span>snat_assn'</span></span></span><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>

</span><span class="comment1"><span>(* TODO: Too many snat_rel_ &lt; max_snat lemma variants! *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.snat_rel_range|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat_rel_range|thm"><span>snat_rel_range</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Range|const"><span>Range</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel&apos;|const"><span>snat_rel'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>{</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>..&lt;</span></a></span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat|const"><span>max_snat</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>}</span></a></span><span>"</span></span></span><span>
  </span><span class="comment1"><span>(* TODO: Clean up proof! *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Range_iff|fact"><span>Range_iff</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><span>snat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.rel_def|fact"><span>snat.rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> x
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word_of_int|const"><span>word_of_int</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat_def|fact"><span>max_snat_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_invar_def|fact"><span>snat_invar_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.One_nat_def|fact"><span>One_nat_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_eq_unat_aux1|fact"><span>snat_eq_unat_aux1</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_in_bounds_aux|fact"><span>snat_in_bounds_aux</span></a><span> </span><a class="entity_ref" href="Word_Lib.More_Word.html#More_Word.unat_of_nat_len|fact"><span>unat_of_nat_len</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Word_Lib.More_Word.html#More_Word.of_nat_power|fact"><span>More_Word.of_nat_power</span></a><span> </span><a class="entity_ref" href="Word_Lib.Most_significant_bit.html#Most_significant_bit.not_msb_from_less|fact"><span>not_msb_from_less</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.snat_const_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat_const_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat_const_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.snat_const|const"><span>snat_const</span></span></span><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>::</span></span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.snat_const.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat_const.pat|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat_const.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat_const.pat|thm"><span>sepref_register</span></span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_const|const"><span>snat_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.fold_snat|fact"><span class="entity_def" id="Sepref_HOL_Bindings.fold_snat(3)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.fold_snat(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.fold_snat(1)|thm"><span>fold_snat</span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_const|const"><span>snat_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span>  
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_const|const"><span>snat_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span>  
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_const|const"><span>snat_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>

</span><span class="comment1"><span>(* TODO: Move, and use for proofs about snat in LLVM_Shallow_RS *)</span></span><span>  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.snat_invar_0|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat_invar_0|thm"><span>snat_invar_0</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_invar|const"><span>snat_invar</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_invar_def|fact"><span>snat_invar_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.snat_invar_1|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat_invar_1|thm"><span>snat_invar_1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_invar|const"><span>snat_invar</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_invar_def|fact"><span>snat_invar_def</span></a><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.snat_invar_numeral|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat_invar_numeral|thm"><span>snat_invar_numeral</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat|const"><span>max_snat</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span>
  </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_invar|const"><span>snat_invar</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>full_types</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.One_nat_def|fact"><span>One_nat_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.ll_const_signed_nat_aux2|fact"><span>ll_const_signed_nat_aux2</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat_def|fact"><span>max_snat_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_invar_def|fact"><span>snat_invar_def</span></a><span class="main"><span>)</span></span><span>
  
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.hn_snat_0|fact"><span class="entity_def" id="Sepref_HOL_Bindings.hn_snat_0|thm"><span>hn_snat_0</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_empty|const"><span>□</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_empty|const"><span>□</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn&apos;|const"><span>snat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_const|const"><span>snat_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><span>snat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.rel_def|fact"><span>snat.rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_invar_0|fact"><span>snat_invar_0</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg|method"><span class="operator"><span>vcg</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.hn_snat_1|fact"><span class="entity_def" id="Sepref_HOL_Bindings.hn_snat_1|thm"><span>hn_snat_1</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_empty|const"><span>□</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_empty|const"><span>□</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn&apos;|const"><span>snat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_const|const"><span>snat_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><span>snat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.rel_def|fact"><span>snat.rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_invar_1|fact"><span>snat_invar_1</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg|method"><span class="operator"><span>vcg</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.hn_snat_numeral|fact"><span class="entity_def" id="Sepref_HOL_Bindings.hn_snat_numeral|thm"><span>hn_snat_numeral</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snats|const"><span>snats</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> 
    </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_empty|const"><span>□</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_empty|const"><span>□</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn&apos;|const"><span>snat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_const|const"><span>snat_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><span>snat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.rel_def|fact"><span>snat.rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_invar_numeral|fact"><span>snat_invar_numeral</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg&apos;|method"><span class="operator"><span>vcg'</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.hn_snat_ops|fact"><span class="entity_def" id="Sepref_HOL_Bindings.hn_snat_ops(10)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_snat_ops(9)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_snat_ops(8)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_snat_ops(7)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_snat_ops(6)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_snat_ops(5)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_snat_ops(4)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_snat_ops(3)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_snat_ops(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.hn_snat_ops(1)|thm"><span>hn_snat_ops</span></span></span></span></span></span></span></span></span></span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_add|const"><span>ll_add</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>(+)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat|const"><span>max_snat</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn&apos;|const"><span>snat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_add|const"><span>ll_add</span></a><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat|const"><span>max_snat</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn&apos;|const"><span>snat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_sub|const"><span>ll_sub</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>(-)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="bound"><span>a</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_mul|const"><span>ll_mul</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>(*)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat|const"><span>max_snat</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn&apos;|const"><span>snat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_udiv|const"><span>ll_udiv</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.divide_class.divide|const"><span>(div)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_urem|const"><span>ll_urem</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.modulo_class.modulo|const"><span>(mod)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span>"</span></span></span><span>
  
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_icmp_eq|const"><span>ll_icmp_eq</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>(=)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_icmp_ne|const"><span>ll_icmp_ne</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_neq|const"><span>op_neq</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_icmp_sle|const"><span>ll_icmp_sle</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>(≤)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_icmp_slt|const"><span>ll_icmp_slt</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>∘∘</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>(&lt;)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_neq_def|fact"><span>op_neq_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_bin_ops|fact"><span>snat_bin_ops</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.hn_bin_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.hn_bin_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.hn_bin_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.hn_bin_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.hn_bin_op|fact"><span>snat.hn_bin_op</span></a></a></a></a></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>folded</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><span>snat_rel_def</span></a></a></a></a></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_un_ops|fact"><span>snat_un_ops</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.hn_un_op|fact"><span>snat.hn_un_op</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>folded</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><span>snat_rel_def</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_cmp_ops|fact"><span>snat_cmp_ops</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.hn_cmp_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.hn_cmp_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.hn_cmp_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.hn_cmp_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.hn_cmp_op|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.hn_cmp_op|fact"><span>snat.hn_cmp_op</span></a></a></a></a></a></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>folded</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><span>snat_rel_def</span></a></a></a></a></a></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel_def|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel_def|fact"><span>bool1_rel_def</span></a></a></a></a></a></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.exists_eq_star_conv|fact"><span class="entity_def" id="Sepref_HOL_Bindings.exists_eq_star_conv|thm"><span>exists_eq_star_conv</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>s</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift|const"><span>↑</span></a></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>k</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>∧*</span></a></span><span> </span><span class="free"><span>F</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>F</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.sep_algebra_simps|fact"><span class="dynamic"><span class="dynamic"><span>sep_algebra_simps</span></span></span></a><span> </span><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj_def|fact"><span>sep_conj_def</span></a><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift_extract_simps|fact"><span>pred_lift_extract_simps</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.bit_lshift_snat_assn|fact"><span class="entity_def" id="Sepref_HOL_Bindings.bit_lshift_snat_assn|thm"><span>bit_lshift_snat_assn</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_lshr|const"><span>ll_lshr</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>oo</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftr|const"><span>(&gt;&gt;)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span>
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn&apos;|const"><span>snat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_lshr_def|fact"><span>ll_lshr_def</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.op_lift_arith2_def|fact"><span>op_lift_arith2_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Let_def|fact"><span>Let_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg|method"><span class="operator"><span>vcg</span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.shift_ovf_def|fact"><span>shift_ovf_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><span>snat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.rel_def|fact"><span>snat.rel_def</span></a><span> </span><a class="entity_ref" href="LLVM_Integer.html#LLVM_Integer.word_to_lint_to_uint_conv|fact"><span>word_to_lint_to_uint_conv</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_invar_alt|fact"><span>snat_invar_alt</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_eq_unat_aux1|fact"><span>snat_eq_unat_aux1</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> b bi a ai F s
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.sep_algebra_simps|fact"><span class="dynamic"><span class="dynamic"><span>sep_algebra_simps</span></span></span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.bitLSHR&apos;_def|fact"><span>bitLSHR'_def</span></a><span> </span><a class="entity_ref" href="LLVM_Integer.html#LLVM_Integer.word_to_lint_to_uint_conv|fact"><span>word_to_lint_to_uint_conv</span></a><span>
        </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><span>snat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat.rel_def|fact"><span>unat.rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span> </span><a class="entity_ref" href="LLVM_Simple_Memory_RS.html#LLVM_Simple_Memory_RS.POSTCOND_def|fact"><span>POSTCOND_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_distr_shr|fact"><span>unat_distr_shr</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.exists_pure_conv|fact"><span>exists_pure_conv</span></a><span>
        </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.cnv_snat_to_uint|fact"><span>cnv_snat_to_uint</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span>
        </span><span class="quasi_keyword"><span>flip</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="LLVM_Integer.html#LLVM_Integer.word_to_lint_lshr|fact"><span>word_to_lint_lshr</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_eq_unat_aux2|fact"><span>snat_eq_unat_aux2</span></a><span class="main"><span>)</span></span><span>    

    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.rel_def|fact"><span>snat.rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_def|fact"><span>snat_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_invar_alt|fact"><span>snat_invar_alt</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.sint|const"><span>sint</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ai</span></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftr|const"><span>&gt;&gt;</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.unat|const"><span>unat</span></a><span> </span><span class="skolem"><span>bi</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.sint|const"><span>sint</span></a><span> </span><span class="skolem"><span>ai</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftr|const"><span>&gt;&gt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.sint|const"><span>sint</span></a><span> </span><span class="skolem"><span>bi</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.unat|const"><span>unat</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ai</span></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftr|const"><span>&gt;&gt;</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.unat|const"><span>unat</span></a><span> </span><span class="skolem"><span>bi</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Power.html#Power.power_class.power|const"><span>^</span></a></span><span> </span><span class="improper"><span>n</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.exists_eq_star_conv|fact"><span>exists_eq_star_conv</span></a><span> </span><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_empty_def|fact"><span>sep_empty_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.cancel_ab_semigroup_add_class.add_diff_cancel_left&apos;|fact"><span>add_diff_cancel_left'</span></a><span> </span><a class="entity_ref" href="Word_Lib.Many_More.html#Many_More.nat_power_minus_less|fact"><span>nat_power_minus_less</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.nat_uint_eq|fact"><span>nat_uint_eq</span></a><span> </span><a class="entity_ref" href="Word_Lib.Most_significant_bit.html#Most_significant_bit.sint_eq_uint|fact"><span>sint_eq_uint</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_invar_alt|fact"><span>snat_invar_alt</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_invar_def|fact"><span>snat_invar_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_distr_shr|fact"><span>unat_distr_shr</span></a><span> </span><a class="entity_ref" href="Word_Lib.Word_Lemmas.html#Word_Lemmas.unat_shiftr_less_t2n|fact"><span>unat_shiftr_less_t2n</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.cancel_ab_semigroup_add_class.add_diff_cancel_left&apos;|fact"><span>add_diff_cancel_left'</span></a><span> </span><a class="entity_ref" href="Word_Lib.Many_More.html#Many_More.nat_power_minus_less|fact"><span>nat_power_minus_less</span></a><span> </span><a class="entity_ref" href="Word_Lib.Word_Lemmas.html#Word_Lemmas.unat_shiftr_less_t2n|fact"><span>unat_shiftr_less_t2n</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.bit_shiftl_snat_assn|fact"><span class="entity_def" id="Sepref_HOL_Bindings.bit_shiftl_snat_assn|thm"><span>bit_shiftl_snat_assn</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_shl|const"><span>ll_shl</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>oo</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl|const"><span>(&lt;&lt;)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl|const"><span>&lt;&lt;</span></a></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat|const"><span>max_snat</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span>
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn&apos;|const"><span>snat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span class="main"><span>)</span></span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_43510..43511">H</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>bi</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span>
       </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ai</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Power.html#Power.power_class.power|const"><span>^</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>bi</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_unat|const"><span>max_unat</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span>
       </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Word_Lib.Legacy_Aliases.html#Legacy_Aliases.bintrunc|const"><span>bintrunc</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.size_class.size|const"><span>size</span></a><span> </span><span class="skolem"><span>ai</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="skolem"><span>ai</span></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl|const"><span>&lt;&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>bi</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="skolem"><span>ai</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Power.html#Power.power_class.power|const"><span>^</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>bi</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>bi</span></span><span> </span><span class="skolem"><span>ai</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>z3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_unat_def|fact"><span>max_unat_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.ab_semigroup_mult_class.mult.commute|fact"><span>mult.commute</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat_mult_distrib|fact"><span>nat_mult_distrib</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.nat_uint_eq|fact"><span>nat_uint_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Bit_Operations.html#Bit_Operations.semiring_bit_operations_class.push_bit_eq_mult|fact"><span>push_bit_eq_mult</span></a><span> </span><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl_def|fact"><span>shiftl_def</span></a><span> 
      </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.size_word.rep_eq|fact"><span>size_word.rep_eq</span></a><span> </span><a class="entity_ref" href="Word_Lib.More_Word.html#More_Word.uint_power_lower|fact"><span>uint_power_lower</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint_word_arith_bintrs|fact"><span>uint_word_arith_bintrs</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.unat_mult_lem|fact"><span>unat_mult_lem</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Power.html#Power.linordered_semidom_class.zero_le_power|fact"><span>zero_le_power</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_43918..43920">H'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>bi</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span>
       </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ai</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Power.html#Power.power_class.power|const"><span>^</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>bi</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat|const"><span>max_snat</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span>
       </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Word_Lib.Legacy_Aliases.html#Legacy_Aliases.bintrunc|const"><span>bintrunc</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.size_class.size|const"><span>size</span></a><span> </span><span class="skolem"><span>ai</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="skolem"><span>ai</span></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl|const"><span>&lt;&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>bi</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="skolem"><span>ai</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Power.html#Power.power_class.power|const"><span>^</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>bi</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>bi</span></span><span> </span><span class="skolem"><span>ai</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_43510..43511"><span>H</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>bi</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>ai</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat_def|fact"><span>max_snat_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_unat_def|fact"><span>max_unat_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat_less_numeral_power_cancel_iff|fact"><span>nat_less_numeral_power_cancel_iff</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_in_bounds_aux|fact"><span>snat_in_bounds_aux</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg|method"><span class="operator"><span>vcg</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>bi</span></span><span> </span><span class="skolem"><span>ai</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span>›</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>  </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>asf</span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Simple_Memory.html#Simple_Memory.llvm_val|type"><span>llvm_val</span></a><span> </span><a class="entity_ref" href="Generic_Memory.html#Generic_Memory.memory|type"><span>memory</span></a><span>"</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span>
       </span><span class="entity_def" id="offset_44395..44397">le</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl|const"><span>&lt;&lt;</span></a></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat|const"><span>max_snat</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
       </span><span class="entity_def" id="offset_44459..44460">a</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="skolem"><span>ai</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel|const"><span>snat_rel</span></a><span>›</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
       </span><span class="entity_def" id="offset_44494..44495">b</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="skolem"><span>bi</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel|const"><span>snat_rel</span></a><span>›</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
       </span><span class="entity_def" id="offset_44529..44534">state</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="LLVM_Simple_Memory_RS.html#LLVM_Simple_Memory_RS.STATE|const"><span>STATE</span></a><span> </span><span class="skolem"><span>asf</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_empty|const"><span>□</span></a></span><span> </span><span class="skolem"><span>s</span></span><span>›</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="skolem"><span>ai</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl|const"><span>&lt;&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="skolem"><span>bi</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Power.html#Power.power_class.power|const"><span>^</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_44395..44397"><span>le</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_44459..44460"><span>a</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_44494..44495"><span>b</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><span>snat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.rel_def|fact"><span>snat.rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span class="main"><span>)</span></span><span> 
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat_def|fact"><span>max_snat_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_def|fact"><span>snat_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_invar_alt|fact"><span>snat_invar_alt</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="LLVM_More_Word.html#LLVM_More_Word.msb_unat_big|fact"><span>msb_unat_big</span></a><span> </span><a class="entity_ref" href="Word_Lib.Most_significant_bit.html#Most_significant_bit.sint_eq_uint|fact"><span>sint_eq_uint</span></a><span class="main"><span>)</span></span><span>
    </span><span class="comment1"><span>(*then have ‹(uint ai) &lt;&lt; nat (uint bi) &lt; 2 ^ (LENGTH('a) - Suc 0)›
      using le a b unfolding shiftr_int_def
      by (metis Groups.mult_ac(2) nat_eq_numeral_power_cancel_iff nat_less_numeral_power_cancel_iff nat_mult_distrib push_bit_eq_mult rel_simps(27) shiftl_def zero_le_power)
      *)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_45125..45128">le'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>ai</span></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl|const"><span>&lt;&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="skolem"><span>bi</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Power.html#Power.power_class.power|const"><span>^</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_44395..44397"><span>le</span></a><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Word_Lib.Many_More.html#Many_More.Suc_0_lt_2p_len_of|fact"><span>Suc_0_lt_2p_len_of</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc_lessD|fact"><span>Suc_lessD</span></a><span> 
        </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.diff_Suc_less|fact"><span>diff_Suc_less</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len_class.len_gt_0|fact"><span>len_gt_0</span></a><span> 
        </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len_class.len_not_eq_0|fact"><span>len_not_eq_0</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.mult_0_right|fact"><span>mult_0_right</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.nat_uint_eq|fact"><span>nat_uint_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Power.html#Power.nat_zero_less_power_iff|fact"><span>nat_zero_less_power_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Bit_Operations.html#Bit_Operations.semiring_bit_operations_class.push_bit_eq_mult|fact"><span>push_bit_eq_mult</span></a><span> </span><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl_def|fact"><span>shiftl_def</span></a><span> 
        </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_in_bounds_aux|fact"><span>snat_in_bounds_aux</span></a><span> </span><a class="entity_ref" href="Word_Lib.Word_Lemmas.html#Word_Lemmas.unat_2tp_if|fact"><span>unat_2tp_if</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.unat_mult_lem|fact"><span>unat_mult_lem</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word_less_nat_alt|fact"><span>word_less_nat_alt</span></a><span class="main"><span>)</span></span><span>

    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Word_Lib.Legacy_Aliases.html#Legacy_Aliases.bintrunc|const"><span>bintrunc</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.size_class.size|const"><span>size</span></a><span> </span><span class="skolem"><span>ai</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="skolem"><span>ai</span></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl|const"><span>&lt;&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="skolem"><span>bi</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="skolem"><span>ai</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Power.html#Power.power_class.power|const"><span>^</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="skolem"><span>bi</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_44395..44397"><span>le</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_44459..44460"><span>a</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_44494..44495"><span>b</span></a><span> 
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><span>snat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.rel_def|fact"><span>snat.rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span class="main"><span>)</span></span><span> 
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat_def|fact"><span>max_snat_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_def|fact"><span>snat_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_invar_alt|fact"><span>snat_invar_alt</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>z3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_43918..43920"><span>H'</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.One_nat_def|fact"><span>One_nat_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.diff_Suc_Suc|fact"><span>diff_Suc_Suc</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.cancel_comm_monoid_add_class.diff_zero|fact"><span>diff_zero</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat_def|fact"><span>max_snat_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat_mult_distrib|fact"><span>nat_mult_distrib</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.nat_uint_eq|fact"><span>nat_uint_eq</span></a><span> 
          </span><a class="entity_ref" href="../../HOL/HOL/Bit_Operations.html#Bit_Operations.semiring_bit_operations_class.push_bit_eq_mult|fact"><span>push_bit_eq_mult</span></a><span> </span><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl_def|fact"><span>shiftl_def</span></a><span> </span><a class="entity_ref" href="Word_Lib.Most_significant_bit.html#Most_significant_bit.sint_eq_uint|fact"><span>sint_eq_uint</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_invar_alt|fact"><span>snat_invar_alt</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_invar_def|fact"><span>snat_invar_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint_lt_0|fact"><span>uint_lt_0</span></a><span> 
          </span><a class="entity_ref" href="Word_Lib.More_Word.html#More_Word.uint_power_lower|fact"><span>uint_power_lower</span></a><span> </span><a class="entity_ref" href="Word_Lib.Word_Lemmas.html#Word_Lemmas.unat_2tp_if|fact"><span>unat_2tp_if</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>3</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Power.html#Power.power_class.power|const"><span>^</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="skolem"><span>ai</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Power.html#Power.power_class.power|const"><span>^</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="skolem"><span>bi</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int_nat_eq|fact"><span>int_nat_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat_mult_distrib|fact"><span>nat_mult_distrib</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.semiring_1_class.of_nat_mult|fact"><span>of_nat_mult</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint_add_ge0|fact"><span>uint_add_ge0</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Power.html#Power.linordered_semidom_class.zero_le_power|fact"><span>zero_le_power</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="skolem"><span>ai</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Power.html#Power.power_class.power|const"><span>^</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="skolem"><span>bi</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="numeral"><span>3</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Power.html#Power.power_class.power|const"><span>^</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat_less_eq_zless|fact"><span>nat_less_eq_zless</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat_mult_distrib|fact"><span>nat_mult_distrib</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_44395..44397"><span>le</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_44459..44460"><span>a</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_44494..44495"><span>b</span></a><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><span>snat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.rel_def|fact"><span>snat.rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span class="main"><span>)</span></span><span> 
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat_def|fact"><span>max_snat_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_def|fact"><span>snat_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_invar_alt|fact"><span>snat_invar_alt</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>z3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl_def|fact"><span>shiftl_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.mult_ac|fact"><span>Groups.mult_ac</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.One_nat_def|fact"><span>One_nat_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.of_nat_unat|fact"><span>Word.of_nat_unat</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Bit_Operations.html#Bit_Operations.semiring_bit_operations_class.take_bit|const"><span>take_bit</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.size_class.size|const"><span>size</span></a><span> </span><span class="skolem"><span>ai</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="skolem"><span>ai</span></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl|const"><span>&lt;&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="skolem"><span>bi</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="skolem"><span>ai</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Power.html#Power.power_class.power|const"><span>^</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="skolem"><span>bi</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.diff_Suc_1|fact"><span>diff_Suc_1</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_45125..45128"><span>le'</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.preorder_class.le_less_trans|fact"><span>le_less_trans</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.lessI|fact"><span>lessI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat_less_numeral_power_cancel_iff|fact"><span>nat_less_numeral_power_cancel_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat_mult_distrib|fact"><span>nat_mult_distrib</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat_power_eq|fact"><span>nat_power_eq</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.nat_uint_eq|fact"><span>nat_uint_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Power.html#Power.nat_zero_less_power_iff|fact"><span>nat_zero_less_power_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.linorder_class.not_le|fact"><span>not_le</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.semiring_1_class.of_nat_numeral|fact"><span>of_nat_numeral</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Power.html#Power.semiring_1_class.of_nat_power|fact"><span>semiring_1_class.of_nat_power</span></a><span> </span><a class="entity_ref" href="Word_Lib.More_Word.html#More_Word.uint_power_lower|fact"><span>uint_power_lower</span></a><span> </span><a class="entity_ref" href="Word_Lib.Bits_Int.html#Bits_Int.uint_shiftl|fact"><span>uint_shiftl</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.unat_arith_simps|fact"><span>unat_arith_simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Word_Lib.More_Word.html#More_Word.unat_power_lower|fact"><span>unat_power_lower</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.zero_less_nat_eq|fact"><span>zero_less_nat_eq</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Power.html#Power.power_class.power|const"><span>^</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="skolem"><span>ai</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Power.html#Power.power_class.power|const"><span>^</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="skolem"><span>bi</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_44395..44397"><span>le</span></a><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat_le_eq_zle|fact"><span>nat_le_eq_zle</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat_mult_distrib|fact"><span>nat_mult_distrib</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_43918..43920"><span>H'</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="skolem"><span>bi</span></span><span>›</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>ai</span></span></span><span class="main"><span>]</span></span><span>  </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_44395..44397"><span>le</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_44459..44460"><span>a</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_44494..44495"><span>b</span></a><span>
     </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.sint_uint|fact"><span>sint_uint</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word_size|fact"><span>word_size</span></a><span> </span><a class="entity_ref" href="Word_Lib.Bits_Int.html#Bits_Int.uint_shiftl|fact"><span>uint_shiftl</span></a><span> </span><a class="entity_ref" href="Word_Lib.Bits_Int.html#Bits_Int.sbintrunc_If|fact"><span>sbintrunc_If</span></a><span>
      </span><a class="entity_ref" href="Word_Lib.Bits_Int.html#Bits_Int.shiftl_int_def|fact"><span>shiftl_int_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat_def|fact"><span>max_snat_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_unat_def|fact"><span>max_unat_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><span>snat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.rel_def|fact"><span>snat.rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.br_def|fact"><span>br_def</span></a><span>
      </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.cnv_snat_to_uint|fact"><span>cnv_snat_to_uint</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat_power_eq|fact"><span>nat_power_eq</span></a><span> </span><a class="entity_ref" href="Bits_Natural.html#Bits_Natural.nat_shiftr_div|fact"><span>nat_shiftr_div</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="skolem"><span>ai</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Power.html#Power.power_class.power|const"><span>^</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="skolem"><span>bi</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Power.html#Power.power_class.power|const"><span>^</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat_less_eq_zless|fact"><span>nat_less_eq_zless</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat_mult_distrib|fact"><span>nat_mult_distrib</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_44395..44397"><span>le</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_44459..44460"><span>a</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_44494..44495"><span>b</span></a><span>
     </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><span>snat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.rel_def|fact"><span>snat.rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span class="main"><span>)</span></span><span> 
   </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.sint|const"><span>sint</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ai</span></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl|const"><span>&lt;&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="skolem"><span>bi</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="skolem"><span>ai</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Power.html#Power.power_class.power|const"><span>^</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="skolem"><span>bi</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_43918..43920"><span>H'</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="skolem"><span>bi</span></span><span>›</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>ai</span></span></span><span class="main"><span>]</span></span><span>  </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_44395..44397"><span>le</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_44459..44460"><span>a</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_44494..44495"><span>b</span></a><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.sint_uint|fact"><span>sint_uint</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word_size|fact"><span>word_size</span></a><span> </span><a class="entity_ref" href="Word_Lib.Bits_Int.html#Bits_Int.uint_shiftl|fact"><span>uint_shiftl</span></a><span> </span><a class="entity_ref" href="Word_Lib.Bits_Int.html#Bits_Int.sbintrunc_If|fact"><span>sbintrunc_If</span></a><span> </span><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl_def|fact"><span>shiftl_def</span></a><span>
      </span><a class="entity_ref" href="Word_Lib.Bits_Int.html#Bits_Int.shiftl_int_def|fact"><span>shiftl_int_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat_def|fact"><span>max_snat_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_unat_def|fact"><span>max_unat_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><span>snat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.rel_def|fact"><span>snat.rel_def</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Bit_Operations.html#Bit_Operations.semiring_bit_operations_class.push_bit_eq_mult|fact"><span>push_bit_eq_mult</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Bit_Operations.html#Bit_Operations.signed_take_bit_int_eq_self|fact"><span>signed_take_bit_int_eq_self</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><a class="entity_ref" href="Word_Lib.Most_significant_bit.html#Most_significant_bit.msb_class.msb|const"><span>msb</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ai</span></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl|const"><span>&lt;&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="skolem"><span>bi</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Bits_Natural.html#Bits_Natural.msb_shiftl_word|fact"><span>msb_shiftl_word</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_44395..44397"><span>le</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_45125..45128"><span>le'</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_44459..44460"><span>a</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_44494..44495"><span>b</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_44529..44534"><span>state</span></a><span>
     </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><span>snat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.rel_def|fact"><span>snat.rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.br_def|fact"><span>br_def</span></a><span>
     </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.br_def|fact"><span>br_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_def|fact"><span>snat_def</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_shl_def|fact"><span>ll_shl_def</span></a><span> </span><a class="entity_ref" href="Sep_Generic_Wp.html#Sep_Generic_Wp.wp_return|fact"><span>wp_return</span></a><span>
        </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.op_lift_arith2_def|fact"><span>op_lift_arith2_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Let_def|fact"><span>Let_def</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.shift_ovf_def|fact"><span>shift_ovf_def</span></a><span> </span><a class="entity_ref" href="LLVM_Integer.html#LLVM_Integer.word_to_lint_to_uint_conv|fact"><span>word_to_lint_to_uint_conv</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.bitSHL&apos;_def|fact"><span>bitSHL'_def</span></a><span>
        </span><a class="entity_ref" href="../../HOL/HOL/Euclidean_Rings.html#Euclidean_Rings.nat_div_distrib|fact"><span>nat_div_distrib</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat_power_eq|fact"><span>nat_power_eq</span></a><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift_merge_simps|fact"><span>pred_lift_merge_simps</span></a><span> </span><a class="entity_ref" href="Word_Lib.Most_significant_bit.html#Most_significant_bit.sint_eq_uint|fact"><span>sint_eq_uint</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat_def|fact"><span>max_snat_def</span></a><span>
          </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.cnv_snat_to_uint|fact"><span>cnv_snat_to_uint</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.rel_def|fact"><span>snat.rel_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_invar_def|fact"><span>snat_invar_def</span></a><span>
          </span><a class="entity_ref" href="LLVM_Simple_Memory_RS.html#LLVM_Simple_Memory_RS.POSTCOND_def|fact"><span>POSTCOND_def</span></a><span> </span><a class="entity_ref" href="LLVM_Simple_Memory_RS.html#LLVM_Simple_Memory_RS.STATE_extract|fact"><span>STATE_extract</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Word_Lib.Word_Lemmas.html#Word_Lemmas.shiftr_div_2n|fact"><span>shiftr_div_2n</span></a><span> 
       </span><a class="entity_ref" href="Word_Lib.Bits_Int.html#Bits_Int.uint_shiftl|fact"><span>uint_shiftl</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.exists_pure_conv|fact"><span>exists_pure_conv</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="LLVM_Simple_Memory_RS.html#LLVM_Simple_Memory_RS.wpa|const"><span>wpa</span></a><span> </span><span class="main"><span>(</span></span><span> </span><span class="skolem"><span>asf</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_shl|const"><span>ll_shl</span></a><span> </span><span class="skolem"><span>ai</span></span><span> </span><span class="skolem"><span>bi</span></span><span class="main"><span>)</span></span><span>
         </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.EXTRACT|const"><span>EXTRACT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="LLVM_Simple_Memory_RS.html#LLVM_Simple_Memory_RS.POSTCOND|const"><span>POSTCOND</span></a><span> </span><span class="skolem"><span>asf</span></span><span>
               </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift|const"><span>↑</span></a></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="skolem"><span>ai</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel|const"><span>snat_rel</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>∧*</span></a></span><span>
                 </span><span class="main"><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift|const"><span>↑</span></a></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="skolem"><span>bi</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel|const"><span>snat_rel</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>∧*</span></a></span><span>
                 </span><span class="main"><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift|const"><span>↑</span></a></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>∧*</span></a></span><span>
                 </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>s</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift|const"><span>↑</span></a></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>r</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel|const"><span>snat_rel</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>∧*</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift|const"><span>↑</span></a></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl|const"><span>&lt;&lt;</span></a></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
         </span><span class="skolem"><span>s</span></span><span>›</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_44395..44397"><span>le</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_44459..44460"><span>a</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_44494..44495"><span>b</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_44529..44534"><span>state</span></a><span>
     </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><span>snat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.rel_def|fact"><span>snat.rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.br_def|fact"><span>br_def</span></a><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.br_def|fact"><span>br_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_def|fact"><span>snat_def</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_shl_def|fact"><span>ll_shl_def</span></a><span> </span><a class="entity_ref" href="LLVM_Simple_Memory_RS.html#LLVM_Simple_Memory_RS.wpa_return|fact"><span>wpa_return</span></a><span>
        </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.op_lift_arith2_def|fact"><span>op_lift_arith2_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Let_def|fact"><span>Let_def</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.shift_ovf_def|fact"><span>shift_ovf_def</span></a><span> </span><a class="entity_ref" href="LLVM_Integer.html#LLVM_Integer.word_to_lint_to_uint_conv|fact"><span>word_to_lint_to_uint_conv</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.bitSHL&apos;_def|fact"><span>bitSHL'_def</span></a><span>
        </span><a class="entity_ref" href="../../HOL/HOL/Euclidean_Rings.html#Euclidean_Rings.nat_div_distrib|fact"><span>nat_div_distrib</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat_power_eq|fact"><span>nat_power_eq</span></a><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift_merge_simps|fact"><span>pred_lift_merge_simps</span></a><span> </span><a class="entity_ref" href="Word_Lib.Most_significant_bit.html#Most_significant_bit.sint_eq_uint|fact"><span>sint_eq_uint</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat_def|fact"><span>max_snat_def</span></a><span>
        </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.cnv_snat_to_uint|fact"><span>cnv_snat_to_uint</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.rel_def|fact"><span>snat.rel_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_invar_def|fact"><span>snat_invar_def</span></a><span>
      </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>flip</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="LLVM_Integer.html#LLVM_Integer.word_to_lint_shl|fact"><span>word_to_lint_shl</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.nat_uint_eq|fact"><span>nat_uint_eq</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp_all</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="LLVM_Simple_Memory_RS.html#LLVM_Simple_Memory_RS.POSTCOND_def|fact"><span>POSTCOND_def</span></a><span> </span><a class="entity_ref" href="LLVM_Simple_Memory_RS.html#LLVM_Simple_Memory_RS.STATE_extract|fact"><span>STATE_extract</span></a><span> </span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.EXTRACT_def|fact"><span>EXTRACT_def</span></a><span> </span><a class="entity_ref" href="Word_Lib.Word_Lemmas.html#Word_Lemmas.shiftr_div_2n|fact"><span>shiftr_div_2n</span></a><span> 
       </span><a class="entity_ref" href="Word_Lib.Bits_Int.html#Bits_Int.uint_shiftl|fact"><span>uint_shiftl</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.exists_pure_conv|fact"><span>exists_pure_conv</span></a><span> </span><span class="main"><span>)</span></span><span>
    
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.nat|const"><span>nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Bit_Operations.html#Bit_Operations.semiring_bit_operations_class.take_bit|const"><span>take_bit</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.size_class.size|const"><span>size</span></a><span> </span><span class="skolem"><span>ai</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.uint|const"><span>uint</span></a><span> </span><span class="skolem"><span>ai</span></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl|const"><span>&lt;&lt;</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.unat|const"><span>unat</span></a><span> </span><span class="skolem"><span>bi</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.unat|const"><span>unat</span></a><span> </span><span class="skolem"><span>ai</span></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl|const"><span>&lt;&lt;</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.unat|const"><span>unat</span></a><span> </span><span class="skolem"><span>bi</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.nat_uint_eq|fact"><span>nat_uint_eq</span></a><span> </span><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl_def|fact"><span>shiftl_def</span></a><span> </span><a class="entity_ref" href="Word_Lib.Bits_Int.html#Bits_Int.uint_shiftl|fact"><span>uint_shiftl</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.nat_uint_eq|fact"><span>nat_uint_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Bit_Operations.html#Bit_Operations.semiring_bit_operations_class.push_bit_eq_mult|fact"><span>push_bit_eq_mult</span></a><span> </span><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl_def|fact"><span>shiftl_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_in_bounds_aux|fact"><span>snat_in_bounds_aux</span></a><span> </span><a class="entity_ref" href="Word_Lib.Bits_Int.html#Bits_Int.uint_shiftl|fact"><span>uint_shiftl</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.unat_mult_lem|fact"><span>unat_mult_lem</span></a><span> </span><a class="entity_ref" href="Word_Lib.More_Word.html#More_Word.unat_power_lower|fact"><span>unat_power_lower</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.snat_init_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat_init_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat_init_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.snat_init|const"><span>snat_init</span></span></span><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.is_init_snat|fact"><span class="entity_def" id="Sepref_HOL_Bindings.is_init_snat|thm"><span>is_init_snat</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_gen_algo_rules|attribute"><span class="operator"><span>sepref_gen_algo_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.GEN_ALGO|const"><span>GEN_ALGO</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_init|const"><span>snat_init</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.is_init|const"><span>is_init</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn&apos;|const"><span>snat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.GEN_ALGO_def|fact"><span>GEN_ALGO_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_init_def|fact"><span>snat_init_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.is_init_def|fact"><span>is_init_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><span>snat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.rel_def|fact"><span>snat.rel_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_invar_0|fact"><span>snat_invar_0</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.is_init_snat0|fact"><span class="entity_def" id="Sepref_HOL_Bindings.is_init_snat0|thm"><span>is_init_snat0</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_gen_algo_rules|attribute"><span class="operator"><span>sepref_gen_algo_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.GEN_ALGO|const"><span>GEN_ALGO</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_const|const"><span>snat_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.is_init|const"><span>is_init</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn&apos;|const"><span>snat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.is_init_snat|fact"><span>is_init_snat</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span class="main"><span>=</span></span></span><span class="tfree"><span class="quoted"><span class="tfree"><span>'a</span></span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Ad-Hoc Method to Annotate Number Constructors›</span></span></span><span>  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.annot_num_const_cong|fact"><span class="entity_def" id="Sepref_HOL_Bindings.annot_num_const_cong(5)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.annot_num_const_cong(4)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.annot_num_const_cong(3)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.annot_num_const_cong(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.annot_num_const_cong(1)|thm"><span>annot_num_const_cong</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_const|const"><span>snat_const</span></a><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_const|const"><span>snat_const</span></a><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_const|const"><span>sint_const</span></a><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_const|const"><span>sint_const</span></a><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_const|const"><span>unat_const</span></a><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_const|const"><span>unat_const</span></a><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="free"><span>Φ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="free"><span>Φ</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.WHILEIT|const"><span>WHILEIT</span></a><span> </span><span class="free"><span>I</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.WHILEIT|const"><span>WHILEIT</span></a><span> </span><span class="free"><span>I</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.unat_const_fold|fact"><span class="entity_def" id="Sepref_HOL_Bindings.unat_const_fold(3)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.unat_const_fold(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.unat_const_fold(1)|thm"><span>unat_const_fold</span></span></span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_const|const"><span>unat_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_const|const"><span>unat_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_const|const"><span>unat_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.snat_const_fold|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat_const_fold(3)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat_const_fold(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat_const_fold(1)|thm"><span>snat_const_fold</span></span></span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_const|const"><span>snat_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_const|const"><span>snat_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_const|const"><span>snat_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.sint_const_fold|fact"><span class="entity_def" id="Sepref_HOL_Bindings.sint_const_fold(4)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.sint_const_fold(3)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.sint_const_fold(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.sint_const_fold(1)|thm"><span>sint_const_fold</span></span></span></span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_const|const"><span>sint_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_const|const"><span>sint_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_const|const"><span>sint_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_const|const"><span>sint_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_const|const"><span>sint_const</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>
  
    
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.hfref_absfun_convI|fact"><span class="entity_def" id="Sepref_HOL_Bindings.hfref_absfun_convI|thm"><span>hfref_absfun_convI</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.CNV|const"><span>CNV</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>g'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><span>,</span></span><span class="free"><span>g'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfref|const"><span>hfref</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>CP</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><span>,</span></span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfref|const"><span>hfref</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>CP</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.annot_sint_const.annot_sint_const|method"><span>method</span></span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.annot_sint_const|method"><span>annot_sint_const</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span> </span><span>itself</span><span>"</span></span></span><span> </span><span class="main"><span>=</span></span><span> 
  </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.hfref_absfun_convI|fact"><span>hfref_absfun_convI</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span>
  </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_const_fold|fact"><span>sint_const_fold</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="tfree"><span class="quoted"><span class="tfree"><span class="quoted"><span class="tfree"><span class="quoted"><span class="tfree"><span class="quoted"><span class="tfree"><span>'a</span></span></span></span></span></span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="quasi_keyword"><span>cong</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.annot_num_const_cong|fact"><span>annot_num_const_cong</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span>
  </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.CNV_I|fact"><span>CNV_I</span></a><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.annot_snat_const.annot_snat_const|method"><span>method</span></span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.annot_snat_const|method"><span>annot_snat_const</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span> </span><span>itself</span><span>"</span></span></span><span> </span><span class="main"><span>=</span></span><span> 
  </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.hfref_absfun_convI|fact"><span>hfref_absfun_convI</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span>
  </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_const_fold|fact"><span>snat_const_fold</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="tfree"><span class="quoted"><span class="tfree"><span class="quoted"><span class="tfree"><span class="quoted"><span class="tfree"><span>'a</span></span></span></span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="quasi_keyword"><span>cong</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.annot_num_const_cong|fact"><span>annot_num_const_cong</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span>
  </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.CNV_I|fact"><span>CNV_I</span></a><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.annot_unat_const.annot_unat_const|method"><span>method</span></span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.annot_unat_const|method"><span>annot_unat_const</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span> </span><span>itself</span><span>"</span></span></span><span> </span><span class="main"><span>=</span></span><span> 
  </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.hfref_absfun_convI|fact"><span>hfref_absfun_convI</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span>
  </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_const_fold|fact"><span>unat_const_fold</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="tfree"><span class="quoted"><span class="tfree"><span class="quoted"><span class="tfree"><span class="quoted"><span class="tfree"><span>'a</span></span></span></span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="quasi_keyword"><span>cong</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.annot_num_const_cong|fact"><span>annot_num_const_cong</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span>
  </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.CNV_I|fact"><span>CNV_I</span></a><span class="main"><span>)</span></span><span>
  
  
</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Casting›</span></span></span><span>  
</span><span class="comment1"><span>(* TODO: Add other casts *)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span> </span><span>itself</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.unat_snat_upcast_aux_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.unat_snat_upcast_aux_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.unat_snat_upcast_aux_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.unat_snat_upcast_aux.cong|fact"><span class="entity_def" id="Sepref_HOL_Bindings.unat_snat_upcast_aux.cong|thm"><span class="entity_def" id="Sepref_HOL_Bindings.unat_snat_upcast_aux|const"><span class="entity_def" id="offset_51520..51540">unat_snat_upcast_aux</span></span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>let</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>=</span></span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>in</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span>id</span></a><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>⇒</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span>"</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_upcast.fref&apos;|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_upcast.fref|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_snat_upcast.fref&apos;|fact"><span class="entity_def" id="Sepref_HOL_Bindings.pre_unat_snat_upcast.param|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_snat_upcast.fref|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_upcast.vcg|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_upcast.mcomb|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_upcast.arity|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_upcast.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_upcast_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.pre_unat_snat_upcast_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_snat_upcast.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_snat_upcast_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_upcast.fref&apos;|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_upcast.fref|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_snat_upcast.fref&apos;|thm"><span class="entity_def" id="Sepref_HOL_Bindings.pre_unat_snat_upcast.param|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_snat_upcast.fref|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_upcast.vcg(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_upcast.vcg(1)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_upcast.mcomb|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_upcast.arity|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_upcast.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_upcast_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.pre_unat_snat_upcast_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_snat_upcast.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_snat_upcast_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_upcast_def|axiom"><span class="entity_def" id="Sepref_HOL_Bindings.pre_unat_snat_upcast_def|axiom"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_snat_upcast_def|axiom"><span>sepref_decl_op</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_upcast_alt|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_upcast_def_pat|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_upcast.cong|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_snat_upcast_def_pat|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_snat_upcast.cong|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_upcast_alt|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_upcast_def_pat|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_upcast.cong|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_snat_upcast_def_pat|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_snat_upcast.cong|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_upcast|const"><span class="entity_def" id="Sepref_HOL_Bindings.pre_unat_snat_upcast|const"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_snat_upcast|const"><span>unat_snat_upcast</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_51520..51540"><span>unat_snat_upcast_aux</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.nat_rel|const"><span>nat_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.nat_rel|const"><span>nat_rel</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>  

</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span> </span><span>itself</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.snat_unat_downcast_aux_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat_unat_downcast_aux_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat_unat_downcast_aux_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.snat_unat_downcast_aux.cong|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat_unat_downcast_aux.cong|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat_unat_downcast_aux|const"><span class="entity_def" id="offset_51729..51751">snat_unat_downcast_aux</span></span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>let</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>=</span></span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>in</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span>id</span></a><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>⇒</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span>"</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_downcast.fref&apos;|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_downcast.fref|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_unat_downcast.fref&apos;|fact"><span class="entity_def" id="Sepref_HOL_Bindings.pre_snat_unat_downcast.param|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_unat_downcast.fref|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_downcast.vcg|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_downcast.mcomb|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_downcast.arity|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_downcast.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_downcast_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.pre_snat_unat_downcast_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_unat_downcast.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_unat_downcast_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_downcast.fref&apos;|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_downcast.fref|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_unat_downcast.fref&apos;|thm"><span class="entity_def" id="Sepref_HOL_Bindings.pre_snat_unat_downcast.param|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_unat_downcast.fref|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_downcast.vcg(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_downcast.vcg(1)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_downcast.mcomb|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_downcast.arity|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_downcast.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_downcast_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.pre_snat_unat_downcast_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_unat_downcast.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_unat_downcast_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_downcast_def|axiom"><span class="entity_def" id="Sepref_HOL_Bindings.pre_snat_unat_downcast_def|axiom"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_unat_downcast_def|axiom"><span>sepref_decl_op</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_downcast_alt|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_downcast_def_pat|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_downcast.cong|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_unat_downcast_def_pat|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_unat_downcast.cong|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_downcast_alt|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_downcast_def_pat|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_downcast.cong|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_unat_downcast_def_pat|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_unat_downcast.cong|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_downcast|const"><span class="entity_def" id="Sepref_HOL_Bindings.pre_snat_unat_downcast|const"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_unat_downcast|const"><span>snat_unat_downcast</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_51729..51751"><span>snat_unat_downcast_aux</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.nat_rel|const"><span>nat_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.nat_rel|const"><span>nat_rel</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>  

</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span> </span><span>itself</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.snat_snat_upcast_aux_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat_snat_upcast_aux_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat_snat_upcast_aux_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.snat_snat_upcast_aux.cong|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat_snat_upcast_aux.cong|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat_snat_upcast_aux|const"><span class="entity_def" id="offset_51945..51965">snat_snat_upcast_aux</span></span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>let</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>=</span></span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>in</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span>id</span></a><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>⇒</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span>"</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_upcast.fref&apos;|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_upcast.fref|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_snat_upcast.fref&apos;|fact"><span class="entity_def" id="Sepref_HOL_Bindings.pre_snat_snat_upcast.param|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_snat_upcast.fref|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_upcast.vcg|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_upcast.mcomb|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_upcast.arity|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_upcast.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_upcast_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.pre_snat_snat_upcast_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_snat_upcast.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_snat_upcast_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_upcast.fref&apos;|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_upcast.fref|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_snat_upcast.fref&apos;|thm"><span class="entity_def" id="Sepref_HOL_Bindings.pre_snat_snat_upcast.param|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_snat_upcast.fref|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_upcast.vcg(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_upcast.vcg(1)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_upcast.mcomb|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_upcast.arity|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_upcast.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_upcast_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.pre_snat_snat_upcast_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_snat_upcast.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_snat_upcast_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_upcast_def|axiom"><span class="entity_def" id="Sepref_HOL_Bindings.pre_snat_snat_upcast_def|axiom"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_snat_upcast_def|axiom"><span>sepref_decl_op</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_upcast_alt|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_upcast_def_pat|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_upcast.cong|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_snat_upcast_def_pat|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_snat_upcast.cong|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_upcast_alt|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_upcast_def_pat|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_upcast.cong|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_snat_upcast_def_pat|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_snat_upcast.cong|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_upcast|const"><span class="entity_def" id="Sepref_HOL_Bindings.pre_snat_snat_upcast|const"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_snat_upcast|const"><span>snat_snat_upcast</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_51945..51965"><span>snat_snat_upcast_aux</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.nat_rel|const"><span>nat_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.nat_rel|const"><span>nat_rel</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.snat_snat_downcast_aux_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat_snat_downcast_aux_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat_snat_downcast_aux_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.snat_snat_downcast_aux.cong|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat_snat_downcast_aux.cong|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat_snat_downcast_aux|const"><span class="entity_def" id="offset_52106..52128">snat_snat_downcast_aux</span></span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>let</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>=</span></span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>in</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span>id</span></a><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>⇒</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span>"</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_downcast.fref&apos;|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_downcast.fref|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_snat_downcast.fref&apos;|fact"><span class="entity_def" id="Sepref_HOL_Bindings.pre_snat_snat_downcast.param|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_snat_downcast.fref|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_downcast.vcg|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_downcast.mcomb|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_downcast.arity|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_downcast.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_downcast_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.pre_snat_snat_downcast_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_snat_downcast.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_snat_downcast_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_downcast.fref&apos;|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_downcast.fref|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_snat_downcast.fref&apos;|thm"><span class="entity_def" id="Sepref_HOL_Bindings.pre_snat_snat_downcast.param|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_snat_downcast.fref|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_downcast.vcg(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_downcast.vcg(1)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_downcast.mcomb|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_downcast.arity|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_downcast.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_downcast_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.pre_snat_snat_downcast_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_snat_downcast.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_snat_downcast_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_downcast_def|axiom"><span class="entity_def" id="Sepref_HOL_Bindings.pre_snat_snat_downcast_def|axiom"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_snat_downcast_def|axiom"><span>sepref_decl_op</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_downcast_alt|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_downcast_def_pat|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_downcast.cong|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_snat_downcast_def_pat|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_snat_downcast.cong|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_downcast_alt|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_downcast_def_pat|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_downcast.cong|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_snat_downcast_def_pat|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_snat_downcast.cong|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_snat_downcast|const"><span class="entity_def" id="Sepref_HOL_Bindings.pre_snat_snat_downcast|const"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_snat_downcast|const"><span>snat_snat_downcast</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_52106..52128"><span>snat_snat_downcast_aux</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.nat_rel|const"><span>nat_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.nat_rel|const"><span>nat_rel</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span> </span><span>itself</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.unat_unat_upcast_aux_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.unat_unat_upcast_aux_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.unat_unat_upcast_aux_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.unat_unat_upcast_aux.cong|fact"><span class="entity_def" id="Sepref_HOL_Bindings.unat_unat_upcast_aux.cong|thm"><span class="entity_def" id="Sepref_HOL_Bindings.unat_unat_upcast_aux|const"><span class="entity_def" id="offset_52322..52342">unat_unat_upcast_aux</span></span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>let</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>=</span></span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>in</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span>id</span></a><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>⇒</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.unat_unat_downcast_aux_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.unat_unat_downcast_aux_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.unat_unat_downcast_aux_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.unat_unat_downcast_aux.cong|fact"><span class="entity_def" id="Sepref_HOL_Bindings.unat_unat_downcast_aux.cong|thm"><span class="entity_def" id="Sepref_HOL_Bindings.unat_unat_downcast_aux|const"><span class="entity_def" id="offset_52398..52420">unat_unat_downcast_aux</span></span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>let</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>=</span></span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>in</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span>id</span></a><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>⇒</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span>"</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_upcast.fref&apos;|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_upcast.fref|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_unat_upcast.fref&apos;|fact"><span class="entity_def" id="Sepref_HOL_Bindings.pre_unat_unat_upcast.param|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_unat_upcast.fref|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_upcast.vcg|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_upcast.mcomb|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_upcast.arity|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_upcast.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_upcast_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.pre_unat_unat_upcast_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_unat_upcast.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_unat_upcast_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_upcast.fref&apos;|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_upcast.fref|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_unat_upcast.fref&apos;|thm"><span class="entity_def" id="Sepref_HOL_Bindings.pre_unat_unat_upcast.param|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_unat_upcast.fref|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_upcast.vcg(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_upcast.vcg(1)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_upcast.mcomb|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_upcast.arity|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_upcast.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_upcast_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.pre_unat_unat_upcast_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_unat_upcast.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_unat_upcast_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_upcast_def|axiom"><span class="entity_def" id="Sepref_HOL_Bindings.pre_unat_unat_upcast_def|axiom"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_unat_upcast_def|axiom"><span>sepref_decl_op</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_upcast_alt|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_upcast_def_pat|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_upcast.cong|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_unat_upcast_def_pat|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_unat_upcast.cong|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_upcast_alt|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_upcast_def_pat|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_upcast.cong|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_unat_upcast_def_pat|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_unat_upcast.cong|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_upcast|const"><span class="entity_def" id="Sepref_HOL_Bindings.pre_unat_unat_upcast|const"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_unat_upcast|const"><span>unat_unat_upcast</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_52322..52342"><span>unat_unat_upcast_aux</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.nat_rel|const"><span>nat_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.nat_rel|const"><span>nat_rel</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_downcast.fref&apos;|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_downcast.fref|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_unat_downcast.fref&apos;|fact"><span class="entity_def" id="Sepref_HOL_Bindings.pre_unat_unat_downcast.param|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_unat_downcast.fref|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_downcast.vcg|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_downcast.mcomb|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_downcast.arity|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_downcast.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_downcast_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.pre_unat_unat_downcast_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_unat_downcast.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_unat_downcast_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_downcast.fref&apos;|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_downcast.fref|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_unat_downcast.fref&apos;|thm"><span class="entity_def" id="Sepref_HOL_Bindings.pre_unat_unat_downcast.param|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_unat_downcast.fref|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_downcast.vcg(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_downcast.vcg(1)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_downcast.mcomb|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_downcast.arity|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_downcast.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_downcast_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.pre_unat_unat_downcast_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_unat_downcast.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_unat_downcast_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_downcast_def|axiom"><span class="entity_def" id="Sepref_HOL_Bindings.pre_unat_unat_downcast_def|axiom"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_unat_downcast_def|axiom"><span>sepref_decl_op</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_downcast_alt|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_downcast_def_pat|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_downcast.cong|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_unat_downcast_def_pat|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_unat_downcast.cong|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_downcast_alt|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_downcast_def_pat|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_downcast.cong|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_unat_downcast_def_pat|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_unat_downcast.cong|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_unat_downcast|const"><span class="entity_def" id="Sepref_HOL_Bindings.pre_unat_unat_downcast|const"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_unat_downcast|const"><span>unat_unat_downcast</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_52398..52420"><span>unat_unat_downcast_aux</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.nat_rel|const"><span>nat_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.nat_rel|const"><span>nat_rel</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_conv.fref&apos;|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_conv.fref|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_snat_conv.fref&apos;|fact"><span class="entity_def" id="Sepref_HOL_Bindings.pre_unat_snat_conv.param|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_snat_conv.fref|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_conv.vcg|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_conv.mcomb|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_conv.arity|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_conv.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_conv_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.pre_unat_snat_conv_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_snat_conv.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_snat_conv_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_conv.fref&apos;|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_conv.fref|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_snat_conv.fref&apos;|thm"><span class="entity_def" id="Sepref_HOL_Bindings.pre_unat_snat_conv.param|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_snat_conv.fref|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_conv.vcg(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_conv.vcg(1)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_conv.mcomb|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_conv.arity|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_conv.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_conv_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.pre_unat_snat_conv_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_snat_conv.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_snat_conv_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_conv_def|axiom"><span class="entity_def" id="Sepref_HOL_Bindings.pre_unat_snat_conv_def|axiom"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_snat_conv_def|axiom"><span>sepref_decl_op</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_conv_alt|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_conv_alt|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_unat_snat_conv|const"><span class="entity_def" id="Sepref_HOL_Bindings.pre_unat_snat_conv|const"><span class="entity_def" id="Sepref_HOL_Bindings.op_unat_snat_conv|const"><span>unat_snat_conv</span></span></span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span>id</span></a><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>⇒</span></span><span class="main"><span>_</span></span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.nat_rel|const"><span>nat_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.nat_rel|const"><span>nat_rel</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_conv.fref&apos;|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_conv.fref|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_unat_conv.fref&apos;|fact"><span class="entity_def" id="Sepref_HOL_Bindings.pre_snat_unat_conv.param|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_unat_conv.fref|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_conv.vcg|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_conv.mcomb|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_conv.arity|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_conv.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_conv_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.pre_snat_unat_conv_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_unat_conv.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_unat_conv_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_conv.fref&apos;|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_conv.fref|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_unat_conv.fref&apos;|thm"><span class="entity_def" id="Sepref_HOL_Bindings.pre_snat_unat_conv.param|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_unat_conv.fref|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_conv.vcg(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_conv.vcg(1)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_conv.mcomb|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_conv.arity|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_conv.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_conv_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.pre_snat_unat_conv_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_unat_conv.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_unat_conv_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_conv_def|axiom"><span class="entity_def" id="Sepref_HOL_Bindings.pre_snat_unat_conv_def|axiom"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_unat_conv_def|axiom"><span>sepref_decl_op</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_conv_alt|fact"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_conv_alt|thm"><span class="entity_def" id="Sepref_HOL_Bindings.mop_snat_unat_conv|const"><span class="entity_def" id="Sepref_HOL_Bindings.pre_snat_unat_conv|const"><span class="entity_def" id="Sepref_HOL_Bindings.op_snat_unat_conv|const"><span>snat_unat_conv</span></span></span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span>id</span></a><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>⇒</span></span><span class="main"><span>_</span></span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.nat_rel|const"><span>nat_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.nat_rel|const"><span>nat_rel</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.annot_unat_snat_upcast|fact"><span class="entity_def" id="Sepref_HOL_Bindings.annot_unat_snat_upcast|thm"><span>annot_unat_snat_upcast</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_unat_snat_upcast|const"><span>op_unat_snat_upcast</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> 
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.annot_snat_unat_downcast|fact"><span class="entity_def" id="Sepref_HOL_Bindings.annot_snat_unat_downcast|thm"><span>annot_snat_unat_downcast</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_snat_unat_downcast|const"><span>op_snat_unat_downcast</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> 
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.annot_snat_snat_upcast|fact"><span class="entity_def" id="Sepref_HOL_Bindings.annot_snat_snat_upcast|thm"><span>annot_snat_snat_upcast</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_snat_snat_upcast|const"><span>op_snat_snat_upcast</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> 
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.annot_snat_snat_downcast|fact"><span class="entity_def" id="Sepref_HOL_Bindings.annot_snat_snat_downcast|thm"><span>annot_snat_snat_downcast</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_snat_snat_downcast|const"><span>op_snat_snat_downcast</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> 
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.annot_unat_snat_conv|fact"><span class="entity_def" id="Sepref_HOL_Bindings.annot_unat_snat_conv|thm"><span>annot_unat_snat_conv</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_unat_snat_conv|const"><span>op_unat_snat_conv</span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> 
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.annot_unat_unat_upcast|fact"><span class="entity_def" id="Sepref_HOL_Bindings.annot_unat_unat_upcast|thm"><span>annot_unat_unat_upcast</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_unat_unat_upcast|const"><span>op_unat_unat_upcast</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> 
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.annot_unat_unat_downcast|fact"><span class="entity_def" id="Sepref_HOL_Bindings.annot_unat_unat_downcast|thm"><span>annot_unat_unat_downcast</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_unat_unat_downcast|const"><span>op_unat_unat_downcast</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> 
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.annot_snat_unat_conv|fact"><span class="entity_def" id="Sepref_HOL_Bindings.annot_snat_unat_conv|thm"><span>annot_snat_unat_conv</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_snat_unat_conv|const"><span>op_snat_unat_conv</span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>  

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.in_unat_rel_conv_assn|fact"><span class="entity_def" id="Sepref_HOL_Bindings.in_unat_rel_conv_assn|thm"><span>in_unat_rel_conv_assn</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift|const"><span>↑</span></a></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span>xi</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel|const"><span>unat_rel</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="LLVM_Shallow_RS.html#LLVM_Shallow_RS.dr_assn_prefix|const"><span>↿</span></a></span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.unat.assn|const"><span>unat.assn</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>xi</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel_def|fact"><span>unat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat.assn_is_rel|fact"><span>unat.assn_is_rel</span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.pure_app_eq|fact"><span>pure_app_eq</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.in_snat_rel_conv_assn|fact"><span class="entity_def" id="Sepref_HOL_Bindings.in_snat_rel_conv_assn|thm"><span>in_snat_rel_conv_assn</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift|const"><span>↑</span></a></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span>xi</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel|const"><span>snat_rel</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="LLVM_Shallow_RS.html#LLVM_Shallow_RS.dr_assn_prefix|const"><span>↿</span></a></span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat.assn|const"><span>snat.assn</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>xi</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><span>snat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.assn_is_rel|fact"><span>snat.assn_is_rel</span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.pure_app_eq|fact"><span>pure_app_eq</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>BIG</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'big</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>SMALL</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'small</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.unat_snat_upcast_refine|fact"><span class="entity_def" id="Sepref_HOL_Bindings.unat_snat_upcast_refine|thm"><span class="entity_def" id="offset_53738..53761">unat_snat_upcast_refine</span></span></span><span class="main"><span>:</span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.unat_snat_upcast|const"><span>unat_snat_upcast</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'big</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.mop_unat_snat_upcast|const"><span>mop_unat_snat_upcast</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'big</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="LLVM_Integer.html#LLVM_Integer.is_up&apos;|const"><span>is_up'</span></a><span> </span><span class="keyword1"><span>UCAST</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'small</span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="tfree"><span>'big</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn&apos;|const"><span>unat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'small</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.in_unat_rel_conv_assn|fact"><span>in_unat_rel_conv_assn</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.in_snat_rel_conv_assn|fact"><span>in_snat_rel_conv_assn</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg&apos;|method"><span class="operator"><span>vcg'</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>sepref_decl_impl</span></span></span><span> </span><span class="main"><span>(</span></span><span>ismop</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_53738..53761"><span>unat_snat_upcast_refine</span></a><span> </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="tfree"><span class="quoted"><span class="tfree"><span>'big</span></span></span></span><span> </span><span class="tfree"><span class="quoted"><span class="tfree"><span>'small</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.snat_unat_downcast_refine|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat_unat_downcast_refine|thm"><span class="entity_def" id="offset_54150..54175">snat_unat_downcast_refine</span></span></span><span class="main"><span>:</span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_unat_downcast|const"><span>snat_unat_downcast</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'small</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.mop_snat_unat_downcast|const"><span>mop_snat_unat_downcast</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'small</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> 
      </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="LLVM_Integer.html#LLVM_Integer.is_down&apos;|const"><span>is_down'</span></a><span> </span><span class="keyword1"><span>UCAST</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'big</span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="tfree"><span>'small</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_unat|const"><span>max_unat</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'small</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn&apos;|const"><span>snat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'big</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.in_unat_rel_conv_assn|fact"><span>in_unat_rel_conv_assn</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.in_snat_rel_conv_assn|fact"><span>in_snat_rel_conv_assn</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg&apos;|method"><span class="operator"><span>vcg'</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>sepref_decl_impl</span></span></span><span> </span><span class="main"><span>(</span></span><span>ismop</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_54150..54175"><span>snat_unat_downcast_refine</span></a><span> </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="tfree"><span class="quoted"><span class="tfree"><span>'big</span></span></span></span><span> </span><span class="tfree"><span class="quoted"><span class="tfree"><span>'small</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>BIG</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'big</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>SMALL</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'small</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.snat_snat_upcast_refine|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat_snat_upcast_refine|thm"><span class="entity_def" id="offset_54661..54684">snat_snat_upcast_refine</span></span></span><span class="main"><span>:</span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_snat_upcast|const"><span>snat_snat_upcast</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'big</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.mop_snat_snat_upcast|const"><span>mop_snat_snat_upcast</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'big</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="LLVM_Integer.html#LLVM_Integer.is_up&apos;|const"><span>is_up'</span></a><span> </span><span class="keyword1"><span>UCAST</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'small</span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="tfree"><span>'big</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn&apos;|const"><span>snat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'small</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.in_unat_rel_conv_assn|fact"><span>in_unat_rel_conv_assn</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.in_snat_rel_conv_assn|fact"><span>in_snat_rel_conv_assn</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg&apos;|method"><span class="operator"><span>vcg'</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>sepref_decl_impl</span></span></span><span> </span><span class="main"><span>(</span></span><span>ismop</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_54661..54684"><span>snat_snat_upcast_refine</span></a><span> </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="tfree"><span class="quoted"><span class="tfree"><span>'big</span></span></span></span><span> </span><span class="tfree"><span class="quoted"><span class="tfree"><span>'small</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.snat_snat_downcast_refine|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat_snat_downcast_refine|thm"><span class="entity_def" id="offset_55071..55096">snat_snat_downcast_refine</span></span></span><span class="main"><span>:</span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_snat_downcast|const"><span>snat_snat_downcast</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'small</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.mop_snat_snat_downcast|const"><span>mop_snat_snat_downcast</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'small</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> 
      </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="LLVM_Integer.html#LLVM_Integer.is_down&apos;|const"><span>is_down'</span></a><span> </span><span class="keyword1"><span>UCAST</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'big</span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="tfree"><span>'small</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat|const"><span>max_snat</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'small</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn&apos;|const"><span>snat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'big</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.in_unat_rel_conv_assn|fact"><span>in_unat_rel_conv_assn</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.in_snat_rel_conv_assn|fact"><span>in_snat_rel_conv_assn</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg&apos;|method"><span class="operator"><span>vcg'</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>sepref_decl_impl</span></span></span><span> </span><span class="main"><span>(</span></span><span>ismop</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_55071..55096"><span>snat_snat_downcast_refine</span></a><span> </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="tfree"><span class="quoted"><span class="tfree"><span>'big</span></span></span></span><span> </span><span class="tfree"><span class="quoted"><span class="tfree"><span>'small</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>BIG</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'big</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>SMALL</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'small</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.unat_unat_upcast_refine|fact"><span class="entity_def" id="Sepref_HOL_Bindings.unat_unat_upcast_refine|thm"><span class="entity_def" id="offset_55583..55606">unat_unat_upcast_refine</span></span></span><span class="main"><span>:</span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.unat_unat_upcast|const"><span>unat_unat_upcast</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'big</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.mop_unat_unat_upcast|const"><span>mop_unat_unat_upcast</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'big</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="LLVM_Integer.html#LLVM_Integer.is_up&apos;|const"><span>is_up'</span></a><span> </span><span class="keyword1"><span>UCAST</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'small</span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="tfree"><span>'big</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn&apos;|const"><span>unat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'small</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.in_unat_rel_conv_assn|fact"><span>in_unat_rel_conv_assn</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg&apos;|method"><span class="operator"><span>vcg'</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>sepref_decl_impl</span></span></span><span> </span><span class="main"><span>(</span></span><span>ismop</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_55583..55606"><span>unat_unat_upcast_refine</span></a><span> </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="tfree"><span class="quoted"><span class="tfree"><span>'big</span></span></span></span><span> </span><span class="tfree"><span class="quoted"><span class="tfree"><span>'small</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.unat_unat_downcast_refine|fact"><span class="entity_def" id="Sepref_HOL_Bindings.unat_unat_downcast_refine|thm"><span class="entity_def" id="offset_55958..55983">unat_unat_downcast_refine</span></span></span><span class="main"><span>:</span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.unat_unat_downcast|const"><span>unat_unat_downcast</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'small</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.mop_unat_unat_downcast|const"><span>mop_unat_unat_downcast</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'small</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> 
      </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="LLVM_Integer.html#LLVM_Integer.is_down&apos;|const"><span>is_down'</span></a><span> </span><span class="keyword1"><span>UCAST</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'big</span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="tfree"><span>'small</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_unat|const"><span>max_unat</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'small</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn&apos;|const"><span>unat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'big</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.in_unat_rel_conv_assn|fact"><span>in_unat_rel_conv_assn</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg&apos;|method"><span class="operator"><span>vcg'</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>sepref_decl_impl</span></span></span><span> </span><span class="main"><span>(</span></span><span>ismop</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_55958..55983"><span>unat_unat_downcast_refine</span></a><span> </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="tfree"><span class="quoted"><span class="tfree"><span>'big</span></span></span></span><span> </span><span class="tfree"><span class="quoted"><span class="tfree"><span>'small</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

  
</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'l</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.unat_snat_conv_refine|fact"><span class="entity_def" id="Sepref_HOL_Bindings.unat_snat_conv_refine|thm"><span class="entity_def" id="offset_56419..56440">unat_snat_conv_refine</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_unat_snat_conv|const"><span>op_unat_snat_conv</span></a><span class="main"><span>)</span></span><span> 
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.frefnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat|const"><span>max_snat</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.frefnd|const"><span>]<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel&apos;|const"><span>unat_rel'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.frefnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel&apos;|const"><span>snat_rel'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> 
      </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.frefI|fact"><span>frefI</span></a><span> 
      </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><span>snat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel_def|fact"><span>unat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.rel_def|fact"><span>snat.rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat.rel_def|fact"><span>unat.rel_def</span></a><span>
      </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat_def|fact"><span>max_snat_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_invar_alt|fact"><span>snat_invar_alt</span></a><span>
      </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_eq_unat|fact"><span>snat_eq_unat</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span>
      </span><span class="main"><span>)</span></span><span>
      
  </span><span class="keyword1"><span class="command"><span>sepref_decl_impl</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_56419..56440"><span>unat_snat_conv_refine</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_param|attribute"><span class="operator"><span>sepref_param</span></span></a><span class="main"><span>]</span></span><span> </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="tfree"><span class="quoted"><span class="tfree"><span>'l</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.snat_unat_conv_refine|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat_unat_conv_refine|thm"><span class="entity_def" id="offset_56831..56852">snat_unat_conv_refine</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_snat_unat_conv|const"><span>op_snat_unat_conv</span></a><span class="main"><span>)</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel&apos;|const"><span>snat_rel'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel&apos;|const"><span>unat_rel'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
      </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.frefI|fact"><span>frefI</span></a><span>
      </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><span>snat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel_def|fact"><span>unat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.rel_def|fact"><span>snat.rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat.rel_def|fact"><span>unat.rel_def</span></a><span>
      </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat_def|fact"><span>max_snat_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_invar_alt|fact"><span>snat_invar_alt</span></a><span>
      </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_eq_unat|fact"><span>snat_eq_unat</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span>
      </span><span class="main"><span>)</span></span><span>

  </span><span class="keyword1"><span class="command"><span>sepref_decl_impl</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_56831..56852"><span>snat_unat_conv_refine</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_param|attribute"><span class="operator"><span>sepref_param</span></span></a><span class="main"><span>]</span></span><span> </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="tfree"><span class="quoted"><span class="tfree"><span>'l</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Converting to Word›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.of_nat.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.of_nat.itype|thm"><span>sepref_register</span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.semiring_1_class.of_nat|const"><span>of_nat</span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> "</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.of_nat_word_refine|fact"><span class="entity_def" id="Sepref_HOL_Bindings.of_nat_word_refine|thm"><span>of_nat_word_refine</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_import_param|attribute"><span class="operator"><span>sepref_import_param</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span>id</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.semiring_1_class.of_nat|const"><span>of_nat</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel&apos;|const"><span>unat_rel'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_rel|const"><span>word_rel</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel_def|fact"><span>unat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat.rel_def|fact"><span>unat.rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span class="main"><span>)</span></span><span>



</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Bit-Shifting›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.ashr_word.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.lshr_word.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.shl_word.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.ashr_word.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.lshr_word.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.shl_word.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span><span> 
  shl_word</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl|const"><span>(&lt;&lt;)</span></a></span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>  
  lshr_word</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftr|const"><span>(&gt;&gt;)</span></a></span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>  
  ashr_word</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.sshiftr|const"><span>(&gt;&gt;&gt;)</span></a></span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>  

</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>interpretation</span></span></span><span> </span><a class="entity_ref" href="LLVM_Shallow_RS.html#LLVM_Shallow_RS.llvm_prim_arith_setup|locale"><span>llvm_prim_arith_setup</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.shl_hnr_unat|fact"><span class="entity_def" id="Sepref_HOL_Bindings.shl_hnr_unat|thm"><span>shl_hnr_unat</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_shl|const"><span>ll_shl</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>oo</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl|const"><span>(&lt;&lt;)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel_def|fact"><span>unat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat.assn_is_rel|fact"><span>unat.assn_is_rel</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.unat.assn_def|fact"><span>unat.assn_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg&apos;|method"><span class="operator"><span>vcg'</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.lshr_hnr_unat|fact"><span class="entity_def" id="Sepref_HOL_Bindings.lshr_hnr_unat|thm"><span>lshr_hnr_unat</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_lshr|const"><span>ll_lshr</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>oo</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftr|const"><span>(&gt;&gt;)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel_def|fact"><span>unat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat.assn_is_rel|fact"><span>unat.assn_is_rel</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.unat.assn_def|fact"><span>unat.assn_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg&apos;|method"><span class="operator"><span>vcg'</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.ashr_hnr_unat|fact"><span class="entity_def" id="Sepref_HOL_Bindings.ashr_hnr_unat|thm"><span>ashr_hnr_unat</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_ashr|const"><span>ll_ashr</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>oo</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.sshiftr|const"><span>(&gt;&gt;&gt;)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_assn|const"><span>unat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel_def|fact"><span>unat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat.assn_is_rel|fact"><span>unat.assn_is_rel</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.unat.assn_def|fact"><span>unat.assn_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg&apos;|method"><span class="operator"><span>vcg'</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.shl_hnr_snat|fact"><span class="entity_def" id="Sepref_HOL_Bindings.shl_hnr_snat|thm"><span>shl_hnr_snat</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_shl|const"><span>ll_shl</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>oo</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl|const"><span>(&lt;&lt;)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><span>snat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.assn_is_rel|fact"><span>snat.assn_is_rel</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat.assn_def|fact"><span>snat.assn_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_eq_unat|fact"><span>snat_eq_unat</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg&apos;|method"><span class="operator"><span>vcg'</span></span></a><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.lshr_hnr_snat|fact"><span class="entity_def" id="Sepref_HOL_Bindings.lshr_hnr_snat|thm"><span>lshr_hnr_snat</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_lshr|const"><span>ll_lshr</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>oo</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftr|const"><span>(&gt;&gt;)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><span>snat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.assn_is_rel|fact"><span>snat.assn_is_rel</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat.assn_def|fact"><span>snat.assn_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_eq_unat|fact"><span>snat_eq_unat</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg&apos;|method"><span class="operator"><span>vcg'</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.ashr_hnr_snat|fact"><span class="entity_def" id="Sepref_HOL_Bindings.ashr_hnr_snat|thm"><span>ashr_hnr_snat</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_ashr|const"><span>ll_ashr</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>oo</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.sshiftr|const"><span>(&gt;&gt;&gt;)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><span>snat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.assn_is_rel|fact"><span>snat.assn_is_rel</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat.assn_def|fact"><span>snat.assn_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_eq_unat|fact"><span>snat_eq_unat</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg&apos;|method"><span class="operator"><span>vcg'</span></span></a><span>
  
      
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Bounds Solver Setup›</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.in_unat_rel_boundsD|fact"><span class="entity_def" id="Sepref_HOL_Bindings.in_unat_rel_boundsD|thm"><span>in_unat_rel_boundsD</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_bounds_dest|attribute"><span class="operator"><span>sepref_bounds_dest</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel&apos;|const"><span>unat_rel'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_unat|const"><span>max_unat</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat_rel_def|fact"><span>unat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.unat.rel_def|fact"><span>unat.rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span class="main"><span>)</span></span><span>

</span><span class="comment1"><span>(*lemma snat_rel_imp_less_max_snat: 
  "⟦(x,n)∈snat_rel' TYPE('l::len2); L = LENGTH('l)⟧ ⟹ n&lt;max_snat L"
  by (auto simp: snat_rel_def snat.rel_def in_br_conv)
*)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.in_snat_rel_boundsD|fact"><span class="entity_def" id="Sepref_HOL_Bindings.in_snat_rel_boundsD|thm"><span>in_snat_rel_boundsD</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_bounds_dest|attribute"><span class="operator"><span>sepref_bounds_dest</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel&apos;|const"><span>snat_rel'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat|const"><span>max_snat</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><span>snat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.rel_def|fact"><span>snat.rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.in_sint_rel_boundsD|fact"><span class="entity_def" id="Sepref_HOL_Bindings.in_sint_rel_boundsD|thm"><span>in_sint_rel_boundsD</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_bounds_dest|attribute"><span class="operator"><span>sepref_bounds_dest</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span class="main"><span>,</span></span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_rel&apos;|const"><span>sint_rel'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.min_sint|const"><span>min_sint</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_sint|const"><span>max_sint</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_rel_def|fact"><span>sint_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint.rel_def|fact"><span>sint.rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_bounds_simps|attribute"><span class="operator"><span>sepref_bounds_simps</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat_def|fact"><span>max_snat_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_unat_def|fact"><span>max_unat_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_sint_def|fact"><span>max_sint_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.min_sint_def|fact"><span>min_sint_def</span></a><span>
  
</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Default Inlinings›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_def|fact"><span>id_def</span></a><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹HOL Combinators›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹If›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.CP_simp_join_triv|fact"><span class="entity_def" id="Sepref_HOL_Bindings.CP_simp_join_triv|thm"><span>CP_simp_join_triv</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Conc_Post.html#Sepref_Conc_Post.CP_simplify|const"><span>CP_simplify</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Conc_Post.html#Sepref_Conc_Post.CP_JOIN|const"><span>CP_JOIN</span></a><span> </span><span class="free"><span>CP<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>CP<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>CP<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="free"><span>CP<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_Conc_Post.html#Sepref_Conc_Post.CP_defs|fact"><span class="dynamic"><span class="dynamic"><span>CP_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.hn_if_aux|fact"><span class="entity_def" id="Sepref_HOL_Bindings.hn_if_aux|thm"><span>hn_if_aux</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_60452..60453">P</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_val|const"><span>hn_val</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel|const"><span>bool1_rel</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>a'</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ1</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_60499..60501">RT</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_val|const"><span>hn_val</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel|const"><span>bool1_rel</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>a'</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ1</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b'</span></span><span> </span><span class="free"><span>Γ2b</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>CP<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_60575..60577">RE</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="free"><span>a</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_val|const"><span>hn_val</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel|const"><span>bool1_rel</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>a'</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ1</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>c'</span></span><span> </span><span class="free"><span>Γ2c</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>CP<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_60652..60657">MERGE</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MERGE|const"><span>MERGE</span></a><span> </span><span class="free"><span>Γ2b</span></span><span> </span><span class="free"><span>fb</span></span><span> </span><span class="free"><span>Γ2c</span></span><span> </span><span class="free"><span>fc</span></span><span> </span><span class="free"><span>Γ'</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_60694..60701">CP_JOIN</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Conc_Post.html#Sepref_Conc_Post.CP_simplify|const"><span>CP_simplify</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Conc_Post.html#Sepref_Conc_Post.CP_JOIN|const"><span>CP_JOIN</span></a><span> </span><span class="free"><span>CP<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>CP<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>CP'</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span> </span><span class="free"><span>Γ</span></span><span> 
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.llc_if|const"><span>llc_if</span></a><span> </span><span class="free"><span>a'</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>doM</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>r</span></span><span class="main"><span>←</span></span><span class="free"><span>b'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>fb</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a><span> </span><span class="bound"><span>r</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>doM</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>r</span></span><span class="main"><span>←</span></span><span class="free"><span>c'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>fc</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a><span> </span><span class="bound"><span>r</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> 
    </span><span class="free"><span>Γ'</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>CP'</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine_nofailI|fact"><span>hn_refine_nofailI</span></a><span class="main"><span>)</span></span><span>  
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine_cons_pre|fact"><span>hn_refine_cons_pre</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_60452..60453"><span>P</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>a</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>goal_cases</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_60983..60985">NF</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nofail|const"><span>nofail</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg_normalize_simps|attribute"><span class="operator"><span>vcg_normalize_simps</span></span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="USER_HOME/devel/isabelle/lrat_isa/isabelle_llvm/thys/lib/named_simpsets.ML.html#Named_Simpsets.named_ss|attribute"><span class="operator"><span>named_ss</span></span></a><span> </span><span>fri_prepare_simps</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_val|const"><span>hn_val</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel|const"><span>bool1_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="LLVM_Shallow_RS.html#LLVM_Shallow_RS.dr_assn_prefix|const"><span>↿</span></a></span><a class="entity_ref" href="LLVM_Shallow_RS.html#LLVM_Shallow_RS.bool.assn|const"><span>bool.assn</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel_def|fact"><span>bool1_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool.assn_is_rel|fact"><span>bool.assn_is_rel</span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt_def|fact"><span>hn_ctxt_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg_rules|attribute"><span class="operator"><span>vcg_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MERGED|fact"><span>MERGED</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_60652..60657"><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_60652..60657"><span>MERGE</span></a></a><span class="main"><span>]</span></span><span>  
    
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_60694..60701"><span>CP_JOIN</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>CP<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>CP'</span></span><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>CP<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>CP'</span></span><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>r</span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_Conc_Post.html#Sepref_Conc_Post.CP_defs|fact"><span class="dynamic"><span class="dynamic"><span>CP_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span>1</span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_60983..60985"><span>NF</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nofail|const"><span>nofail</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  
    </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg_rules|attribute"><span class="operator"><span>vcg_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_60499..60501"><span>RT</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refineD|fact"><span>hn_refineD</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span>
  
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg|method"><span class="operator"><span>vcg</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span>2</span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_60983..60985"><span>NF</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nofail|const"><span>nofail</span></a><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  
    </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg_rules|attribute"><span class="operator"><span>vcg_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_60575..60577"><span>RE</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refineD|fact"><span>hn_refineD</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span>
  
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg|method"><span class="operator"><span>vcg</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>}</span></span></span><span>  
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>    


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.hn_if|fact"><span class="entity_def" id="Sepref_HOL_Bindings.hn_if|thm"><span>hn_if</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_comb_rules|attribute"><span class="operator"><span>sepref_comb_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_61704..61705">P</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_val|const"><span>hn_val</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel|const"><span>bool1_rel</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>a'</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ1</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_61751..61753">RT</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_val|const"><span>hn_val</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel|const"><span>bool1_rel</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>a'</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ1</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b'</span></span><span> </span><span class="free"><span>Γ2b</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>CP<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_61827..61829">RE</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="free"><span>a</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_val|const"><span>hn_val</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel|const"><span>bool1_rel</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>a'</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ1</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>c'</span></span><span> </span><span class="free"><span>Γ2c</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>CP<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_61904..61909">MERGE</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>TERM</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>If</span></a><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MERGE|const"><span>MERGE</span></a><span> </span><span class="free"><span>Γ2b</span></span><span> </span><span class="free"><span>fb</span></span><span> </span><span class="free"><span>Γ2c</span></span><span> </span><span class="free"><span>fc</span></span><span> </span><span class="free"><span>Γ'</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_61956..61963">CP_JOIN</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Conc_Post.html#Sepref_Conc_Post.CP_simplify|const"><span>CP_simplify</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Conc_Post.html#Sepref_Conc_Post.CP_JOIN|const"><span>CP_JOIN</span></a><span> </span><span class="free"><span>CP<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>CP<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>CP'</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span> </span><span class="free"><span>Γ</span></span><span> 
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.llc_if|const"><span>llc_if</span></a><span> </span><span class="free"><span>a'</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>doM</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>r</span></span><span class="main"><span>←</span></span><span class="free"><span>b'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>fb</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a><span> </span><span class="bound"><span>r</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>doM</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>r</span></span><span class="main"><span>←</span></span><span class="free"><span>c'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>fc</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a><span> </span><span class="bound"><span>r</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> 
    </span><span class="free"><span>Γ'</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>CP'</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>If</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>b</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_61704..61705"><span>P</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_61751..61753"><span>RT</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_61827..61829"><span>RE</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_61904..61909"><span>MERGE</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.TERMI|fact"><span>TERMI</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_61956..61963"><span>CP_JOIN</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP_def|fact"><span>APP_def</span></a><span> </span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PROTECT2_def|fact"><span>PROTECT2_def</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.hn_if_aux|fact"><span>hn_if_aux</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹While›</span></span></span><span>  
</span><span class="comment1"><span>(* TODO: Move WHILE-stuff to HOL-Bindings Theory *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.WHILEIT_pat|fact"><span class="entity_def" id="Sepref_HOL_Bindings.WHILEIT_pat(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.WHILEIT_pat(1)|thm"><span>WHILEIT_pat</span></span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.def_pat_rules|attribute"><span class="operator"><span>def_pat_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.WHILEIT|const"><span>WHILEIT</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>I</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.UNPROTECT|const"><span>UNPROTECT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.WHILEIT|const"><span>WHILEIT</span></a><span> </span><span class="free"><span>I</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.WHILET|const"><span>WHILET</span></a><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.WHILEIT|const"><span>WHILEIT</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp_all</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.while.WHILET_def|fact"><span>WHILET_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.id_WHILEIT|fact"><span class="entity_def" id="Sepref_HOL_Bindings.id_WHILEIT|thm"><span>id_WHILEIT</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.id_rules|attribute"><span class="operator"><span>id_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.WHILEIT|const"><span>WHILEIT</span></a><span> </span><span class="free"><span>I</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.intf_type|const"><span>::<span class="hidden">⇩</span><sub>i</sub></span></a></span><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres|type"><span>nres</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres|type"><span>nres</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.WHILE_arities|fact"><span class="entity_def" id="Sepref_HOL_Bindings.WHILE_arities|thm"><span>WHILE_arities</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Monadify.html#Sepref_Monadify.sepref_monadify_arity|attribute"><span class="operator"><span>sepref_monadify_arity</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="comment1"><span>(*"WHILET ≡ WHILEIT$(λ<span class="hidden">⇩</span><sub>2</sub>_. True)"*)</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.WHILEIT|const"><span>WHILEIT</span></a><span> </span><span class="free"><span>I</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>λ<span class="hidden">⇩</span><sub>2</sub></span></a></span><span class="bound"><span>b</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Sepref_Monadify.html#Sepref_Monadify.SP|const"><span>SP</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.WHILEIT|const"><span>WHILEIT</span></a><span> </span><span class="free"><span>I</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>λ<span class="hidden">⇩</span><sub>2</sub></span></a></span><span class="bound"><span>s</span></span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>.</span></a></span><span> </span><span class="bound"><span>b</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="bound"><span>s</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>λ<span class="hidden">⇩</span><sub>2</sub></span></a></span><span class="bound"><span>s</span></span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>.</span></a></span><span> </span><span class="bound"><span>f</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="bound"><span>s</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="bound"><span>s</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp_all</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.while.WHILET_def|fact"><span>WHILET_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.WHILEIT_comb|fact"><span class="entity_def" id="Sepref_HOL_Bindings.WHILEIT_comb|thm"><span>WHILEIT_comb</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Monadify.html#Sepref_Monadify.sepref_monadify_comb|attribute"><span class="operator"><span>sepref_monadify_comb</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.WHILEIT|const"><span>WHILEIT</span></a><span> </span><span class="free"><span>I</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>λ<span class="hidden">⇩</span><sub>2</sub></span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>.</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>s</span></span><span> </span><span class="main"><span>≡</span></span><span> 
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.bind|const"><span>Refine_Basic.bind</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Monadify.html#Sepref_Monadify.EVAL|const"><span>EVAL</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>λ<span class="hidden">⇩</span><sub>2</sub></span></a></span><span class="bound"><span>s</span></span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>.</span></a></span><span> 
      </span><a class="entity_ref" href="Sepref_Monadify.html#Sepref_Monadify.SP|const"><span>SP</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Refine_Monadic_Add.html#Refine_Monadic_Add.monadic_WHILEIT|const"><span>monadic_WHILEIT</span></a><span> </span><span class="free"><span>I</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>λ<span class="hidden">⇩</span><sub>2</sub></span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Monadify.html#Sepref_Monadify.EVAL|const"><span>EVAL</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="bound"><span>s</span></span><span>
    </span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp_all</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Refine_Monadic_Add.html#Refine_Monadic_Add.WHILEIT_to_monadic|fact"><span>WHILEIT_to_monadic</span></a><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.monadic_WHILEIT_pat|fact"><span class="entity_def" id="Sepref_HOL_Bindings.monadic_WHILEIT_pat|thm"><span>monadic_WHILEIT_pat</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.def_pat_rules|attribute"><span class="operator"><span>def_pat_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Refine_Monadic_Add.html#Refine_Monadic_Add.monadic_WHILEIT|const"><span>monadic_WHILEIT</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>I</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.UNPROTECT|const"><span>UNPROTECT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Refine_Monadic_Add.html#Refine_Monadic_Add.monadic_WHILEIT|const"><span>monadic_WHILEIT</span></a><span> </span><span class="free"><span>I</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>  
    
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.id_monadic_WHILEIT|fact"><span class="entity_def" id="Sepref_HOL_Bindings.id_monadic_WHILEIT|thm"><span>id_monadic_WHILEIT</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.id_rules|attribute"><span class="operator"><span>id_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Refine_Monadic_Add.html#Refine_Monadic_Add.monadic_WHILEIT|const"><span>monadic_WHILEIT</span></a><span> </span><span class="free"><span>I</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.intf_type|const"><span>::<span class="hidden">⇩</span><sub>i</sub></span></a></span><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres|type"><span>nres</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres|type"><span>nres</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres|type"><span>nres</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.monadic_WHILEIT_arities|fact"><span class="entity_def" id="Sepref_HOL_Bindings.monadic_WHILEIT_arities|thm"><span>monadic_WHILEIT_arities</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Monadify.html#Sepref_Monadify.sepref_monadify_arity|attribute"><span class="operator"><span>sepref_monadify_arity</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Refine_Monadic_Add.html#Refine_Monadic_Add.monadic_WHILEIT|const"><span>monadic_WHILEIT</span></a><span> </span><span class="free"><span>I</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>λ<span class="hidden">⇩</span><sub>2</sub></span></a></span><span class="bound"><span>b</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Sepref_Monadify.html#Sepref_Monadify.SP|const"><span>SP</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Refine_Monadic_Add.html#Refine_Monadic_Add.monadic_WHILEIT|const"><span>monadic_WHILEIT</span></a><span> </span><span class="free"><span>I</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>λ<span class="hidden">⇩</span><sub>2</sub></span></a></span><span class="bound"><span>s</span></span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>.</span></a></span><span> </span><span class="bound"><span>b</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="bound"><span>s</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>λ<span class="hidden">⇩</span><sub>2</sub></span></a></span><span class="bound"><span>s</span></span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>.</span></a></span><span> </span><span class="bound"><span>f</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="bound"><span>s</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="bound"><span>s</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.monadic_WHILEIT_comb|fact"><span class="entity_def" id="Sepref_HOL_Bindings.monadic_WHILEIT_comb|thm"><span>monadic_WHILEIT_comb</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Monadify.html#Sepref_Monadify.sepref_monadify_comb|attribute"><span class="operator"><span>sepref_monadify_comb</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Refine_Monadic_Add.html#Refine_Monadic_Add.monadic_WHILEIT|const"><span>monadic_WHILEIT</span></a><span> </span><span class="free"><span>I</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>b</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>s</span></span><span> </span><span class="main"><span>≡</span></span><span> 
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.bind|const"><span>Refine_Basic.bind</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Monadify.html#Sepref_Monadify.EVAL|const"><span>EVAL</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>λ<span class="hidden">⇩</span><sub>2</sub></span></a></span><span class="bound"><span>s</span></span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>.</span></a></span><span> 
      </span><a class="entity_ref" href="Sepref_Monadify.html#Sepref_Monadify.SP|const"><span>SP</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Refine_Monadic_Add.html#Refine_Monadic_Add.monadic_WHILEIT|const"><span>monadic_WHILEIT</span></a><span> </span><span class="free"><span>I</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>b</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="bound"><span>s</span></span><span>
    </span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
  
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.hn_refine_add_invalid|fact"><span class="entity_def" id="Sepref_HOL_Bindings.hn_refine_add_invalid|thm"><span>hn_refine_add_invalid</span></span></span><span class="main"><span>:</span></span><span> </span><span class="comment1"><span>(* Very customized rule for manual derivation of while *)</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>Rs</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>Γ'</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>CP</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>Rs</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_invalid|const"><span>hn_invalid</span></a><span> </span><span class="free"><span>Rs</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>CP</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine_frame&apos;|fact"><span>hn_refine_frame'</span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.invalidate_clone&apos;|fact"><span>invalidate_clone'</span></a><span> </span><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj_commute|fact"><span>sep_conj_commute</span></a><span> </span><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj_left_commute|fact"><span>sep_conj_left_commute</span></a><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.hn_monadic_WHILE_aux|fact"><span class="entity_def" id="Sepref_HOL_Bindings.hn_monadic_WHILE_aux|thm"><span>hn_monadic_WHILE_aux</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_63969..63971">FR</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>Rs</span></span><span> </span><span class="free"><span>s'</span></span><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>0</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_64012..64017">b_ref</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>s'</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>I</span></span><span> </span><span class="bound"><span>s'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span> 
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>Rs</span></span><span> </span><span class="bound"><span>s'</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><span class="free"><span>Γb</span></span><span> </span><span class="bound"><span>s'</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.pure|const"><span>pure</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel|const"><span>bool1_rel</span></a><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><span class="free"><span>CP_ignore</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><span class="free"><span>b'</span></span><span> </span><span class="bound"><span>s'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_64158..64162">b_fr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>s'</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Γb</span></span><span> </span><span class="bound"><span>s'</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>Rs</span></span><span> </span><span class="bound"><span>s'</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ</span></span><span>"</span></span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_64215..64220">f_ref</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>s'</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟦</span></span><span class="free"><span>I</span></span><span> </span><span class="bound"><span>s'</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span>
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>Rs</span></span><span> </span><span class="bound"><span>s'</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><span class="free"><span>Γf</span></span><span> </span><span class="bound"><span>s'</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>)</span></span><span>
    </span><span class="free"><span>Rs</span></span><span>
    </span><span class="main"><span>(</span></span><span class="free"><span>CP</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><span class="free"><span>f'</span></span><span> </span><span class="bound"><span>s'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_64341..64345">f_fr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>s'</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Γf</span></span><span> </span><span class="bound"><span>s'</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>Rsf</span></span><span> </span><span class="bound"><span>s'</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_64398..64402">free</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MK_FREE|const"><span>MK_FREE</span></a><span> </span><span class="free"><span>Rsf</span></span><span> </span><span class="free"><span>fr</span></span><span>"</span></span></span><span>
  </span><span class="comment1"><span>(*assumes PREC: "precise Rs"*)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.llc_while|const"><span>llc_while</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>s</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>doM</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>fr</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a><span> </span><span class="bound"><span>r</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>0</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_invalid|const"><span>hn_invalid</span></a><span> </span><span class="free"><span>Rs</span></span><span> </span><span class="free"><span>s'</span></span><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>0</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Rs</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>CP</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>0</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Refine_Monadic_Add.html#Refine_Monadic_Add.monadic_WHILEIT|const"><span>monadic_WHILEIT</span></a><span> </span><span class="free"><span>I</span></span><span> </span><span class="free"><span>b'</span></span><span> </span><span class="free"><span>f'</span></span><span> </span><span class="free"><span>s'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply1</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine_cons_pre|fact"><span>hn_refine_cons_pre</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_63969..63971"><span>FR</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.hn_refine_add_invalid|fact"><span>hn_refine_add_invalid</span></a><span class="main"><span>)</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.hn_refine_synthI|fact"><span>hn_refine_synthI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Refine_Monadic_Add.html#Refine_Monadic_Add.monadic_WHILEIT_def|fact"><span>monadic_WHILEIT_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>focus</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hnr_RECT_cp|fact"><span>hnr_RECT_cp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> F'</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>s'</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Γ</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>and</span></span></span></span></span><span> Ry</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="free"><span>Rs</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>and</span></span></span></span></span><span> C</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>CP</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>0</sub></span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply1</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hnr_ASSERT|fact"><span>hnr_ASSERT</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>focus</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine_cons_cp_only|fact"><span>hn_refine_cons_cp_only</span></a><span class="main"><span>)</span></span><span>
      
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>focus</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hnr_bind_manual_free|fact"><span>hnr_bind_manual_free</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>applyS</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_64012..64017"><span>b_ref</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply1</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine_cons_pre|fact"><span>hn_refine_cons_pre</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.sep_drule|method"><span class="operator"><span>sep_drule</span></span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_64158..64162"><span>b_fr</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails_refl|fact"><span>entails_refl</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>focus</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.hn_if_aux|fact"><span>hn_if_aux</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ _ _ </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MERGE_triv|fact"><span>MERGE_triv</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.CP_simp_join_triv|fact"><span>CP_simp_join_triv</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.fri_rotate|method"><span class="operator"><span>fri_rotate</span></span></a><span> </span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails_pre_cong|fact"><span>entails_pre_cong</span></a><span> </span><span class="main"><span class="main"><span>:</span></span></span><span>-1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.conj_entails_mono|fact"><span>conj_entails_mono</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails_refl|fact"><span>entails_refl</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails_refl|fact"><span>entails_refl</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>focus</span></span></span></span></span><span> </span><span class="comment1"><span>(* Then-Part *)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply1</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine_cons_pre|fact"><span>hn_refine_cons_pre</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.sep_drule|method"><span class="operator"><span>sep_drule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.drop_hn_val|fact"><span>drop_hn_val</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails_refl|fact"><span>entails_refl</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hnr_bind_manual_free|fact"><span>hnr_bind_manual_free</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>applyS</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_64215..64220"><span>f_ref</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply1</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine_cons_pre|fact"><span>hn_refine_cons_pre</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.sep_drule|method"><span class="operator"><span>sep_drule</span></span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_64341..64345"><span>f_fr</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails_refl|fact"><span>entails_refl</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.hnr_freeI|fact"><span>hnr_freeI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_64398..64402"><span>free</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Transitive_Closure.html#Transitive_Closure.rtranclp.rtrancl_into_rtrancl|fact"><span>rtranclp.rtrancl_into_rtrancl</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine_cons_pre|fact"><span>hn_refine_cons_pre</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>applyS</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.sep_conj_c|fact"><span>sep_conj_c</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails_refl|fact"><span>entails_refl</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>solved</span></span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>focus</span></span></span></span></span><span> </span><span class="comment1"><span>(* Else-Part *)</span></span><span>  
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine_cons_post|fact"><span>hn_refine_cons_post</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine_frame|fact"><span>hn_refine_frame</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hnr_RETURN_pass|fact"><span>hnr_RETURN_pass</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.fri_rotate|method"><span class="operator"><span>fri_rotate</span></span></a><span> </span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails_pre_cong|fact"><span>entails_pre_cong</span></a><span> </span><span class="main"><span class="main"><span>:</span></span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails_refl|fact"><span>entails_refl</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply1</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.sep_drule|method"><span class="operator"><span>sep_drule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.drop_hn_invalid|fact"><span>drop_hn_invalid</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply1</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.sep_drule|method"><span class="operator"><span>sep_drule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.drop_hn_val|fact"><span>drop_hn_val</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>solved</span></span></span></span></span><span>
            
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>solved</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>solved</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>applyS</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Transitive_Closure.html#Transitive_Closure.r_into_rtranclp|fact"><span>r_into_rtranclp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Transitive_Closure.html#Transitive_Closure.rtranclp.rtrancl_refl|fact"><span>rtranclp.rtrancl_refl</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Transitive_Closure.html#Transitive_Closure.rtranclp_trans|fact"><span>rtranclp_trans</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>solved</span></span></span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>focus</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="NEMonad.html#NEMonad.pf_mono_prover|method"><span class="operator"><span>pf_mono_prover</span></span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>solved</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>applyS</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>solved</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.llc_while_def|fact"><span>llc_while_def</span></a><span> </span><a class="entity_ref" href="MMonad.html#MMonad.Mwhile_def|fact"><span>Mwhile_def</span></a><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.llc_if_def|fact"><span>llc_if_def</span></a><span> </span><span class="quasi_keyword"><span>cong</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_cong|fact"><span>if_cong</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Conc_Post.html#Sepref_Conc_Post.CP_simps|attribute"><span class="operator"><span>CP_simps</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP_def|fact"><span>APP_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>abs_def</span></span><span class="main"><span>]</span></span><span>  
  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_66489..66494">lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.hn_monadic_WHILE_lin|fact"><span class="entity_def" id="Sepref_HOL_Bindings.hn_monadic_WHILE_lin|thm"><span>hn_monadic_WHILE_lin</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_comb_rules|attribute"><span class="operator"><span>sepref_comb_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Indep_Vars.html#Indep_Vars.INDEP|const"><span>INDEP</span></a><span> </span><span class="free"><span>Rs</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>FR</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>Rs</span></span><span> </span><span class="free"><span>s'</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>b_ref</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>s'</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>I</span></span><span> </span><span class="bound"><span>s'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span> 
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>Rs</span></span><span> </span><span class="bound"><span>s'</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><span class="free"><span>Γb</span></span><span> </span><span class="bound"><span>s'</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.pure|const"><span>pure</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel|const"><span>bool1_rel</span></a><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><span class="free"><span>CP_ignore</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><span class="free"><span>b'</span></span><span> </span><span class="bound"><span>s'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>b_fr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>s'</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>TERM</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Refine_Monadic_Add.html#Refine_Monadic_Add.monadic_WHILEIT|const"><span>monadic_WHILEIT</span></a><span class="main"><span>,</span></span><span class="inner_quoted"><span>''cond''</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Γb</span></span><span> </span><span class="bound"><span>s'</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>Rs</span></span><span> </span><span class="bound"><span>s'</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ</span></span><span>"</span></span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>f_ref</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>s'</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>I</span></span><span> </span><span class="bound"><span>s'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span>
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>Rs</span></span><span> </span><span class="bound"><span>s'</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><span class="free"><span>Γf</span></span><span> </span><span class="bound"><span>s'</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>)</span></span><span>
    </span><span class="free"><span>Rs</span></span><span>
    </span><span class="main"><span>(</span></span><span class="free"><span>CP</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><span class="free"><span>f'</span></span><span> </span><span class="bound"><span>s'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>f_fr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>s'</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>TERM</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Refine_Monadic_Add.html#Refine_Monadic_Add.monadic_WHILEIT|const"><span>monadic_WHILEIT</span></a><span class="main"><span>,</span></span><span class="inner_quoted"><span>''body''</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Γf</span></span><span> </span><span class="bound"><span>s'</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>Rsf</span></span><span> </span><span class="bound"><span>s'</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_67060..67067">CP_simp</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>s</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Sepref_Conc_Post.html#Sepref_Conc_Post.CP_simplify|const"><span>CP_simplify</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Conc_Post.html#Sepref_Conc_Post.CP_RPT|const"><span>CP_RPT</span></a><span> </span><span class="free"><span>CP</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>CP'</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_67119..67123">free</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>TERM</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Refine_Monadic_Add.html#Refine_Monadic_Add.monadic_WHILEIT|const"><span>monadic_WHILEIT</span></a><span class="main"><span>,</span></span><span class="inner_quoted"><span>''free-old-state''</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MK_FREE|const"><span>MK_FREE</span></a><span> </span><span class="free"><span>Rsf</span></span><span> </span><span class="free"><span>fr</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span> 
    </span><span class="free"><span>P</span></span><span> 
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.llc_while|const"><span>llc_while</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>s</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>doM</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>fr</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a><span> </span><span class="bound"><span>r</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span> 
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_invalid|const"><span>hn_invalid</span></a><span> </span><span class="free"><span>Rs</span></span><span> </span><span class="free"><span>s'</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ</span></span><span class="main"><span>)</span></span><span>
    </span><span class="free"><span>Rs</span></span><span> 
    </span><span class="main"><span>(</span></span><span class="free"><span>CP'</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Refine_Monadic_Add.html#Refine_Monadic_Add.monadic_WHILEIT|const"><span>monadic_WHILEIT</span></a><span> </span><span class="free"><span>I</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>λ<span class="hidden">⇩</span><sub>2</sub></span></a></span><span class="bound"><span>s'</span></span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>.</span></a></span><span> </span><span class="free"><span>b'</span></span><span> </span><span class="bound"><span>s'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>λ<span class="hidden">⇩</span><sub>2</sub></span></a></span><span class="bound"><span>s'</span></span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>.</span></a></span><span> </span><span class="free"><span>f'</span></span><span> </span><span class="bound"><span>s'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="main"><span>(</span></span><span class="free"><span>s'</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine_cons_cp_only|fact"><span>hn_refine_cons_cp_only</span></a><span class="main"><span>)</span></span><span>  
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_66489..66494"><span>assms</span></a><span class="main"><span>(</span></span><span>2-6</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_67119..67123"><span>free</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP_def|fact"><span>APP_def</span></a><span> </span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PROTECT2_def|fact"><span>PROTECT2_def</span></a><span> </span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.CONSTRAINT_def|fact"><span>CONSTRAINT_def</span></a><span> </span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST_def|fact"><span>PR_CONST_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.hn_monadic_WHILE_aux|fact"><span>hn_monadic_WHILE_aux</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>assumption</span></span><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.TERMI|fact"><span>TERMI</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_67060..67067"><span>CP_simp</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_Conc_Post.html#Sepref_Conc_Post.CP_defs|fact"><span class="dynamic"><span class="dynamic"><span>CP_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

  
</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Let›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.hn_let|fact"><span class="entity_def" id="Sepref_HOL_Bindings.hn_let|thm"><span>hn_let</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_comb_rules|attribute"><span class="operator"><span>sepref_comb_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>Γ'</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>CP</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.bind|const"><span>Refine_Basic.bind</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Monadify.html#Sepref_Monadify.PASS|const"><span>PASS</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>λ<span class="hidden">⇩</span><sub>2</sub></span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>.</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>Γ'</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>CP</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Let|const"><span>Let</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>v</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>λ<span class="hidden">⇩</span><sub>2</sub></span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>.</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    
</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Unit›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.unit_hnr|fact"><span class="entity_def" id="Sepref_HOL_Bindings.unit_hnr|thm"><span>unit_hnr</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_import_param|attribute"><span class="operator"><span>sepref_import_param</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.unit_rel|const"><span>unit_rel</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
  
</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>"Product"</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_import_rewrite|attribute"><span class="operator"><span>sepref_import_rewrite</span></span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="USER_HOME/devel/isabelle/lrat_isa/isabelle_llvm/thys/lib/named_simpsets.ML.html#Named_Simpsets.named_ss|attribute"><span class="operator"><span>named_ss</span></span></a><span> </span><span>sepref_frame_normrel</span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.fcomp_norm_unfold|attribute"><span class="operator"><span>fcomp_norm_unfold</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn_pure_conv|fact"><span>prod_assn_pure_conv</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span>


</span><span class="comment1"><span>(* TODO Add corresponding rules for other types and add to datatype snippet *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.intf_of_prod_assn|fact"><span class="entity_def" id="Sepref_HOL_Bindings.intf_of_prod_assn|thm"><span>intf_of_prod_assn</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.intf_of_assn|attribute"><span class="operator"><span>intf_of_assn</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.intf_of_assn|const"><span>intf_of_assn</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.intf_of_assn|const"><span>intf_of_assn</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.intf_of_assn|const"><span>intf_of_assn</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>prod_assn</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>*</span></a></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.pure_prod|fact"><span class="entity_def" id="Sepref_HOL_Bindings.pure_prod|thm"><span>pure_prod</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.constraint_rules|attribute"><span class="operator"><span>constraint_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_68333..68335">P1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.is_pure|const"><span>is_pure</span></a><span> </span><span class="free"><span>P1</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_68354..68356">P2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.is_pure|const"><span>is_pure</span></a><span> </span><span class="free"><span>P2</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.is_pure|const"><span>is_pure</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>prod_assn</span></a><span> </span><span class="free"><span>P1</span></span><span> </span><span class="free"><span>P2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_68333..68335"><span>P1</span></a><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>P1'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_68442..68445">P1'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>x'</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P1</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>x'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift|const"><span>↑</span></a></span><span class="main"><span>(</span></span><span class="skolem"><span>P1'</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>x'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.is_pureE|fact"><span>is_pureE</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_68354..68356"><span>P2</span></a><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>P2'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_68533..68536">P2'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>x'</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P2</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>x'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift|const"><span>↑</span></a></span><span class="main"><span>(</span></span><span class="skolem"><span>P2'</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>x'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.is_pureE|fact"><span>is_pureE</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>x'</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>prod_assn</span></a><span> </span><span class="free"><span>P1</span></span><span> </span><span class="free"><span>P2</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>x'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>
         </span><span class="main"><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift|const"><span>↑</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>x'</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>a1</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>a2</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>c1</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>c2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="skolem"><span>P1'</span></span><span> </span><span class="bound"><span>a1</span></span><span> </span><span class="bound"><span>c1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>P2'</span></span><span> </span><span class="bound"><span>a2</span></span><span> </span><span class="bound"><span>c2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn_def|fact"><span>prod_assn_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_68442..68445"><span>P1'</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_68533..68536"><span>P2'</span></a><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.sep_algebra_simps|fact"><span class="dynamic"><span class="dynamic"><span>sep_algebra_simps</span></span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.split|fact"><span>prod.split</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_68858..68863">lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.prod_frame_match|fact"><span class="entity_def" id="Sepref_HOL_Bindings.prod_frame_match|thm"><span>prod_frame_match</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Frame.html#Sepref_Frame.sepref_frame_match_rules|attribute"><span class="operator"><span>sepref_frame_match_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>A'</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>B'</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>prod_assn</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>prod_assn</span></a><span> </span><span class="free"><span>A'</span></span><span> </span><span class="free"><span>B'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>y</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt_def|fact"><span>hn_ctxt_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.conj_entails_mono|fact"><span>conj_entails_mono</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_68858..68863"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt_def|fact"><span>hn_ctxt_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_69263..69268">lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.prod_frame_merge|fact"><span class="entity_def" id="Sepref_HOL_Bindings.prod_frame_merge|thm"><span>prod_frame_merge</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Frame.html#Sepref_Frame.sepref_frame_merge_rules|attribute"><span class="operator"><span>sepref_frame_merge_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MERGE1|const"><span>MERGE1</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>frl1</span></span><span> </span><span class="free"><span>A'</span></span><span> </span><span class="free"><span>frr1</span></span><span> </span><span class="free"><span>Am</span></span><span>"</span></span></span><span>  
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MERGE1|const"><span>MERGE1</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="free"><span>frl2</span></span><span> </span><span class="free"><span>B'</span></span><span> </span><span class="free"><span>frr2</span></span><span> </span><span class="free"><span>Bm</span></span><span>"</span></span></span><span>  
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MERGE1|const"><span>MERGE1</span></a><span> 
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>prod_assn</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>doM</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>frl1</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>frl2</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> 
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>prod_assn</span></a><span> </span><span class="free"><span>A'</span></span><span> </span><span class="free"><span>B'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>doM</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>frr1</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>frr2</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> 
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>prod_assn</span></a><span> </span><span class="free"><span>Am</span></span><span> </span><span class="free"><span>Bm</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg_rules|attribute"><span class="operator"><span>vcg_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MERGE1D|fact"><span>MERGE1D</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_69263..69268"><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_69263..69268"><span>assms</span></a></a><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span>1</span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MERGE1D|fact"><span>MERGE1D</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_69263..69268"><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_69263..69268"><span>assms</span></a></a><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span>2</span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg|method"><span class="operator"><span>vcg</span></span></a><span>
    
  

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.entt_invalid_prod|fact"><span class="entity_def" id="Sepref_HOL_Bindings.entt_invalid_prod|thm"><span>entt_invalid_prod</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_invalid|const"><span>hn_invalid</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>prod_assn</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>p'</span></span><span> </span><span class="main"><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>prod_assn</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.invalid_assn|const"><span>invalid_assn</span></a><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.invalid_assn|const"><span>invalid_assn</span></a><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>p'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt_def|fact"><span>hn_ctxt_def</span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.invalid_assn_def|fact"><span>invalid_assn_def</span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn_def|fact"><span>prod_assn_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.splits|fact"><span>prod.splits</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails_def|fact"><span>entails_def</span></a><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift_extract_simps|fact"><span>pred_lift_extract_simps</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pure_part_split_conj|fact"><span>pure_part_split_conj</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.gen_merge_cons_left|fact"><span class="entity_def" id="Sepref_HOL_Bindings.gen_merge_cons_left|thm"><span>gen_merge_cons_left</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>L</span></span><span class="main"><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails|const"><span>⊢</span></a></span><span class="free"><span>L'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MERGE|const"><span>MERGE</span></a><span> </span><span class="free"><span>L'</span></span><span> </span><span class="free"><span>fl</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>fr</span></span><span> </span><span class="free"><span>M</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MERGE|const"><span>MERGE</span></a><span> </span><span class="free"><span>L</span></span><span> </span><span class="free"><span>fl</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>fr</span></span><span> </span><span class="free"><span>M</span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MERGE_def|fact"><span>MERGE_def</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="LLVM_Simple_Memory_RS.html#LLVM_Simple_Memory_RS.cons_rule|fact"><span>cons_rule</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> Q</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="skolem"><span>Q</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>and</span></span></span></span></span><span> Q'</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="skolem"><span>Q</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>for</span></span></span></span></span><span> </span><span class="skolem"><span>Q</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails_def|fact"><span>entails_def</span></a><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.gen_merge_cons_right|fact"><span class="entity_def" id="Sepref_HOL_Bindings.gen_merge_cons_right|thm"><span>gen_merge_cons_right</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails|const"><span>⊢</span></a></span><span class="free"><span>R'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MERGE|const"><span>MERGE</span></a><span> </span><span class="free"><span>L</span></span><span> </span><span class="free"><span>fl</span></span><span> </span><span class="free"><span>R'</span></span><span> </span><span class="free"><span>fr</span></span><span> </span><span class="free"><span>M</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MERGE|const"><span>MERGE</span></a><span> </span><span class="free"><span>L</span></span><span> </span><span class="free"><span>fl</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>fr</span></span><span> </span><span class="free"><span>M</span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MERGE_def|fact"><span>MERGE_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="LLVM_Simple_Memory_RS.html#LLVM_Simple_Memory_RS.cons_rule|fact"><span>cons_rule</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> Q</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="skolem"><span>Q</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>and</span></span></span></span></span><span> Q'</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="skolem"><span>Q</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>for</span></span></span></span></span><span> </span><span class="skolem"><span>Q</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails_def|fact"><span>entails_def</span></a><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.gen_merge_cons|fact"><span class="entity_def" id="Sepref_HOL_Bindings.gen_merge_cons(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.gen_merge_cons(1)|thm"><span>gen_merge_cons</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.gen_merge_cons_left|fact"><span>gen_merge_cons_left</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.gen_merge_cons_right|fact"><span>gen_merge_cons_right</span></a><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.invalid_prod_merge|fact"><span class="entity_def" id="Sepref_HOL_Bindings.invalid_prod_merge(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.invalid_prod_merge(1)|thm"><span>invalid_prod_merge</span></span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Frame.html#Sepref_Frame.sepref_frame_merge_rules|attribute"><span class="operator"><span>sepref_frame_merge_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.gen_merge_cons|fact"><span>gen_merge_cons</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.entt_invalid_prod|fact"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.entt_invalid_prod|fact"><span>entt_invalid_prod</span></a></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.prod_assn_ctxt|fact"><span class="entity_def" id="Sepref_HOL_Bindings.prod_assn_ctxt|thm"><span>prod_assn_ctxt</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>prod_assn</span></a><span> </span><span class="free"><span>A1</span></span><span> </span><span class="free"><span>A2</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>prod_assn</span></a><span> </span><span class="free"><span>A1</span></span><span> </span><span class="free"><span>A2</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>z</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt_def|fact"><span>hn_ctxt_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="comment1"><span>(* TODO: Move *)</span></span><span>  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.drop_pureD|fact"><span class="entity_def" id="Sepref_HOL_Bindings.drop_pureD|thm"><span>drop_pureD</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.is_pure|const"><span>is_pure</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails|const"><span>⊢</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_empty|const"><span>□</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.is_pure_def|fact"><span>is_pure_def</span></a><span> </span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails_def|fact"><span>entails_def</span></a><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift_extract_simps|fact"><span>pred_lift_extract_simps</span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt_def|fact"><span>hn_ctxt_def</span></a><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.hn_case_prod_aux|fact"><span class="entity_def" id="Sepref_HOL_Bindings.hn_case_prod_aux|thm"><span>hn_case_prod_aux</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_70727..70729">FR</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>prod_assn</span></a><span> </span><span class="free"><span>P1</span></span><span> </span><span class="free"><span>P2</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>p'</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ1</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_70784..70788">Pair</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>a1</span></span><span> </span><span class="bound"><span>a2</span></span><span> </span><span class="bound"><span>a1'</span></span><span> </span><span class="bound"><span>a2'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟦</span></span><span class="free"><span>p'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><span>(</span></span><span class="bound"><span>a1'</span></span><span class="main"><span>,</span></span><span class="bound"><span>a2'</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="Sepref_Conc_Post.html#Sepref_Conc_Post.CP_assm|const"><span>CP_assm</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>p</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><span>(</span></span><span class="bound"><span>a1</span></span><span class="main"><span>,</span></span><span class="bound"><span>a2</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>⟧</span></span><span> 
    </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>P1</span></span><span> </span><span class="bound"><span>a1'</span></span><span> </span><span class="bound"><span>a1</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>P2</span></span><span> </span><span class="bound"><span>a2'</span></span><span> </span><span class="bound"><span>a2</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ1</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_invalid|const"><span>hn_invalid</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>prod_assn</span></a><span> </span><span class="free"><span>P1</span></span><span> </span><span class="free"><span>P2</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>p'</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a1</span></span><span> </span><span class="bound"><span>a2</span></span><span class="main"><span>)</span></span><span> 
          </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>P1'</span></span><span> </span><span class="bound"><span>a1'</span></span><span> </span><span class="bound"><span>a1</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>P2'</span></span><span> </span><span class="bound"><span>a2'</span></span><span> </span><span class="bound"><span>a2</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>XX1</span></span><span> </span><span class="free"><span>p'</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ1'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a1'</span></span><span> </span><span class="bound"><span>a2'</span></span><span> </span><span class="bound"><span>a1</span></span><span> </span><span class="bound"><span>a2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>CP</span></span><span> </span><span class="bound"><span>a1</span></span><span> </span><span class="bound"><span>a2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f'</span></span><span> </span><span class="bound"><span>a1'</span></span><span> </span><span class="bound"><span>a2'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_71088..71092">PURE</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.is_pure|const"><span>Sepref_Basic.is_pure</span></a><span> </span><span class="free"><span>XX1</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>case_prod</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>prod_assn</span></a><span> </span><span class="free"><span>P1'</span></span><span> </span><span class="free"><span>P2'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>p'</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ1'</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="free"><span>p'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="free"><span>p'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Conc_Post.html#Sepref_Conc_Post.CP_SPLIT|const"><span>CP_SPLIT</span></a><span> </span><span class="free"><span>CP</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>case_prod</span></a><span> </span><span class="free"><span>f'</span></span><span> </span><span class="free"><span>p'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?G</span></span><span> </span><span class="free"><span>Γ</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply1</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine_cons_pre|fact"><span>hn_refine_cons_pre</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_70727..70729"><span>FR</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply1</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Frame.html#Sepref_Frame.extract_hnr_invalids|method"><span class="operator"><span>extract_hnr_invalids</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply1</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>p'</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn_pair_conv|fact"><span>prod_assn_pair_conv</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.prod_assn_ctxt|fact"><span>prod_assn_ctxt</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine_cons_cp|fact"><span>hn_refine_cons_cp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_70784..70788"><span>Pair</span></a><span> _ </span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails_refl|fact"><span>entails_refl</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>applyS</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt_def|fact"><span>hn_ctxt_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>applyS</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>applyS</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_Conc_Post.html#Sepref_Conc_Post.CP_defs|fact"><span class="dynamic"><span class="dynamic"><span>CP_defs</span></span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_71088..71092"><span>PURE</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.sep_drule|method"><span class="operator"><span>sep_drule</span></span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.drop_pureD|fact"><span>drop_pureD</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_71088..71092"><span>PURE</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt_def|fact"><span>hn_ctxt_def</span></a><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.sep_conj_c|fact"><span>sep_conj_c</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>applyS</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_Conc_Post.html#Sepref_Conc_Post.CP_defs|fact"><span class="dynamic"><span class="dynamic"><span>CP_defs</span></span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  
    
</span><span class="comment1"><span>(* TODO: This has caused "ENTER MATCH" unifier problems with flex-flex pairs. So disabled by default,
  and hn_case_prod_simple' is enabled, where the result cannot depend on the elements of the pair. *)</span></span><span>    
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.hn_case_prod&apos;|fact"><span class="entity_def" id="Sepref_HOL_Bindings.hn_case_prod&apos;|thm"><span>hn_case_prod'</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>FR</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>prod_assn</span></a><span> </span><span class="free"><span>P1</span></span><span> </span><span class="free"><span>P2</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>p'</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ1</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>Pair</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>a1</span></span><span> </span><span class="bound"><span>a2</span></span><span> </span><span class="bound"><span>a1'</span></span><span> </span><span class="bound"><span>a2'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟦</span></span><span class="free"><span>p'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><span>(</span></span><span class="bound"><span>a1'</span></span><span class="main"><span>,</span></span><span class="bound"><span>a2'</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="Sepref_Conc_Post.html#Sepref_Conc_Post.CP_assm|const"><span>CP_assm</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>p</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><span>(</span></span><span class="bound"><span>a1</span></span><span class="main"><span>,</span></span><span class="bound"><span>a2</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>⟧</span></span><span> 
    </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>P1</span></span><span> </span><span class="bound"><span>a1'</span></span><span> </span><span class="bound"><span>a1</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>P2</span></span><span> </span><span class="bound"><span>a2'</span></span><span> </span><span class="bound"><span>a2</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ1</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_invalid|const"><span>hn_invalid</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>prod_assn</span></a><span> </span><span class="free"><span>P1</span></span><span> </span><span class="free"><span>P2</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>p'</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a1</span></span><span> </span><span class="bound"><span>a2</span></span><span class="main"><span>)</span></span><span> 
          </span><span class="main"><span>(</span></span><span class="free"><span>Γ2</span></span><span> </span><span class="bound"><span>a1</span></span><span> </span><span class="bound"><span>a2</span></span><span> </span><span class="bound"><span>a1'</span></span><span> </span><span class="bound"><span>a2'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a1'</span></span><span> </span><span class="bound"><span>a2'</span></span><span> </span><span class="bound"><span>a1</span></span><span> </span><span class="bound"><span>a2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>CP</span></span><span> </span><span class="bound"><span>a1</span></span><span> </span><span class="bound"><span>a2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f'</span></span><span> </span><span class="bound"><span>a1'</span></span><span> </span><span class="bound"><span>a2'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_72299..72302">FR2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>a1</span></span><span> </span><span class="bound"><span>a2</span></span><span> </span><span class="bound"><span>a1'</span></span><span> </span><span class="bound"><span>a2'</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Γ2</span></span><span> </span><span class="bound"><span>a1</span></span><span> </span><span class="bound"><span>a2</span></span><span> </span><span class="bound"><span>a1'</span></span><span> </span><span class="bound"><span>a2'</span></span><span> </span><span class="main"><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>P1'</span></span><span> </span><span class="bound"><span>a1'</span></span><span> </span><span class="bound"><span>a1</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>P2'</span></span><span> </span><span class="bound"><span>a2'</span></span><span> </span><span class="bound"><span>a2</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>XX1</span></span><span> </span><span class="free"><span>p'</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ1'</span></span><span>"</span></span></span><span>        
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_72427..72431">PURE</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.CONSTRAINT|const"><span>CONSTRAINT</span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.is_pure|const"><span>Sepref_Basic.is_pure</span></a><span> </span><span class="free"><span>XX1</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>case_prod</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>prod_assn</span></a><span> </span><span class="free"><span>P1'</span></span><span> </span><span class="free"><span>P2'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>p'</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ1'</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="free"><span>p'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="free"><span>p'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Conc_Post.html#Sepref_Conc_Post.CP_SPLIT|const"><span>CP_SPLIT</span></a><span> </span><span class="free"><span>CP</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>case_prod</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>λ<span class="hidden">⇩</span><sub>2</sub></span></a></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>.</span></a></span><span> </span><span class="free"><span>f'</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>p'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?G</span></span><span> </span><span class="free"><span>Γ</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.autoref_tag_defs|fact"><span class="dynamic"><span class="dynamic"><span>autoref_tag_defs</span></span></span></a><span> </span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PROTECT2_def|fact"><span>PROTECT2_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.hn_case_prod_aux|fact"><span>hn_case_prod_aux</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine_cons_post|fact"><span>hn_refine_cons_post</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>fact</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>fact</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_72299..72302"><span>FR2</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_72427..72431"><span>PURE</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.hn_case_prod_simple&apos;|fact"><span class="entity_def" id="Sepref_HOL_Bindings.hn_case_prod_simple&apos;|thm"><span>hn_case_prod_simple'</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_comb_rules|attribute"><span class="operator"><span>sepref_comb_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>FR</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>prod_assn</span></a><span> </span><span class="free"><span>P1</span></span><span> </span><span class="free"><span>P2</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>p'</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ1</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>Pair</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>a1</span></span><span> </span><span class="bound"><span>a2</span></span><span> </span><span class="bound"><span>a1'</span></span><span> </span><span class="bound"><span>a2'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟦</span></span><span class="free"><span>p'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><span>(</span></span><span class="bound"><span>a1'</span></span><span class="main"><span>,</span></span><span class="bound"><span>a2'</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="Sepref_Conc_Post.html#Sepref_Conc_Post.CP_assm|const"><span>CP_assm</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>p</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><span>(</span></span><span class="bound"><span>a1</span></span><span class="main"><span>,</span></span><span class="bound"><span>a2</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>⟧</span></span><span> 
    </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>P1</span></span><span> </span><span class="bound"><span>a1'</span></span><span> </span><span class="bound"><span>a1</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>P2</span></span><span> </span><span class="bound"><span>a2'</span></span><span> </span><span class="bound"><span>a2</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ1</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_invalid|const"><span>hn_invalid</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>prod_assn</span></a><span> </span><span class="free"><span>P1</span></span><span> </span><span class="free"><span>P2</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>p'</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a1</span></span><span> </span><span class="bound"><span>a2</span></span><span class="main"><span>)</span></span><span> 
          </span><span class="main"><span>(</span></span><span class="free"><span>Γ2</span></span><span> </span><span class="bound"><span>a1</span></span><span> </span><span class="bound"><span>a2</span></span><span> </span><span class="bound"><span>a1'</span></span><span> </span><span class="bound"><span>a2'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>CP</span></span><span> </span><span class="bound"><span>a1</span></span><span> </span><span class="bound"><span>a2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f'</span></span><span> </span><span class="bound"><span>a1'</span></span><span> </span><span class="bound"><span>a2'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_73188..73191">FR2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>a1</span></span><span> </span><span class="bound"><span>a2</span></span><span> </span><span class="bound"><span>a1'</span></span><span> </span><span class="bound"><span>a2'</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Γ2</span></span><span> </span><span class="bound"><span>a1</span></span><span> </span><span class="bound"><span>a2</span></span><span> </span><span class="bound"><span>a1'</span></span><span> </span><span class="bound"><span>a2'</span></span><span> </span><span class="main"><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>P1'</span></span><span> </span><span class="bound"><span>a1'</span></span><span> </span><span class="bound"><span>a1</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>P2'</span></span><span> </span><span class="bound"><span>a2'</span></span><span> </span><span class="bound"><span>a2</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="free"><span>XX1</span></span><span> </span><span class="free"><span>p'</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ1'</span></span><span>"</span></span></span><span>        
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_73316..73320">PURE</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.CONSTRAINT|const"><span>CONSTRAINT</span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.is_pure|const"><span>Sepref_Basic.is_pure</span></a><span> </span><span class="free"><span>XX1</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>case_prod</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>prod_assn</span></a><span> </span><span class="free"><span>P1'</span></span><span> </span><span class="free"><span>P2'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>p'</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>Γ1'</span></span><span class="main"><span>)</span></span><span>
    </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Conc_Post.html#Sepref_Conc_Post.CP_SPLIT|const"><span>CP_SPLIT</span></a><span> </span><span class="free"><span>CP</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>case_prod</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>λ<span class="hidden">⇩</span><sub>2</sub></span></a></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.ABS2|const"><span>.</span></a></span><span> </span><span class="free"><span>f'</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>p'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?G</span></span><span> </span><span class="free"><span>Γ</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.autoref_tag_defs|fact"><span class="dynamic"><span class="dynamic"><span>autoref_tag_defs</span></span></span></a><span> </span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PROTECT2_def|fact"><span>PROTECT2_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.hn_case_prod_aux|fact"><span>hn_case_prod_aux</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine_cons_post|fact"><span>hn_refine_cons_post</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>fact</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>fact</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_73188..73191"><span>FR2</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_73316..73320"><span>PURE</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    
    
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.hn_Pair|fact"><span class="entity_def" id="Sepref_HOL_Bindings.hn_Pair|thm"><span>hn_Pair</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"
  </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>oo</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Pair|const"><span>Pair</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>oo</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Pair|const"><span>Pair</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefptnd|const"><span>]<span class="hidden">⇩</span><sub>c</sub></span></a></span><span> </span><span class="free"><span>A</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="free"><span>B</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefptnd|const"><span>→</span></a></span><span> </span><span class="free"><span>A</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>×<span class="hidden">⇩</span><sub>a</sub></span></a></span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>x<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="bound"><span>x<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><span>(</span></span><span class="bound"><span>x<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="bound"><span>x<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefptnd|const"><span>]<span class="hidden">⇩</span><sub>c</sub></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg|method"><span class="operator"><span>vcg</span></span></a><span>
    
</span><span class="comment1"><span>(*
lemma fst_hnr[sepref_fr_rules]: "(Mreturn o fst,RETURN o fst) ∈ (prod_assn A B)<span class="hidden">⇧</span><sup>d</sup> →<span class="hidden">⇩</span><sub>a</sub> A"
  by sepref_to_hoare vcg
lemma snd_hnr[sepref_fr_rules]: "(Mreturn o snd,RETURN o snd) ∈ (prod_assn A B)<span class="hidden">⇧</span><sup>d</sup> →<span class="hidden">⇩</span><sub>a</sub> B"
  by sepref_to_hoare sep_auto
*)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.constraint_simps|attribute"><span class="operator"><span>constraint_simps</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn_pure_conv|fact"><span>prod_assn_pure_conv</span></a><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_import_param|attribute"><span class="operator"><span>sepref_import_param</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Param_HOL.html#Param_HOL.param_prod_swap|fact"><span>param_prod_swap</span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.rdomp_prodD|fact"><span class="entity_def" id="Sepref_HOL_Bindings.rdomp_prodD|thm"><span>rdomp_prodD</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.dest|attribute"><span class="operator"><span>dest</span></span></a><span class="main"><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.rdomp|const"><span>rdomp</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>prod_assn</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.rdomp|const"><span>rdomp</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.rdomp|const"><span>rdomp</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.rdomp_def|fact"><span>rdomp_def</span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn_def|fact"><span>prod_assn_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj_def|fact"><span>sep_conj_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Option›</span></span></span><span>  

   
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.option_patterns|fact"><span class="entity_def" id="Sepref_HOL_Bindings.option_patterns(4)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.option_patterns(3)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.option_patterns(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.option_patterns(1)|thm"><span>option_patterns</span></span></span></span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.def_pat_rules|attribute"><span class="operator"><span>def_pat_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>(=)</span></a></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Bindings_HOL.html#Autoref_Bindings_HOL.is_None|const"><span>is_None</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>(=)</span></a></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>x</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Bindings_HOL.html#Autoref_Bindings_HOL.is_None|const"><span>is_None</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_neq|const"><span>op_neq</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Not</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Bindings_HOL.html#Autoref_Bindings_HOL.is_None|const"><span>is_None</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_neq|const"><span>op_neq</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>x</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Not</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Bindings_HOL.html#Autoref_Bindings_HOL.is_None|const"><span>is_None</span></a><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Tagging.html#Autoref_Tagging.APP|const"><span>$</span></a></span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Eisbach.Eisbach.html#Eisbach.all|method"><span class="operator"><span>all</span></span></a><span> </span><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq_reflection|fact"><span>eq_reflection</span></a><span>›</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.splits|fact"><span>option.splits</span></a><span class="main"><span>)</span></span><span>

  
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Option type via unused implementation value›</span></span></span><span>  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option.intro|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option.intro|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_def|axiom"><span>locale</span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option|locale"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option|const"><span>dflt_option</span></span></span><span> </span><span class="main"><span>=</span></span><span>   
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>dflt</span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'c</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.llvm_rep|class"><span>llvm_rep</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.assn|type"><span>assn</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>is_dflt</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option.UU|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option.UU|thm"><span class="entity_def" id="offset_74781..74783">UU</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>dflt</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_false|const"><span>sep_false</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option.CMP|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option.CMP|thm"><span class="entity_def" id="offset_74818..74821">CMP</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="LLVM_Shallow_RS.html#LLVM_Shallow_RS.llvm_htriple|const"><span>llvm_htriple</span></a><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_empty|const"><span>□</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>is_dflt</span></span><span> </span><span class="free"><span>k</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="LLVM_Shallow_RS.html#LLVM_Shallow_RS.dr_assn_prefix|const"><span>↿</span></a></span><a class="entity_ref" href="LLVM_Shallow_RS.html#LLVM_Shallow_RS.bool.assn|const"><span>bool.assn</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>dflt</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option.option_assn_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option.option_assn_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option.option_assn_def_raw|axiom"><span class="entity_def" id="offset_74891..74901">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option.option_assn.cong|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option.option_assn.cong|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option.option_assn|const"><span class="entity_def" id="offset_74903..74914">option_assn</span></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>dflt</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift|const"><span>↑</span></a></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.pred_ex|const"><span>EXS</span></a></span><span> </span><span class="bound"><span>aa</span></span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.pred_ex|const"><span>.</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift|const"><span>↑</span></a></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="bound"><span>aa</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>aa</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option.hn_None|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option.hn_None|thm"><span>hn_None</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Misc.html#Sepref_Misc.uncurry0|const"><span>uncurry0</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a><span> </span><span class="free"><span>dflt</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Sepref_Misc.html#Sepref_Misc.uncurry0|const"><span>uncurry0</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.unit_assn|const"><span>unit_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_74903..74914"><span>option_assn</span></a><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_74891..74901"><span>option_assn_def</span></a><span> 
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg&apos;|method"><span class="operator"><span>vcg'</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option.hn_Some|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option.hn_Some|thm"><span>hn_Some</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefptnd|const"><span>]<span class="hidden">⇩</span><sub>c</sub></span></a></span><span> </span><span class="free"><span>A</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_74903..74914"><span>option_assn</span></a><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="bound"><span>a</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefptnd|const"><span>]<span class="hidden">⇩</span><sub>c</sub></span></a></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> a c
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>dflt</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_74781..74783"><span>UU</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_74891..74901"><span>option_assn_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg|method"><span class="operator"><span>vcg</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option.hn_the|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option.hn_the|thm"><span>hn_the</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfref|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfref|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfref|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfref|const"><span>]<span class="hidden">⇩</span><sub>c</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_74903..74914"><span>option_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfref|const"><span>→<span class="hidden">⇩</span><sub>d</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfref|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="bound"><span>a</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfref|const"><span>]<span class="hidden">⇩</span><sub>c</sub></span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_74891..74901"><span>option_assn_def</span></a><span> 
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg&apos;|method"><span class="operator"><span>vcg'</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option.hn_is_None|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option.hn_is_None|thm"><span>hn_is_None</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>is_dflt</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Bindings_HOL.html#Autoref_Bindings_HOL.is_None|const"><span>is_None</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_74903..74914"><span>option_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel_def|fact"><span>bool1_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool.assn_is_rel|fact"><span>bool.assn_is_rel</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_74891..74901"><span>option_assn_def</span></a><span> 
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_74818..74821"><span>CMP</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg_rules|attribute"><span class="operator"><span>vcg_rules</span></span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg&apos;|method"><span class="operator"><span>vcg'</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option.free_option_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option.free_option_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option.free_option_def_raw|axiom"><span class="entity_def" id="offset_75989..75999">definition</span></span></span></span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option.free_option.cong|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option.free_option.cong|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option.free_option|const"><span class="entity_def" id="offset_76016..76027">free_option</span></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>fr</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doM</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>d</span></span><span class="main"><span>←</span></span><span class="free"><span>is_dflt</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.llc_if|const"><span>llc_if</span></a><span> </span><span class="bound"><span>d</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>fr</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option.mk_free_option|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option.mk_free_option|thm"><span>mk_free_option</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Frame.html#Sepref_Frame.sepref_frame_free_rules|attribute"><span class="operator"><span>sepref_frame_free_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MK_FREED|fact"><span>MK_FREED</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg_rules|attribute"><span class="operator"><span>vcg_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MK_FREE|const"><span>MK_FREE</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>fr</span></span><span>"</span></span></span><span>  
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MK_FREE|const"><span>MK_FREE</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_74903..74914"><span>option_assn</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_76016..76027"><span>free_option</span></a><span> </span><span class="free"><span>fr</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_75989..75999"><span>free_option_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_74891..74901"><span>option_assn_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_74818..74821"><span>CMP</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg_rules|attribute"><span class="operator"><span>vcg_rules</span></span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg|method"><span class="operator"><span>vcg</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_76380..76385">lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option.option_assn_pure|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option.option_assn_pure|thm"><span>option_assn_pure</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.safe_constraint_rules|attribute"><span class="operator"><span>safe_constraint_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.is_pure|const"><span>is_pure</span></a><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.is_pure|const"><span>is_pure</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_74903..74914"><span>option_assn</span></a><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_76380..76385"><span>assms</span></a><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>P</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift|const"><span>↑</span></a></span><span class="main"><span>(</span></span><span class="skolem"><span>P</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.is_pure_def|fact"><span>is_pure_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>  
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.is_pureI|fact"><span>is_pureI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> P'</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>dflt</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>aa</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="bound"><span>aa</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>P</span></span><span> </span><span class="bound"><span>aa</span></span><span> </span><span class="bound"><span>c</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_74891..74901"><span>option_assn_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.sep_algebra_simps|fact"><span class="dynamic"><span class="dynamic"><span>sep_algebra_simps</span></span></span></a><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift_extract_simps|fact"><span>pred_lift_extract_simps</span></a><span class="main"><span>)</span></span><span>
      
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>    
    
    
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>    

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/devel/isabelle/lrat_isa/isabelle_llvm/thys/lib/named_simpsets.ML.html#Named_Simpsets.named_ss|attribute"><span class="operator"><span>named_ss</span></span></a><span> </span><span>llvm_pre_simp</span><span> </span><span class="quasi_keyword"><span>cong</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.dflt_option.free_option|const"><span>dflt_option.free_option</span></a><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option.axioms|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option.intro|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option_axioms.intro|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option_axioms_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option.axioms(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option.axioms(1)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option.intro|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option_axioms.intro|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option_axioms_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option_def|axiom"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option_axioms_def|axiom"><span>locale</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option|locale"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option|const"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option_axioms|const"><span>dflt_pure_option</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.dflt_option|locale"><span>dflt_option</span></a><span> </span><span class="main"><span>+</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option.A_pure|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option.A_pure|thm"><span class="entity_def" id="offset_76973..76979">A_pure</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.safe_constraint_rules|attribute"><span class="operator"><span>safe_constraint_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.is_pure|const"><span>is_pure</span></a><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>find_theorems</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MK_FREE|const"><span>MK_FREE</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.is_pure|const"><span>is_pure</span></a></span><span>

  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option.A_free|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option.A_free|thm"><span>A_free</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Frame.html#Sepref_Frame.sepref_frame_free_rules|attribute"><span class="operator"><span>sepref_frame_free_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MK_FREE|const"><span>MK_FREE</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.mk_free_is_pure|fact"><span>mk_free_is_pure</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_76973..76979"><span>A_pure</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>  

</span><span class="comment1"><span>(* TODO: Redundancies with dflt_option *)</span></span><span>
</span><span class="comment1"><span>(* TODO: Setup id-op phase to identify those operations *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Option type via unused implementation value, own set of operations.›</span></span></span><span>  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.intro|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.intro|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private_def|axiom"><span>locale</span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private|locale"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private|const"><span>dflt_option_private</span></span></span><span> </span><span class="main"><span>=</span></span><span>   
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>dflt</span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'c</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.llvm_rep|class"><span>llvm_rep</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.assn|type"><span>assn</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>is_dflt</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.UU|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.UU|thm"><span class="entity_def" id="offset_77455..77457">UU</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>dflt</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_false|const"><span>sep_false</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.CMP|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.CMP|thm"><span class="entity_def" id="offset_77492..77495">CMP</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="LLVM_Shallow_RS.html#LLVM_Shallow_RS.llvm_htriple|const"><span>llvm_htriple</span></a><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_empty|const"><span>□</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>is_dflt</span></span><span> </span><span class="free"><span>k</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="LLVM_Shallow_RS.html#LLVM_Shallow_RS.dr_assn_prefix|const"><span>↿</span></a></span><a class="entity_ref" href="LLVM_Shallow_RS.html#LLVM_Shallow_RS.bool.assn|const"><span>bool.assn</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>dflt</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.option_assn_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.option_assn_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.option_assn_def_raw|axiom"><span class="entity_def" id="offset_77565..77575">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.option_assn.cong|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.option_assn.cong|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.option_assn|const"><span class="entity_def" id="offset_77577..77588">option_assn</span></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>dflt</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift|const"><span>↑</span></a></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.pred_ex|const"><span>EXS</span></a></span><span> </span><span class="bound"><span>aa</span></span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.pred_ex|const"><span>.</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift|const"><span>↑</span></a></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="bound"><span>aa</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Separation_Algebra.Separation_Algebra.html#Separation_Algebra.sep_algebra_class.sep_conj|const"><span>**</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>aa</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span>"</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.None_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.None_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.None_def_raw|axiom"><span class="entity_def" id="offset_77660..77670">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.None|const"><span>None</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>None</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>Option.None</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.Some_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.Some_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.Some_def_raw|axiom"><span class="entity_def" id="offset_77713..77723">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.Some|const"><span>Some</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Some</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Option.Some</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.the_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.the_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.the_def_raw|axiom"><span class="entity_def" id="offset_77766..77776">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.the|const"><span>the</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>the</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>Option.the</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.is_None_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.is_None_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.is_None_def_raw|axiom"><span class="entity_def" id="offset_77816..77826">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.is_None|const"><span>is_None</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>is_None</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Bindings_HOL.html#Autoref_Bindings_HOL.is_None|const"><span>Autoref_Bindings_HOL.is_None</span></a><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.fold_None|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.fold_None|thm"><span class="entity_def" id="offset_77902..77911">fold_None</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_77660..77670"><span>None_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.fold_Some|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.fold_Some|thm"><span class="entity_def" id="offset_77943..77952">fold_Some</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_77713..77723"><span>Some_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.fold_the|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.fold_the|thm"><span class="entity_def" id="offset_77984..77992">fold_the</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_77766..77776"><span>the_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.fold_is_None|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.fold_is_None|thm"><span class="entity_def" id="offset_78023..78035">fold_is_None</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_77816..77826"><span>is_None_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.fold_is_None2|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.fold_is_None2(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.fold_is_None2(1)|thm"><span class="entity_def" id="offset_78072..78085">fold_is_None2</span></span></span></span><span class="main"><span>:</span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.dflt_option_private.None|const"><span>None</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.dflt_option_private.is_None|const"><span>is_None</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.dflt_option_private.None|const"><span>None</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.dflt_option_private.is_None|const"><span>is_None</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_77816..77826"><span>is_None_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_77660..77670"><span>None_def</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.split|fact"><span>option.split</span></a><span class="main"><span>)</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.fold_option|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.fold_option(6)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.fold_option(5)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.fold_option(4)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.fold_option(3)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.fold_option(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.fold_option(1)|thm"><span>fold_option</span></span></span></span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_77902..77911"><span>fold_None</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_77943..77952"><span>fold_Some</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_77984..77992"><span>fold_the</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_78023..78035"><span>fold_is_None</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_78072..78085"><span>fold_is_None2</span></a><span>
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.is_None.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.the.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.Some.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.None.itype|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.is_None.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.the.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.Some.itype|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.None.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.dflt_option_private.None|const"><span>None</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.dflt_option_private.Some|const"><span>Some</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.dflt_option_private.the|const"><span>the</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.dflt_option_private.is_None|const"><span>is_None</span></a></span><span>
  
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.hn_None|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.hn_None|thm"><span>hn_None</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Misc.html#Sepref_Misc.uncurry0|const"><span>uncurry0</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a><span> </span><span class="free"><span>dflt</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Sepref_Misc.html#Sepref_Misc.uncurry0|const"><span>uncurry0</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.dflt_option_private.None|const"><span>None</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.unit_assn|const"><span>unit_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_77577..77588"><span>option_assn</span></a><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_77565..77575"><span>option_assn_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_77660..77670"><span>None_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg&apos;|method"><span class="operator"><span>vcg'</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.hn_Some|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.hn_Some|thm"><span>hn_Some</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.dflt_option_private.Some|const"><span>Some</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>A</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_77577..77588"><span>option_assn</span></a><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> a c
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>dflt</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_77455..77457"><span>UU</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_77565..77575"><span>option_assn_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_77713..77723"><span>Some_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg|method"><span class="operator"><span>vcg</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.hn_the|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.hn_the|thm"><span>hn_the</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.dflt_option_private.the|const"><span>the</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>Option.None</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_77577..77588"><span>option_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_77565..77575"><span>option_assn_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_77766..77776"><span>the_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg&apos;|method"><span class="operator"><span>vcg'</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.hn_is_None|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.hn_is_None|thm"><span>hn_is_None</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>is_dflt</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.dflt_option_private.is_None|const"><span>is_None</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_77577..77588"><span>option_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_rel_def|fact"><span>bool1_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool.assn_is_rel|fact"><span>bool.assn_is_rel</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_to_hoare|method"><span class="operator"><span>sepref_to_hoare</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_77565..77575"><span>option_assn_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_77816..77826"><span>is_None_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_77492..77495"><span>CMP</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg_rules|attribute"><span class="operator"><span>vcg_rules</span></span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg&apos;|method"><span class="operator"><span>vcg'</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.free_option_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.free_option_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.free_option_def_raw|axiom"><span class="entity_def" id="offset_79321..79331">definition</span></span></span></span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.free_option.cong|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.free_option.cong|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.free_option|const"><span class="entity_def" id="offset_79348..79359">free_option</span></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>fr</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>doM</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>d</span></span><span class="main"><span>←</span></span><span class="free"><span>is_dflt</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.llc_if|const"><span>llc_if</span></a><span> </span><span class="bound"><span>d</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>fr</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.mk_free_option|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.mk_free_option|thm"><span>mk_free_option</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Frame.html#Sepref_Frame.sepref_frame_free_rules|attribute"><span class="operator"><span>sepref_frame_free_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MK_FREED|fact"><span>MK_FREED</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg_rules|attribute"><span class="operator"><span>vcg_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MK_FREE|const"><span>MK_FREE</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>fr</span></span><span>"</span></span></span><span>  
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MK_FREE|const"><span>MK_FREE</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_77577..77588"><span>option_assn</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_79348..79359"><span>free_option</span></a><span> </span><span class="free"><span>fr</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_79321..79331"><span>free_option_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_77565..77575"><span>option_assn_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_77492..77495"><span>CMP</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg_rules|attribute"><span class="operator"><span>vcg_rules</span></span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg|method"><span class="operator"><span>vcg</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_79714..79719">lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.option_assn_pure|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_option_private.option_assn_pure|thm"><span>option_assn_pure</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.safe_constraint_rules|attribute"><span class="operator"><span>safe_constraint_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.is_pure|const"><span>is_pure</span></a><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.is_pure|const"><span>is_pure</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_77577..77588"><span>option_assn</span></a><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_79714..79719"><span>assms</span></a><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>P</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift|const"><span>↑</span></a></span><span class="main"><span>(</span></span><span class="skolem"><span>P</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.is_pure_def|fact"><span>is_pure_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>  
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.is_pureI|fact"><span>is_pureI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> P'</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="free"><span>dflt</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>Option.None</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>aa</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Option.Some</span></a><span> </span><span class="bound"><span>aa</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>P</span></span><span> </span><span class="bound"><span>aa</span></span><span> </span><span class="bound"><span>c</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_77565..77575"><span>option_assn_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.sep_algebra_simps|fact"><span class="dynamic"><span class="dynamic"><span>sep_algebra_simps</span></span></span></a><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift_extract_simps|fact"><span>pred_lift_extract_simps</span></a><span class="main"><span>)</span></span><span>
      
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>    
    
    
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>    

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/devel/isabelle/lrat_isa/isabelle_llvm/thys/lib/named_simpsets.ML.html#Named_Simpsets.named_ss|attribute"><span class="operator"><span>named_ss</span></span></a><span> </span><span>llvm_pre_simp</span><span> </span><span class="quasi_keyword"><span>cong</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.dflt_option_private.free_option|const"><span>dflt_option_private.free_option</span></a><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option_private.axioms|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option_private.intro|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option_private_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option_private_axioms.intro|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option_private_axioms_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option_private.axioms(2)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option_private.axioms(1)|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option_private.intro|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option_private_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option_private_axioms.intro|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option_private_axioms_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option_private_def|axiom"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option_private_axioms_def|axiom"><span>locale</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option_private|locale"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option_private|const"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option_private_axioms|const"><span>dflt_pure_option_private</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.dflt_option_private|locale"><span>dflt_option_private</span></a><span> </span><span class="main"><span>+</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option_private.A_pure|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option_private.A_pure|thm"><span class="entity_def" id="offset_80345..80351">A_pure</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.safe_constraint_rules|attribute"><span class="operator"><span>safe_constraint_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.is_pure|const"><span>is_pure</span></a><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option_private.A_free|fact"><span class="entity_def" id="Sepref_HOL_Bindings.dflt_pure_option_private.A_free|thm"><span>A_free</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Frame.html#Sepref_Frame.sepref_frame_free_rules|attribute"><span class="operator"><span>sepref_frame_free_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MK_FREE|const"><span>MK_FREE</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.mk_free_is_pure|fact"><span>mk_free_is_pure</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#offset_80345..80351"><span>A_pure</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>  



</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.snat.A_free|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat.A_pure|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat.dflt_pure_option_axioms|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat.option_assn_pure|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat.mk_free_option|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat.free_option_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat.hn_is_None|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat.hn_the|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat.hn_Some|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat.hn_None|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat.option_assn_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat.CMP|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat.UU|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat.dflt_option_axioms|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat.UU|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat.CMP|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat.option_assn_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat.A_free|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat.A_pure|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat.dflt_pure_option_axioms|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat.option_assn_pure|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat.mk_free_option|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat.free_option_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat.hn_is_None|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat.hn_the|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat.hn_Some|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat.hn_None|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat.dflt_option_axioms|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat.free_option|const"><span class="entity_def" id="Sepref_HOL_Bindings.snat.option_assn|const"><span>interpretation</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> snat</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.dflt_pure_option|locale"><span>dflt_pure_option</span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_icmp_eq|const"><span>ll_icmp_eq</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>unfold_locales</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_rel_def|fact"><span>snat_rel_def</span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.pure_def|fact"><span>pure_def</span></a><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift_extract_simps|fact"><span>pred_lift_extract_simps</span></a><span> </span><span class="quasi_keyword"><span>del</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.rel_def|fact"><span>snat.rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat_invar_def|fact"><span>snat_invar_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>goal_cases</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>1</span><span>
    </span><span class="keyword1"><span class="command"><span>interpret</span></span></span><span> </span><a class="entity_ref" href="LLVM_Shallow_RS.html#LLVM_Shallow_RS.llvm_prim_arith_setup|locale"><span>llvm_prim_arith_setup</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="LLVM_Shallow_RS.html#LLVM_Shallow_RS.bool.assn_def|fact"><span>bool.assn_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg&apos;|method"><span class="operator"><span>vcg'</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>  
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Sepref_HOL_Bindings.snat_option_assn&apos;|const"><span>snat_option_assn'</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span>itself</span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="LLVM_Simple_Memory_RS.html#LLVM_Simple_Memory_RS.llvm_amemory|type"><span>llvm_amemory</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>snat_option_assn'</span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat.option_assn|const"><span>snat.option_assn</span></a><span>"</span></span></span><span>
  
  
</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Additional Operations›</span></span></span><span>  

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Additional operations, for which we need the basic framework already set up.›</span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Subtraction that Saturates at 0 on Underflow›</span></span></span><span>  
  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.op_nat_sub_ovf_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_nat_sub_ovf_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.op_nat_sub_ovf_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Sepref_HOL_Bindings.op_nat_sub_ovf|const"><span>op_nat_sub_ovf</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>op_nat_sub_ovf</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.op_nat_sub_ovf_is_sub|fact"><span class="entity_def" id="Sepref_HOL_Bindings.op_nat_sub_ovf_is_sub|thm"><span>op_nat_sub_ovf_is_sub</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_nat_sub_ovf|const"><span>op_nat_sub_ovf</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>(-)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_nat_sub_ovf_def|fact"><span>op_nat_sub_ovf_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_split|fact"><span>if_split</span></a><span> </span><span class="quasi_keyword"><span>del</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Sepref_HOL_Bindings.fold_nat_sub_ovf|fact"><span class="entity_def" id="Sepref_HOL_Bindings.fold_nat_sub_ovf|thm"><span>fold_nat_sub_ovf</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>(-)</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_nat_sub_ovf|const"><span>op_nat_sub_ovf</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Sepref_HOL_Bindings.snat_sub_ovf_impl|const"><span>snat_sub_ovf_impl</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>oo</span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_nat_sub_ovf|const"><span>op_nat_sub_ovf</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn&apos;|const"><span>snat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn&apos;|const"><span>snat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn&apos;|const"><span>snat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.op_nat_sub_ovf_def|fact"><span>op_nat_sub_ovf_def</span></a><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.annot_snat_const|method"><span class="operator"><span>annot_snat_const</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.snat_sub_ovf_impl.refine|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat_sub_ovf_impl_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat_sub_ovf_impl.refine_raw|fact"><span class="entity_def" id="Sepref_HOL_Bindings.snat_sub_ovf_impl.refine|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat_sub_ovf_impl_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat_sub_ovf_impl.refine_raw|thm"><span class="entity_def" id="Sepref_HOL_Bindings.snat_sub_ovf_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
  
</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_sub_ovf_impl.refine|fact"><span>snat_sub_ovf_impl.refine</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span>
  


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Ad-Hoc Regression Tests›</span></span></span><span>  
  
</span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Sepref_HOL_Bindings.example1|const"><span>example1</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>{</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><span class="numeral"><span>10</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>..</span></a></span><span class="numeral"><span>10</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>}</span></a></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn&apos;|const"><span>sint_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="numeral"><span>7</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.annot_sint_const|method"><span class="operator"><span>annot_sint_const</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="numeral"><span>7</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.example1.refine|fact"><span class="entity_def" id="Sepref_HOL_Bindings.example1_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.example1.refine_raw|fact"><span class="entity_def" id="Sepref_HOL_Bindings.example1.refine|thm"><span class="entity_def" id="Sepref_HOL_Bindings.example1_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.example1.refine_raw|thm"><span class="entity_def" id="Sepref_HOL_Bindings.example1_def_raw|axiom"><span>done</span></span></span></span></span></span></span></span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Sepref_HOL_Bindings.example2|const"><span>example2</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>{</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><span class="numeral"><span>10</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>..</span></a></span><span class="numeral"><span>10</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>}</span></a></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>7</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Signed_Division.html#Signed_Division.signed_modulo_class.signed_modulo|const"><span>smod</span></a></span><span> </span><span class="numeral"><span>15</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="numeral"><span>3</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Signed_Division.html#Signed_Division.signed_divide_class.signed_divide|const"><span>sdiv</span></a></span><span> </span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn&apos;|const"><span>sint_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="numeral"><span>7</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.sint_assn&apos;|const"><span>sint_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="numeral"><span>7</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.annot_sint_const|method"><span class="operator"><span>annot_sint_const</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="numeral"><span>7</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.example2.refine|fact"><span class="entity_def" id="Sepref_HOL_Bindings.example2_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.example2.refine_raw|fact"><span class="entity_def" id="Sepref_HOL_Bindings.example2.refine|thm"><span class="entity_def" id="Sepref_HOL_Bindings.example2_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.example2.refine_raw|thm"><span class="entity_def" id="Sepref_HOL_Bindings.example2_def_raw|axiom"><span>done</span></span></span></span></span></span></span></span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Sepref_HOL_Bindings.example1n|const"><span>example1n</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>{</span></a></span><span class="numeral"><span>2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>..</span></a></span><span class="numeral"><span>10</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>}</span></a></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn&apos;|const"><span>snat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="numeral"><span>7</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.annot_snat_const|method"><span class="operator"><span>annot_snat_const</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="numeral"><span>7</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.example1n.refine|fact"><span class="entity_def" id="Sepref_HOL_Bindings.example1n_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.example1n.refine_raw|fact"><span class="entity_def" id="Sepref_HOL_Bindings.example1n.refine|thm"><span class="entity_def" id="Sepref_HOL_Bindings.example1n_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.example1n.refine_raw|thm"><span class="entity_def" id="Sepref_HOL_Bindings.example1n_def_raw|axiom"><span>done</span></span></span></span></span></span></span></span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Sepref_HOL_Bindings.example2n|const"><span>example2n</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>{</span></a></span><span class="numeral"><span>5</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>..</span></a></span><span class="numeral"><span>10</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>}</span></a></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>7</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.modulo_class.modulo|const"><span>mod</span></a></span><span> </span><span class="numeral"><span>15</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="numeral"><span>3</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.divide_class.divide|const"><span>div</span></a></span><span> </span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> 
  </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn&apos;|const"><span>snat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="numeral"><span>7</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn&apos;|const"><span>snat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="numeral"><span>7</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.annot_snat_const|method"><span class="operator"><span>annot_snat_const</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="numeral"><span>7</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.example2n.refine|fact"><span class="entity_def" id="Sepref_HOL_Bindings.example2n_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.example2n.refine_raw|fact"><span class="entity_def" id="Sepref_HOL_Bindings.example2n.refine|thm"><span class="entity_def" id="Sepref_HOL_Bindings.example2n_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.example2n.refine_raw|thm"><span class="entity_def" id="Sepref_HOL_Bindings.example2n_def_raw|axiom"><span>done</span></span></span></span></span></span></span></span></span></span></span></span><span>
  
      
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_code|attribute"><span class="operator"><span>llvm_code</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.example1_def|fact"><span>example1_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.example2_def|fact"><span>example2_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.example1n_def|fact"><span>example1n_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.example2n_def|fact"><span>example2n_def</span></a><span>  
  
</span><span class="keyword1"><span class="command"><span>llvm_deps</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.example1|const"><span>example1</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.example2|const"><span>example2</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.example1n|const"><span>example1n</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.example2n|const"><span>example2n</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>export_llvm</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.example1|const"><span>example1</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.example2|const"><span>example2</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.example1n|const"><span>example1n</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.example2n|const"><span>example2n</span></a></span><span>
  

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.example3_abs_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.example3_abs_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.example3_abs_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Sepref_HOL_Bindings.example3_abs|const"><span>example3_abs</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Type_Length.html#Type_Length.len|class"><span>len</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres|type"><span>nres</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>example3_abs</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span>
    </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.WHILET|const"><span>WHILET</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span class="bound"><span>b</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="bound"><span>b</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="bound"><span>a</span></span><span>
  </span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Sepref_HOL_Bindings.example3|const"><span>example3</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.example3_abs|const"><span>example3_abs</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.word_assn|const"><span>word_assn</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.example3_abs_def|fact"><span>example3_abs_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_dbg_keep|method"><span class="operator"><span>sepref_dbg_keep</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.example3.refine|fact"><span class="entity_def" id="Sepref_HOL_Bindings.example3_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.example3.refine_raw|fact"><span class="entity_def" id="Sepref_HOL_Bindings.example3.refine|thm"><span class="entity_def" id="Sepref_HOL_Bindings.example3_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.example3.refine_raw|thm"><span class="entity_def" id="Sepref_HOL_Bindings.example3_def_raw|axiom"><span>done</span></span></span></span></span></span></span></span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.example3n_abs_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.example3n_abs_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.example3n_abs_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Sepref_HOL_Bindings.example3n_abs|const"><span>example3n_abs</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.nres|type"><span>nres</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>example3n_abs</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span>
    </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.WHILET|const"><span>WHILET</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span class="bound"><span>b</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="bound"><span>b</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="bound"><span>a</span></span><span>
  </span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Sepref_HOL_Bindings.example3n|const"><span>example3n</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.example3n_abs|const"><span>example3n_abs</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn&apos;|const"><span>snat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="numeral"><span>32</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn&apos;|const"><span>snat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="numeral"><span>32</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn&apos;|const"><span>snat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="numeral"><span>32</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.example3n_abs_def|fact"><span>example3n_abs_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_dbg_keep|method"><span class="operator"><span>sepref_dbg_keep</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.example3n.refine|fact"><span class="entity_def" id="Sepref_HOL_Bindings.example3n_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.example3n.refine_raw|fact"><span class="entity_def" id="Sepref_HOL_Bindings.example3n.refine|thm"><span class="entity_def" id="Sepref_HOL_Bindings.example3n_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.example3n.refine_raw|thm"><span class="entity_def" id="Sepref_HOL_Bindings.example3n_def_raw|axiom"><span>done</span></span></span></span></span></span></span></span></span></span></span></span><span>
  
  
    
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_code|attribute"><span class="operator"><span>llvm_code</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.example3_def|fact"><span>example3_def</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.example3n_def|fact"><span>example3n_def</span></a><span>  
</span><span class="keyword1"><span class="command"><span>export_llvm</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.example3|const"><span>example3</span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="numeral"><span>32</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.example3|const"><span>example3</span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="numeral"><span>64</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.example3n|const"><span>example3n</span></a><span>"</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Sepref_HOL_Bindings.example4n|const"><span>example4n</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span>
       </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftr|const"><span>&gt;&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
       </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl|const"><span>&lt;&lt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat|const"><span>max_snat</span></a><span> </span><span class="numeral"><span>7</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
       </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Word_Lib.Bit_Shifts_Infix_Syntax.html#Bit_Shifts_Infix_Syntax.semiring_bit_operations_class.shiftl|const"><span>&lt;&lt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>
   </span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn&apos;|const"><span>snat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="numeral"><span>7</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.annot_snat_const|method"><span class="operator"><span>annot_snat_const</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="numeral"><span>7</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_dbg_keep|method"><span class="operator"><span>sepref_dbg_keep</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span class="entity_def" id="Sepref_HOL_Bindings.example4n.refine|fact"><span class="entity_def" id="Sepref_HOL_Bindings.example4n_def|fact"><span class="entity_def" id="Sepref_HOL_Bindings.example4n.refine_raw|fact"><span class="entity_def" id="Sepref_HOL_Bindings.example4n.refine|thm"><span class="entity_def" id="Sepref_HOL_Bindings.example4n_def|thm"><span class="entity_def" id="Sepref_HOL_Bindings.example4n.refine_raw|thm"><span class="entity_def" id="Sepref_HOL_Bindings.example4n_def_raw|axiom"><span>done</span></span></span></span></span></span></span></span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_code|attribute"><span class="operator"><span>llvm_code</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.example4n_def|fact"><span>example4n_def</span></a><span>

</span><span class="keyword1"><span class="command"><span>llvm_deps</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.example4n|const"><span>example4n</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>export_llvm</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.example4n|const"><span>example4n</span></a></span><span>

</span><span class="comment1"><span>(* TODO: Characters as i8 *)</span></span><span>  
  
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre>
</body>

</html>