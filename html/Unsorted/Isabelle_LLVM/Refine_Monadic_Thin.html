<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Refine_Monadic_Thin</title>
</head>


<body>
<div class="head">
<h1>Theory Refine_Monadic_Thin</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹The Monadic Refinement Framework --- Naked›</span></span></span><span>
</span><span class="comment1"><span>(* TODO: Move to Refine_Monadic entry! *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="Refine_Monadic_Thin.html"><span>Refine_Monadic_Thin</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> 
  </span><span class="quoted"><span>"</span><a href="../../AFP/Refine_Monadic/Refine_Basic.html"><span>Refine_Monadic.Refine_Basic</span></a><span>"</span></span><span>
  </span><span class="quoted"><span>"</span><a href="../../AFP/Refine_Monadic/Refine_Leof.html"><span>Refine_Monadic.Refine_Leof</span></a><span>"</span></span><span>
  </span><span class="quoted"><span>"</span><a href="../../AFP/Refine_Monadic/Refine_Heuristics.html"><span>Refine_Monadic.Refine_Heuristics</span></a><span>"</span></span><span>
  </span><span class="quoted"><span>"</span><a href="../../AFP/Refine_Monadic/Refine_More_Comb.html"><span>Refine_Monadic.Refine_More_Comb</span></a><span>"</span></span><span>
  </span><span class="quoted"><span>"</span><a href="../../AFP/Refine_Monadic/Refine_While.html"><span>Refine_Monadic.Refine_While</span></a><span>"</span></span><span>
  </span><span class="quoted"><span>"</span><a href="../../AFP/Refine_Monadic/Refine_Foreach.html"><span>Refine_Monadic.Refine_Foreach</span></a><span>"</span></span><span> 
  </span><span class="quoted"><span>"</span><a href="../../AFP/Refine_Monadic/Refine_Transfer.html"><span>Refine_Monadic.Refine_Transfer</span></a><span>"</span></span><span>
  </span><span class="quoted"><span>"</span><a href="../../AFP/Refine_Monadic/Refine_Pfun.html"><span>Refine_Monadic.Refine_Pfun</span></a><span>"</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹
    Monadic Refinement Framework, without Autoref.
    ›</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Adaptations›</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Bindings_HOL.html#Autoref_Bindings_HOL.is_None_def|fact"><span>is_None_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>del</span></span><span class="main"><span>]</span></span><span>  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Refine_Monadic_Thin.is_None_alt|fact"><span class="entity_def" id="Refine_Monadic_Thin.is_None_alt|thm"><span>is_None_alt</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Bindings_HOL.html#Autoref_Bindings_HOL.is_None|const"><span>is_None</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_eq_iff|fact"><span>fun_eq_iff</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Autoref_Bindings_HOL.html#Autoref_Bindings_HOL.is_None_def|fact"><span>is_None_def</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.splits|fact"><span>option.splits</span></a><span class="main"><span>)</span></span><span>
  
    
  </span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Convenience Constructs›</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="Refine_Monadic_Thin.REC_annot_def|fact"><span class="entity_def" id="Refine_Monadic_Thin.REC_annot_def|thm"><span class="entity_def" id="Refine_Monadic_Thin.REC_annot_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Refine_Monadic_Thin.REC_annot|const"><span>REC_annot</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>pre</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>post</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>body</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> 
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/RefineG_Recursion.html#RefineG_Recursion.REC|const"><span>REC</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>D</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>pre</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>←</span></span><span class="free"><span class="bound"><span class="entity"><span>body</span></span></span></span><span> </span><span class="bound"><span>D</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>post</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="bound"><span>r</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span>"</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>theorem</span></span></span><span> </span><span class="entity_def" id="Refine_Monadic_Thin.REC_annot_rule|fact"><span class="entity_def" id="Refine_Monadic_Thin.REC_annot_rule|thm"><span>REC_annot_rule</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|attribute"><span class="operator"><span>refine_vcg</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>M</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Refine_Monadic/RefineG_Recursion.html#RefineG_Recursion.trimono|const"><span>trimono</span></a><span> </span><span class="free"><span>body</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>P</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>pre</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_918..919">S</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟦</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>pre</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.SPEC|const"><span>SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>post</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>pre</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>⟧</span></span><span> 
            </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>body</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.SPEC|const"><span>SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>post</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_1018..1019">C</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>post</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Φ</span></span><span> </span><span class="bound"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Refine_Monadic_Thin.html#Refine_Monadic_Thin.REC_annot|const"><span>REC_annot</span></a><span> </span><span class="free"><span>pre</span></span><span> </span><span class="free"><span>post</span></span><span> </span><span class="free"><span>body</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.SPEC|const"><span>SPEC</span></a><span> </span><span class="free"><span>Φ</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>`</span><a class="entity_ref" href="../../AFP/Refine_Monadic/RefineG_Recursion.html#RefineG_Recursion.trimono|const"><span>trimono</span></a><span> </span><span class="free"><span>body</span></span><span>`</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/AFP/Refine_Monadic/refine_mono_prover.ML.html#Refine_Mono_Prover.refine_mono|attribute"><span class="operator"><span>refine_mono</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
      </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>g</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>xa</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/RefineG_Domain.html#RefineG_Domain.flat_ge|const"><span>flat_ge</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>g</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/RefineG_Domain.html#RefineG_Domain.flat_ge|const"><span>flat_ge</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>body</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>body</span></span><span> </span><span class="bound"><span>g</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>g</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>xa</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="bound"><span>g</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>body</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>body</span></span><span> </span><span class="bound"><span>g</span></span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/RefineG_Recursion.html#RefineG_Recursion.trimono_def|fact"><span>trimono_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.monotone_def|fact"><span>monotone_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Partial_Function.html#Partial_Function.fun_ord_def|fact"><span>fun_ord_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.order_class.mono_def|fact"><span>mono_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.le_fun_def|fact"><span>le_fun_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Refine_Monadic_Thin.html#Refine_Monadic_Thin.REC_annot_def|fact"><span>REC_annot_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.preorder_class.order_trans|fact"><span>order_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> y</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.SPEC|const"><span>SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>post</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_rcg|method"><span class="operator"><span>refine_rcg</span></span></a><span> 
        </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|fact"><span class="dynamic"><span class="dynamic"><span>refine_vcg</span></span></span></a><span> 
        </span><a class="entity_ref" href="../../AFP/Refine_Monadic/RefineG_Recursion.html#RefineG_Recursion.REC_rule|fact"><span>REC_rule</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> pre</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="free"><span>pre</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>and</span></span></span></span></span><span> M</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.SPEC|const"><span>SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>post</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span>
        </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.preorder_class.order_trans|fact"><span>order_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Refine_Monadic_Thin.html#offset_918..919"><span>S</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
      </span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>fact</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Refine_Monadic_Thin.html#offset_1018..1019"><span>C</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Syntax Sugar›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>locale</span></span></span><span> </span><span class="entity_def" id="Refine_Monadic_Thin.Refine_Monadic_Syntax|locale"><span>Refine_Monadic_Syntax</span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
  
    </span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.SPEC|const"><span>SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>binder</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>spec</span></span><span> "</span></span><span> 10</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>assert</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>return</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Foreach.html#Refine_Foreach.FOREACH|const"><span>FOREACH</span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>foreach</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.WHILE|const"><span>WHILE</span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>while</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.WHILET|const"><span>WHILET</span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>while<span class="hidden">⇩</span><sub>T</sub></span></span><span>"</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.WHILEI|const"><span>WHILEI</span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>while⇗</span></span><span>_</span><span class="keyword1"><span>⇖</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.WHILET|const"><span>WHILET</span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>while<span class="hidden">⇩</span><sub>T</sub></span></span><span>"</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.WHILEIT|const"><span>WHILEIT</span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>while<span class="hidden">⇩</span><sub>T</sub>⇗</span></span><span>_</span><span class="keyword1"><span>⇖</span></span><span>"</span></span><span class="main"><span>)</span></span><span>

    </span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/RefineG_Recursion.html#RefineG_Recursion.RECT|const"><span>RECT</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>binder</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>rec<span class="hidden">⇩</span><sub>T</sub></span></span><span> "</span></span><span> 10</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/RefineG_Recursion.html#RefineG_Recursion.REC|const"><span>REC</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>binder</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>rec</span></span><span> "</span></span><span> 10</span><span class="main"><span>)</span></span><span>

    </span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_More_Comb.html#Refine_More_Comb.SELECT|const"><span>SELECT</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>binder</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>select</span></span><span> "</span></span><span> 10</span><span class="main"><span>)</span></span><span>
      
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
    
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre>
</body>

</html>