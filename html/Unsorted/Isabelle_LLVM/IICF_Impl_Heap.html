<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory IICF_Impl_Heap</title>
</head>


<body>
<div class="head">
<h1>Theory IICF_Impl_Heap</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Implementation of Heaps with Arrays›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="IICF_Impl_Heap.html"><span>IICF_Impl_Heap</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> 
  </span><a href="IICF_Abs_Heap.html"><span>IICF_Abs_Heap</span></a><span> 
  </span><span class="quoted"><span>"</span><a href="IICF_Array.html"><span>../IICF_Array</span></a><span>"</span></span><span> 
  </span><span class="quoted"><span>"</span><a href="IICF_Array_List.html"><span>../IICF_Array_List</span></a><span>"</span></span><span> 
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

  </span><span class="comment1"><span>(* TODO: Move *)</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="IICF_Array_List.html#IICF_Array_List.al_assn|const"><span>al_assn</span></a></span><span>

  </span><span class="comment1"><span>(* TODO: Move *)</span></span><span>      
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.size_mset_param|fact"><span class="entity_def" id="IICF_Impl_Heap.size_mset_param|thm"><span>size_mset_param</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Param_Tool.html#Param_Tool.param|attribute"><span class="operator"><span>param</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.size_class.size|const"><span>size</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.size_class.size|const"><span>size</span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="main"><span>⟨</span></span><span class="free"><span>A</span></span><span class="main"><span>⟩</span></span><a class="entity_ref" href="IICF_Multiset.html#IICF_Multiset.mset_rel|const"><span>mset_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.nat_rel|const"><span>nat_rel</span></a><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="IICF_Multiset.html#IICF_Multiset.mset_rel_def|fact"><span>mset_rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.p2rel_def|fact"><span>p2rel_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.rel_mset_size|fact"><span>rel_mset_size</span></a><span class="main"><span>)</span></span><span>
    

  </span><span class="comment1"><span>(* TODO: Move *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.rdomp_ref_mk_assn_iff|fact"><span class="entity_def" id="IICF_Impl_Heap.rdomp_ref_mk_assn_iff|thm"><span>rdomp_ref_mk_assn_iff</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.rdomp|const"><span>rdomp</span></a><span> </span><span class="main"><a class="entity_ref" href="LLVM_Shallow_RS.html#LLVM_Shallow_RS.dr_assn_prefix|const"><span>↿</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="LLVM_Shallow_RS.html#LLVM_Shallow_RS.mk_assn|const"><span>mk_assn</span></a><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.rdomp|const"><span>rdomp</span></a><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.rdomp_def|fact"><span>rdomp_def</span></a><span class="main"><span>)</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.vcg_prep_ext_rules|fact"><span class="dynamic"><span class="dynamic"><span>vcg_prep_ext_rules</span></span></span></a><span>  
    
  </span><span class="keyword1"><span class="command"><span>find_theorems</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pure_part|const"><span>pure_part</span></a></span><span>  
    
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_528..533">lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.rdomp_arl_assn_len|fact"><span class="entity_def" id="IICF_Impl_Heap.rdomp_arl_assn_len|thm"><span>rdomp_arl_assn_len</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.rdomp|const"><span>rdomp</span></a><span> </span><span class="main"><a class="entity_ref" href="LLVM_Shallow_RS.html#LLVM_Shallow_RS.dr_assn_prefix|const"><span>↿</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="LLVM_DS_Array_List.html#LLVM_DS_Array_List.arl_assn|const"><span>arl_assn</span></a><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.llvm_rep|class"><span>llvm_rep</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'l</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'l</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ptr|type"><span>ptr</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="LLVM_Shallow_RS.html#LLVM_Shallow_RS.dr_assn|type"><span>dr_assn</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>xs</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat|const"><span>max_snat</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_528..533"><span>assms</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 
      </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.rdomp_def|fact"><span>rdomp_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Array_List.html#LLVM_DS_Array_List.arl_assn_def|fact"><span>arl_assn_def</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Array_List.html#LLVM_DS_Array_List.arl_assn&apos;_def|fact"><span>arl_assn'_def</span></a><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.sep_algebra_simps|fact"><span class="dynamic"><span class="dynamic"><span>sep_algebra_simps</span></span></span></a><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pred_lift_extract_simps|fact"><span>pred_lift_extract_simps</span></a><span>
      </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.snat.assn_def|fact"><span>snat.assn_def</span></a><span>
      </span><span class="main"><span>)</span></span><span>

  </span><span class="keyword1"><span class="command"><span>find_theorems</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.vassn_tag|const"><span>vassn_tag</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_refine|const"><span>hn_refine</span></a></span><span>

      
  </span><span class="comment1"><span>(* TODO: Very specialized workaround lemma, to work around invalid-recombination
    problem for case that B is pure 
  *)</span></span><span>    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.workaround_invalid_recombine_pure2|fact"><span class="entity_def" id="IICF_Impl_Heap.workaround_invalid_recombine_pure2|thm"><span>workaround_invalid_recombine_pure2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.is_pure|const"><span>is_pure</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt|const"><span>hn_ctxt</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.invalid_assn|const"><span>invalid_assn</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>×<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ax</span></span><span> </span><span class="free"><span>px</span></span><span> </span><span class="main"><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_invalid|const"><span>hn_invalid</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>×<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ax</span></span><span> </span><span class="free"><span>px</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.hn_ctxt_def|fact"><span>hn_ctxt_def</span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.invalid_assn_def|fact"><span>invalid_assn_def</span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn_def|fact"><span>prod_assn_def</span></a><span> </span><a class="entity_ref" href="Frame_Infer.html#Frame_Infer.entails_def|fact"><span>entails_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.split|fact"><span>prod.split</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.is_pureE|fact"><span>is_pureE</span></a><span> 
      </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.sep_algebra_simps|fact"><span class="dynamic"><span class="dynamic"><span>sep_algebra_simps</span></span></span></a><span> </span><a class="entity_ref" href="Sep_Algebra_Add.html#Sep_Algebra_Add.pure_part_pure_conj_eq|fact"><span>pure_part_pure_conj_eq</span></a><span class="main"><span>)</span></span><span>
    
  </span><span class="comment1"><span>(* TODO: Move
    TODO: Should be generic algorithm!
  *)</span></span><span>  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.mop_list_swap_unfold|fact"><span class="entity_def" id="IICF_Impl_Heap.mop_list_swap_unfold|thm"><span>mop_list_swap_unfold</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_List.html#IICF_List.mop_list_swap|const"><span>mop_list_swap</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span>
    </span><span class="bound"><span>xi</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="IICF_List.html#IICF_List.mop_list_get|const"><span>mop_list_get</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>;</span></span><span>
    </span><span class="bound"><span>xj</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="IICF_List.html#IICF_List.mop_list_get|const"><span>mop_list_get</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>j</span></span><span class="main"><span>;</span></span><span>
    </span><span class="bound"><span>xs</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="IICF_List.html#IICF_List.mop_list_set|const"><span>mop_list_set</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="bound"><span>xj</span></span><span class="main"><span>;</span></span><span>
    </span><a class="entity_ref" href="IICF_List.html#IICF_List.mop_list_set|const"><span>mop_list_set</span></a><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="bound"><span>xi</span></span><span>
  </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.pw_eq_iff|fact"><span>pw_eq_iff</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_pw_simps|fact"><span class="dynamic"><span class="dynamic"><span>refine_pw_simps</span></span></span></a><span> </span><a class="entity_ref" href="More_List.html#More_List.swap_def|fact"><span>swap_def</span></a><span class="main"><span>)</span></span><span>
  
    


  </span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹We implement the heap data structure by an array.
    The implementation is automatically synthesized by the Sepref-tool.
    ›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Setup of the Sepref-Tool›</span></span></span><span>

  </span><span class="comment1"><span>(* TODO: Move *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.mset_rel_id|fact"><span class="entity_def" id="IICF_Impl_Heap.mset_rel_id|thm"><span>mset_rel_id</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟨</span></span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span class="main"><span>⟩</span></span><a class="entity_ref" href="IICF_Multiset.html#IICF_Multiset.mset_rel|const"><span>mset_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Multiset.html#IICF_Multiset.mset_rel_def|fact"><span>mset_rel_def</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.rel2p|fact"><span class="dynamic"><span class="dynamic"><span>rel2p</span></span></span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.Multiset.multiset.rel_eq|fact"><span>multiset.rel_eq</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.p2rel|fact"><span class="dynamic"><span class="dynamic"><span>p2rel</span></span></span></a><span class="main"><span>)</span></span><span>
  
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.N_def|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.intro|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.N_def|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.intro|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl_def|axiom"><span class="entity_def" id="offset_1965..1971">locale</span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.heap_impl|locale"><span class="entity_def" id="IICF_Impl_Heap.heap_impl|const"><span>heap_impl</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Abs_Heap.html#IICF_Abs_Heap.heapstruct|locale"><span>heapstruct</span></a><span> </span><span class="quoted"><span class="free"><span>prio</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>prio</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'e</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'p</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.linorder|class"><span>linorder</span></a><span>"</span></span></span><span> </span><span class="main"><span>+</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>prio_assn</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'p</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'pi</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.llvm_rep|class"><span>llvm_rep</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.assn|type"><span>assn</span></a><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>elem_assn</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'e</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'ei</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.llvm_rep|class"><span>llvm_rep</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.assn|type"><span>assn</span></a><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>prio_impl</span></span><span> </span><span class="free"><span>le_prio_impl</span></span><span> </span><span class="free"><span>lt_prio_impl</span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>ltype</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'l</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span> </span><span>itself</span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.heap_impl.prio_is_pure|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.prio_is_pure|thm"><span class="entity_def" id="offset_2231..2243">prio_is_pure</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.safe_constraint_rules|attribute"><span class="operator"><span>safe_constraint_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.is_pure|const"><span>is_pure</span></a><span> </span><span class="free"><span>prio_assn</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.heap_impl.elem_is_pure|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.elem_is_pure|thm"><span class="entity_def" id="offset_2300..2312">elem_is_pure</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Constraints.html#Sepref_Constraints.safe_constraint_rules|attribute"><span class="operator"><span>safe_constraint_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.is_pure|const"><span>is_pure</span></a><span> </span><span class="free"><span>elem_assn</span></span><span>"</span></span></span><span>  
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.heap_impl.prio_impl_refine|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.prio_impl_refine|thm"><span>prio_impl_refine</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>prio_impl</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>prio</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span class="free"><span>elem_assn</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="free"><span>prio_assn</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.heap_impl.le_prio_impl_refine|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.le_prio_impl_refine|thm"><span>le_prio_impl_refine</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
      </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="free"><span>le_prio_impl</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>oo</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>(≤)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>prio_assn</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="free"><span>prio_assn</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.heap_impl.lt_prio_impl_refine|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.lt_prio_impl_refine|thm"><span>lt_prio_impl_refine</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
      </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="free"><span>lt_prio_impl</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>oo</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>(&lt;)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>prio_assn</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="free"><span>prio_assn</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
      
    </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>N</span></span><span> </span><span class="keyword2"><span class="keyword"><span>defines</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>N</span></span><span class="main"><span>≡</span></span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="comment1"><span>(*assumes l_len[simp,arith]: "4 &lt; LENGTH('l)"*)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
      
    </span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.assn|const"><span class="entity_def" id="offset_2892..2896">assn</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="IICF_Array_List.html#IICF_Array_List.al_assn&apos;|const"><span>al_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>elem_assn</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.idx_assn|const"><span class="entity_def" id="offset_2946..2954">idx_assn</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn&apos;|const"><span>snat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.heap_assn_def|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.heap_assn_def|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.heap_assn_def_raw|axiom"><span class="entity_def" id="offset_2982..2992">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.heap_assn.cong|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.heap_assn.cong|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.heap_assn|const"><span class="entity_def" id="offset_2994..3003">heap_assn</span></span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hr_comp|const"><span>hr_comp</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Array_List.html#IICF_Array_List.al_assn|const"><span>al_assn</span></a><span> </span><span class="free"><span>elem_assn</span></span><span class="main"><span>)</span></span><span> </span><span>heap_rel1</span><span>"</span></span></span><span>

    </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.heap_impl.mk_free_heap_assn|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.mk_free_heap_assn|thm"><span>mk_free_heap_assn</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Frame.html#Sepref_Frame.sepref_frame_free_rules|attribute"><span class="operator"><span>sepref_frame_free_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.MK_FREE|const"><span>MK_FREE</span></a><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2994..3003"><span>heap_assn</span></a><span> </span><a class="entity_ref" href="LLVM_DS_Array_List.html#LLVM_DS_Array_List.arl_free|const"><span>arl_free</span></a><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2982..2992"><span>heap_assn_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Frame.html#Sepref_Frame.sepref_frame_free_rules|fact"><span class="dynamic"><span class="dynamic"><span>sepref_frame_free_rules</span></span></span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  
    </span><span class="comment1"><span>(*context
      assumes l_len_pre: "(4 &lt; LENGTH('l))"
    begin  
      private lemma l_len: "4 &lt; LENGTH('l)" using l_len_pre unfolding vcg_tag_defs by auto
    *)</span></span><span>  
  
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.prio.itype|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.prio.itype|thm"><span>sepref_register</span></span></span></span></span><span> </span><span class="quoted"><span class="free"><span>prio</span></span></span><span>
  
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.less_eq.itype|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.less_eq.itype|thm"><span>sepref_register</span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>(≤)</span></a></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'p</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'p</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.less.itype|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.less.itype|thm"><span>sepref_register</span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>(&lt;)</span></a></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'p</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'p</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>
      
      </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Frame.html#Sepref_Frame.sepref_frame_free_rules|attribute"><span class="operator"><span>sepref_frame_free_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> 
        </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.mk_free_is_pure|fact"><span>mk_free_is_pure</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2231..2243"><span>prio_is_pure</span></a><span class="main"><span>]</span></span><span>
        </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.mk_free_is_pure|fact"><span>mk_free_is_pure</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2300..2312"><span>elem_is_pure</span></a><span class="main"><span>]</span></span><span>
          
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.update_op.mcomb|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.update_op.arity|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.update_op.itype|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.update_op.mcomb|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.update_op.arity|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.update_op.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><span>update_op</span></span><span>
      </span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.update_impl|const"><span class="entity_def" id="offset_3696..3707">update_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Misc.html#Sepref_Misc.uncurry2|const"><span>uncurry2</span></a><span> </span><span>update_op</span><span>"</span></span></span><span> 
        </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2892..2896"><span>assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2946..2954"><span>idx_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="free"><span>elem_assn</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2892..2896"><span>assn</span></a><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_1965..1971"><span>update_op_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>abs_def</span></span><span class="main"><span>]</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.annot_snat_const|method"><span class="operator"><span>annot_snat_const</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.update_impl.refine|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.update_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.update_impl.refine_raw|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.update_impl.refine|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.update_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.update_impl.refine_raw|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.update_impl_def_raw|axiom"><span class="entity_def" id="offset_3886..3888">by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_3886..3888"><span>update_impl.refine</span></a><span>
          
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.val_of_op.mcomb|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.val_of_op.arity|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.val_of_op.itype|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.val_of_op.mcomb|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.val_of_op.arity|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.val_of_op.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><span>val_of_op</span></span><span>
      </span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.val_of_impl|const"><span class="entity_def" id="offset_4015..4026">val_of_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span>val_of_op</span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2892..2896"><span>assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2946..2954"><span>idx_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="free"><span>elem_assn</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_1965..1971"><span>val_of_op_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>abs_def</span></span><span class="main"><span>]</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.annot_snat_const|method"><span class="operator"><span>annot_snat_const</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.val_of_impl.refine|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.val_of_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.val_of_impl.refine_raw|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.val_of_impl.refine|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.val_of_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.val_of_impl.refine_raw|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.val_of_impl_def_raw|axiom"><span class="entity_def" id="offset_4184..4186">by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_4184..4186"><span>val_of_impl.refine</span></a><span>
    
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.exch_op.mcomb|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.exch_op.arity|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.exch_op.itype|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.exch_op.mcomb|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.exch_op.arity|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.exch_op.itype|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><span>exch_op</span></span><span>
      </span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.exch_impl|const"><span class="entity_def" id="offset_4305..4314">exch_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Misc.html#Sepref_Misc.uncurry2|const"><span>uncurry2</span></a><span> </span><span>exch_op</span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2892..2896"><span>assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2946..2954"><span>idx_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2946..2954"><span>idx_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2892..2896"><span>assn</span></a><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_1965..1971"><span>exch_op_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>abs_def</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.mop_list_swap_unfold|fact"><span>mop_list_swap_unfold</span></a><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.annot_snat_const|method"><span class="operator"><span>annot_snat_const</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.exch_impl.refine|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.exch_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.exch_impl.refine_raw|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.exch_impl.refine|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.exch_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.exch_impl.refine_raw|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.exch_impl_def_raw|axiom"><span class="entity_def" id="offset_4500..4502">by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
        
      </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_4500..4502"><span>exch_impl.refine</span></a><span>
    
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.valid.itype|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.valid.itype|thm"><span>sepref_register</span></span></span></span></span><span> </span><span class="quoted"><span>valid</span></span><span>
      </span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.valid_impl|const"><span class="entity_def" id="offset_4626..4636">valid_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.comp2|const"><span>oo</span></a></span><span> </span><span>valid</span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2892..2896"><span>assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2946..2954"><span>idx_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_1965..1971"><span>valid_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>abs_def</span></span><span class="main"><span>]</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.annot_snat_const|method"><span class="operator"><span>annot_snat_const</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.valid_impl.refine|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.valid_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.valid_impl.refine_raw|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.valid_impl.refine|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.valid_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.valid_impl.refine_raw|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.valid_impl_def_raw|axiom"><span class="entity_def" id="offset_4799..4801">by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_4799..4801"><span>valid_impl.refine</span></a><span>
          
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.prio_of_op.mcomb|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.prio_of_op.arity|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.prio_of_op.itype|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.prio_of_op.pat|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.prio_of_op.mcomb|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.prio_of_op.arity|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.prio_of_op.itype|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.prio_of_op.pat|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><span>prio_of_op</span></span><span>  
      </span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.prio_of_impl.cong|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.prio_of_impl.cong|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.prio_of_impl|const"><span class="entity_def" id="offset_4930..4942">prio_of_impl</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span>prio_of_op</span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2892..2896"><span>assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2946..2954"><span>idx_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="free"><span>prio_assn</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_1965..1971"><span>prio_of_op_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>abs_def</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST_def|fact"><span>PR_CONST_def</span></a><span>
        </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.prio_of_impl.refine|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.prio_of_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.prio_of_impl.refine_raw|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.prio_of_impl.refine|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.prio_of_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.prio_of_impl.refine_raw|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.prio_of_impl_def_raw|axiom"><span class="entity_def" id="offset_5082..5084">by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_5082..5084"><span>prio_of_impl.refine</span></a><span>
      
      </span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.append_impl|const"><span class="entity_def" id="offset_5176..5187">append_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><a class="entity_ref" href="IICF_List.html#IICF_List.mop_list_append|const"><span>mop_list_append</span></a><span>"</span></span></span><span> 
        </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>xs</span></span><span class="main"><span>,</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat|const"><span>max_snat</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2892..2896"><span>assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="free"><span>elem_assn</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2892..2896"><span>assn</span></a><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.append_impl.refine|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.append_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.append_impl.refine_raw|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.append_impl.refine|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.append_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.append_impl.refine_raw|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.append_impl_def_raw|axiom"><span class="entity_def" id="offset_5318..5320">by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_5318..5320"><span>append_impl.refine</span></a><span> 
      
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.swim_op.mcomb|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.swim_op.arity|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.swim_op.itype|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.swim_op.pat|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.swim_op.mcomb|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.swim_op.arity|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.swim_op.itype|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.swim_op.pat|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><span>swim_op</span></span><span>
      </span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.swim_impl.cong|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.swim_impl.cong|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.swim_impl|const"><span class="entity_def" id="offset_5442..5451">swim_impl</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> 
        </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span>swim_op</span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="numeral"><span>4</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2892..2896"><span>assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2946..2954"><span>idx_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2892..2896"><span>assn</span></a><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_1965..1971"><span>swim_op_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>abs_def</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_1965..1971"><span>parent_def</span></a><span> </span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST_def|fact"><span>PR_CONST_def</span></a><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.annot_snat_const|method"><span class="operator"><span>annot_snat_const</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="comment1"><span>(* TODO: Workaround/Hack *)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Frame.html#Sepref_Frame.sepref_frame_match_rules|attribute"><span class="operator"><span>sepref_frame_match_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.workaround_invalid_recombine_pure2|fact"><span>workaround_invalid_recombine_pure2</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> B</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.swim_impl.refine|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.swim_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.swim_impl.refine_raw|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.swim_impl.refine|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.swim_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.swim_impl.refine_raw|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.swim_impl_def_raw|axiom"><span class="entity_def" id="offset_5809..5811">by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref_dbg_keep|method"><span class="operator"><span>sepref_dbg_keep</span></span></a><span>
  
      </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_5809..5811"><span>swim_impl.refine</span></a><span>
  
      
      </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.heap_impl.overflow_safe_hbound_check|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.overflow_safe_hbound_check|thm"><span class="entity_def" id="offset_5903..5929">overflow_safe_hbound_check</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="numeral"><span>2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span class="free"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span class="free"><span>n</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.divide_class.divide|const"><span>div</span></a></span><span> </span><span class="numeral"><span>2</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      
      </span><span class="comment1"><span>(*lemma bound_aux1: "rdomp assn xs ⟹ j≤length xs div 2 ⟹ 2*j &lt; max_snat LENGTH('l)"  
        apply sepref_bounds*)</span></span><span>

      </span><span class="comment1"><span>(*          
      lemma bound_aux2: "⟦rdomp assn a1'; 2 * a2' &lt; length a1'⟧ 
        ⟹ Suc (2 * a2') &lt; max_snat LENGTH('l)"  
        apply sepref_bounds
        apply (drule al_assn_len_bound)
        by auto
      *)</span></span><span>
        
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.sink_op.mcomb|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.sink_op.arity|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.sink_op.itype|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.sink_op.pat|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.sink_op.mcomb|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.sink_op.arity|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.sink_op.itype|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.sink_op.pat|thm"><span>sepref_register</span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><span>sink_op</span></span><span>
      </span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.sink_impl.cong|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.sink_impl.cong|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.sink_impl|const"><span class="entity_def" id="offset_6393..6402">sink_impl</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span>sink_op</span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="numeral"><span>4</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2892..2896"><span>assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2946..2954"><span>idx_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2892..2896"><span>assn</span></a><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_1965..1971"><span>sink_op_opt_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>abs_def</span></span><span class="main"><span>]</span></span><span> </span><span>sink_op_opt_eq</span><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>,</span></span><span class="operator"><span>abs_def</span></span><span class="main"><span>]</span></span><span>  </span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST_def|fact"><span>PR_CONST_def</span></a><span>
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_5903..5929"><span>overflow_safe_hbound_check</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc_eq_plus1|fact"><span>Suc_eq_plus1</span></a><span>
        </span><span class="comment1"><span>(* TODO: Workaround/Hack *)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>supply</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Frame.html#Sepref_Frame.sepref_frame_match_rules|attribute"><span class="operator"><span>sepref_frame_match_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.workaround_invalid_recombine_pure2|fact"><span>workaround_invalid_recombine_pure2</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> B</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.annot_snat_const|method"><span class="operator"><span>annot_snat_const</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.sink_impl.refine|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.sink_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.sink_impl.refine_raw|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.sink_impl.refine|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.sink_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.sink_impl.refine_raw|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.sink_impl_def_raw|axiom"><span class="entity_def" id="offset_6837..6839">by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
        
      </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_6837..6839"><span>sink_impl.refine</span></a><span>
  
      
      </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.heap_impl.prenorm_heaprel1_len|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.prenorm_heaprel1_len|thm"><span class="entity_def" id="offset_6928..6948">prenorm_heaprel1_len</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>h</span></span><span class="main"><span>,</span></span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span>heap_rel1</span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>h</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.size_class.size|const"><span>size</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_1965..1971"><span>heap_rel1_def</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.in_br_conv|fact"><span>in_br_conv</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.heap_impl.max_snat_param|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.max_snat_param|thm"><span class="entity_def" id="offset_7059..7073">max_snat_param</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat|const"><span>max_snat</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat|const"><span>max_snat</span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.nat_rel|const"><span>nat_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.fun_rel_syn|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.nat_rel|const"><span>nat_rel</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

      </span><span class="keyword1"><span class="command"><span>context</span></span></span><span>
        </span><span class="keyword2"><span class="keyword"><span>notes</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.fcomp_norm_unfold|attribute"><span class="operator"><span>fcomp_norm_unfold</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2982..2992"><span>heap_assn_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Relators.html#Relators.list_rel_id_simp|fact"><span>list_rel_id_simp</span></a><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.mset_rel_id|fact"><span>mset_rel_id</span></a><span>
        </span><span class="keyword2"><span class="keyword"><span>notes</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.fcomp_prenorm_simps|attribute"><span class="operator"><span>fcomp_prenorm_simps</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_6928..6948"><span>prenorm_heaprel1_len</span></a><span>
        </span><span class="keyword2"><span class="keyword"><span>notes</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Param_Tool.html#Param_Tool.param|attribute"><span class="operator"><span>param</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.IdI|fact"><span>IdI</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><span class="free"><span>N</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_7059..7073"><span>max_snat_param</span></a><span>
      </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>    
      
        </span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.empty_impl|const"><span class="entity_def" id="offset_7385..7395">empty_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Sepref_Misc.html#Sepref_Misc.uncurry0|const"><span>uncurry0</span></a><span> </span><span>empty_op</span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="numeral"><span>4</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span class="free"><span>N</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.unit_assn|const"><span>unit_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2892..2896"><span>assn</span></a><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_1965..1971"><span>empty_op_def</span></a><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_1965..1971"><span>N_def</span></a><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Library/rewrite.ML.html#Rewrite.rewrite|method"><span class="operator"><span>rewrite</span></span></a><span> </span><a class="entity_ref" href="IICF_Array_List.html#IICF_Array_List.al_fold_custom_empty|fact"><a class="entity_ref" href="IICF_Array_List.html#IICF_Array_List.al_fold_custom_empty|fact"><span>al_fold_custom_empty</span></a></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> </span><span class="tfree"><span>'l</span></span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="tfree"><span class="quoted"><span class="tfree"><span class="quoted"><span class="tfree"><span class="quoted"><span class="tfree"><span>'l</span></span></span></span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.empty_impl.refine|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.empty_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.empty_impl.refine_raw|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.empty_impl.refine|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.empty_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.empty_impl.refine_raw|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.empty_impl_def_raw|axiom"><span class="entity_def" id="offset_7564..7566">by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span>sepref_decl_impl</span></span></span><span> </span><span class="main"><span>(</span></span><span>no_register</span><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.heap_impl.heap_empty_hnr_mop|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.heap_empty_hnr|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.heap_empty_hnr_mop|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.heap_empty_hnr|thm"><span>heap_empty</span></span></span></span></span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_7564..7566"><span>empty_impl.refine</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.FCOMP|attribute"><span class="operator"><span>FCOMP</span></span></a><span> </span><span>empty_op_refine</span><span class="main"><span>]</span></span><span> 
          </span><span class="keyword2"><span class="keyword"><span>uses</span></span></span><span> </span><a class="entity_ref" href="IICF_Multiset.html#IICF_Multiset.op_mset_empty.fref|fact"><span>op_mset_empty.fref</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
    
        </span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.is_empty_impl|const"><span class="entity_def" id="offset_7741..7754">is_empty_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>is_empty_op</span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2892..2896"><span>assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_1965..1971"><span>is_empty_op_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>abs_def</span></span><span class="main"><span>]</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.annot_snat_const|method"><span class="operator"><span>annot_snat_const</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.is_empty_impl.refine|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.is_empty_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.is_empty_impl.refine_raw|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.is_empty_impl.refine|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.is_empty_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.is_empty_impl.refine_raw|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.is_empty_impl_def_raw|axiom"><span class="entity_def" id="offset_7900..7902">by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span>sepref_decl_impl</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.heap_impl.heap_is_empty_hnr_mop|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.heap_is_empty_hnr|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.heap_is_empty_hnr_mop|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.heap_is_empty_hnr|thm"><span>heap_is_empty</span></span></span></span></span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_7900..7902"><span>is_empty_impl.refine</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.FCOMP|attribute"><span class="operator"><span>FCOMP</span></span></a><span> </span><span>is_empty_op_refine</span><span class="main"><span>]</span></span><span> 
          </span><span class="keyword2"><span class="keyword"><span>uses</span></span></span><span> </span><a class="entity_ref" href="IICF_Multiset.html#IICF_Multiset.op_mset_is_empty.fref|fact"><span>op_mset_is_empty.fref</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>  
    
        </span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.insert_impl.cong|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.insert_impl.cong|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.insert_impl|const"><span class="entity_def" id="offset_8077..8088">insert_impl</span></span></span></span></span><span>
          </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.uncurry|const"><span>uncurry</span></a><span> </span><span>insert_op</span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>,</span></span><span class="bound"><span>xs</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="numeral"><span>4</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span class="free"><span>N</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="bound"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat|const"><span>max_snat</span></a><span> </span><span class="free"><span>N</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="free"><span>elem_assn</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfprod|const"><span>*<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2892..2896"><span>assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2892..2896"><span>assn</span></a><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_1965..1971"><span>insert_op_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>abs_def</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_1965..1971"><span>append_op_def</span></a><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_1965..1971"><span>N_def</span></a><span>
          </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.insert_impl.refine|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.insert_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.insert_impl.refine_raw|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.insert_impl.refine|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.insert_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.insert_impl.refine_raw|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.insert_impl_def_raw|axiom"><span class="entity_def" id="offset_8274..8276">by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span>sepref_decl_impl</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.heap_impl.heap_insert_hnr_mop|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.heap_insert_hnr|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.heap_insert_hnr_mop|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.heap_insert_hnr|thm"><span>heap_insert</span></span></span></span></span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_8274..8276"><span>insert_impl.refine</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.FCOMP|attribute"><span class="operator"><span>FCOMP</span></span></a><span> </span><span>insert_op_refine</span><span class="main"><span>]</span></span><span> 
          </span><span class="keyword2"><span class="keyword"><span>uses</span></span></span><span> </span><a class="entity_ref" href="IICF_Multiset.html#IICF_Multiset.op_mset_insert.fref|fact"><span>op_mset_insert.fref</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
          
        </span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.pop_min_impl.cong|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.pop_min_impl.cong|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.pop_min_impl|const"><span class="entity_def" id="offset_8447..8459">pop_min_impl</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>pop_min_op</span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="numeral"><span>4</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span class="free"><span>N</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2892..2896"><span>assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><span class="free"><span>elem_assn</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.prod_assn|const"><span>×<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2892..2896"><span>assn</span></a><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_1965..1971"><span>pop_min_op_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>abs_def</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_1965..1971"><span>butlast_op_def</span></a><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_1965..1971"><span>N_def</span></a><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.annot_snat_const|method"><span class="operator"><span>annot_snat_const</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.pop_min_impl.refine|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.pop_min_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.pop_min_impl.refine_raw|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.pop_min_impl.refine|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.pop_min_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.pop_min_impl.refine_raw|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.pop_min_impl_def_raw|axiom"><span class="entity_def" id="offset_8642..8644">by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span>sepref_decl_impl</span></span></span><span> </span><span class="main"><span>(</span></span><span>no_mop</span><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.heap_impl.heap_pop_min_hnr|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.heap_pop_min_hnr|thm"><span>heap_pop_min</span></span></span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_8642..8644"><span>pop_min_impl.refine</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.FCOMP|attribute"><span class="operator"><span>FCOMP</span></span></a><span> </span><span>pop_min_op_refine</span><span class="main"><span>]</span></span><span> 
          </span><span class="keyword2"><span class="keyword"><span>uses</span></span></span><span> </span><a class="entity_ref" href="IICF_Prio_Bag.html#IICF_Prio_Bag.op_prio_pop_min.fref|fact"><span>op_prio_pop_min.fref</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
        
        
    
        </span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.peek_min_impl|const"><span class="entity_def" id="offset_8840..8853">peek_min_impl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>peek_min_op</span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_2892..2896"><span>assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="free"><span>elem_assn</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_1965..1971"><span>peek_min_op_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>abs_def</span></span><span class="main"><span>]</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.annot_snat_const|method"><span class="operator"><span>annot_snat_const</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.peek_min_impl.refine|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.peek_min_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.peek_min_impl.refine_raw|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.peek_min_impl.refine|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.peek_min_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.peek_min_impl.refine_raw|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.peek_min_impl_def_raw|axiom"><span class="entity_def" id="offset_8998..9000">by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span>sepref_decl_impl</span></span></span><span> </span><span class="main"><span>(</span></span><span>no_mop</span><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.heap_impl.heap_peek_min_hnr|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl.heap_peek_min_hnr|thm"><span>heap_peek_min</span></span></span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#offset_8998..9000"><span>peek_min_impl.refine</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.FCOMP|attribute"><span class="operator"><span>FCOMP</span></span></a><span> </span><span>peek_min_op_refine</span><span class="main"><span>]</span></span><span> 
          </span><span class="keyword2"><span class="keyword"><span>uses</span></span></span><span> </span><a class="entity_ref" href="IICF_Prio_Bag.html#IICF_Prio_Bag.op_prio_peek_min.fref|fact"><span>op_prio_peek_min.fref</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Id|const"><span>Id</span></a></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
                  
      </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
    </span><span class="comment1"><span>(*end        *)</span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>  
    

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.heap_peek_min_hnr|fact"><span class="entity_def" id="IICF_Impl_Heap.peek_min_impl.refine|fact"><span class="entity_def" id="IICF_Impl_Heap.peek_min_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.peek_min_impl.refine_raw|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_pop_min_hnr|fact"><span class="entity_def" id="IICF_Impl_Heap.pop_min_impl.refine|fact"><span class="entity_def" id="IICF_Impl_Heap.pop_min_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.pop_min_impl.refine_raw|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_insert_hnr_mop|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_insert_hnr|fact"><span class="entity_def" id="IICF_Impl_Heap.insert_impl.refine|fact"><span class="entity_def" id="IICF_Impl_Heap.insert_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.insert_impl.refine_raw|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_is_empty_hnr_mop|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_is_empty_hnr|fact"><span class="entity_def" id="IICF_Impl_Heap.is_empty_impl.refine|fact"><span class="entity_def" id="IICF_Impl_Heap.is_empty_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.is_empty_impl.refine_raw|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_empty_hnr_mop|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_empty_hnr|fact"><span class="entity_def" id="IICF_Impl_Heap.empty_impl.refine|fact"><span class="entity_def" id="IICF_Impl_Heap.empty_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.empty_impl.refine_raw|fact"><span class="entity_def" id="IICF_Impl_Heap.max_snat_param|fact"><span class="entity_def" id="IICF_Impl_Heap.prenorm_heaprel1_len|fact"><span class="entity_def" id="IICF_Impl_Heap.sink_impl.refine|fact"><span class="entity_def" id="IICF_Impl_Heap.sink_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.sink_impl.refine_raw|fact"><span class="entity_def" id="IICF_Impl_Heap.sink_op.mcomb|fact"><span class="entity_def" id="IICF_Impl_Heap.sink_op.arity|fact"><span class="entity_def" id="IICF_Impl_Heap.sink_op.itype|fact"><span class="entity_def" id="IICF_Impl_Heap.sink_op.pat|fact"><span class="entity_def" id="IICF_Impl_Heap.overflow_safe_hbound_check|fact"><span class="entity_def" id="IICF_Impl_Heap.swim_impl.refine|fact"><span class="entity_def" id="IICF_Impl_Heap.swim_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.swim_impl.refine_raw|fact"><span class="entity_def" id="IICF_Impl_Heap.swim_op.mcomb|fact"><span class="entity_def" id="IICF_Impl_Heap.swim_op.arity|fact"><span class="entity_def" id="IICF_Impl_Heap.swim_op.itype|fact"><span class="entity_def" id="IICF_Impl_Heap.swim_op.pat|fact"><span class="entity_def" id="IICF_Impl_Heap.append_impl.refine|fact"><span class="entity_def" id="IICF_Impl_Heap.append_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.append_impl.refine_raw|fact"><span class="entity_def" id="IICF_Impl_Heap.prio_of_impl.refine|fact"><span class="entity_def" id="IICF_Impl_Heap.prio_of_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.prio_of_impl.refine_raw|fact"><span class="entity_def" id="IICF_Impl_Heap.prio_of_op.mcomb|fact"><span class="entity_def" id="IICF_Impl_Heap.prio_of_op.arity|fact"><span class="entity_def" id="IICF_Impl_Heap.prio_of_op.itype|fact"><span class="entity_def" id="IICF_Impl_Heap.prio_of_op.pat|fact"><span class="entity_def" id="IICF_Impl_Heap.valid_impl.refine|fact"><span class="entity_def" id="IICF_Impl_Heap.valid_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.valid_impl.refine_raw|fact"><span class="entity_def" id="IICF_Impl_Heap.valid.itype|fact"><span class="entity_def" id="IICF_Impl_Heap.exch_impl.refine|fact"><span class="entity_def" id="IICF_Impl_Heap.exch_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.exch_impl.refine_raw|fact"><span class="entity_def" id="IICF_Impl_Heap.exch_op.mcomb|fact"><span class="entity_def" id="IICF_Impl_Heap.exch_op.arity|fact"><span class="entity_def" id="IICF_Impl_Heap.exch_op.itype|fact"><span class="entity_def" id="IICF_Impl_Heap.val_of_impl.refine|fact"><span class="entity_def" id="IICF_Impl_Heap.val_of_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.val_of_impl.refine_raw|fact"><span class="entity_def" id="IICF_Impl_Heap.val_of_op.mcomb|fact"><span class="entity_def" id="IICF_Impl_Heap.val_of_op.arity|fact"><span class="entity_def" id="IICF_Impl_Heap.val_of_op.itype|fact"><span class="entity_def" id="IICF_Impl_Heap.update_impl.refine|fact"><span class="entity_def" id="IICF_Impl_Heap.update_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.update_impl.refine_raw|fact"><span class="entity_def" id="IICF_Impl_Heap.update_op.mcomb|fact"><span class="entity_def" id="IICF_Impl_Heap.update_op.arity|fact"><span class="entity_def" id="IICF_Impl_Heap.update_op.itype|fact"><span class="entity_def" id="IICF_Impl_Heap.less.itype|fact"><span class="entity_def" id="IICF_Impl_Heap.less_eq.itype|fact"><span class="entity_def" id="IICF_Impl_Heap.prio.itype|fact"><span class="entity_def" id="IICF_Impl_Heap.mk_free_heap_assn|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_assn_def|fact"><span class="entity_def" id="IICF_Impl_Heap.N_def|fact"><span class="entity_def" id="IICF_Impl_Heap.lt_prio_impl_refine|fact"><span class="entity_def" id="IICF_Impl_Heap.le_prio_impl_refine|fact"><span class="entity_def" id="IICF_Impl_Heap.prio_impl_refine|fact"><span class="entity_def" id="IICF_Impl_Heap.elem_is_pure|fact"><span class="entity_def" id="IICF_Impl_Heap.prio_is_pure|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl_axioms|fact"><span class="entity_def" id="IICF_Impl_Heap.peek_min_op_refine|fact"><span class="entity_def" id="IICF_Impl_Heap.pop_min_op_refine|fact"><span class="entity_def" id="IICF_Impl_Heap.insert_op_refine|fact"><span class="entity_def" id="IICF_Impl_Heap.is_empty_op_refine|fact"><span class="entity_def" id="IICF_Impl_Heap.empty_op_refine|fact"><span class="entity_def" id="IICF_Impl_Heap.peek_min_op_correct&apos;|fact"><span class="entity_def" id="IICF_Impl_Heap.peek_min_op_correct|fact"><span class="entity_def" id="IICF_Impl_Heap.peek_min_op_def|fact"><span class="entity_def" id="IICF_Impl_Heap.pop_min_op_correct|fact"><span class="entity_def" id="IICF_Impl_Heap.in_set_conv_val|fact"><span class="entity_def" id="IICF_Impl_Heap.sink_invar_init|fact"><span class="entity_def" id="IICF_Impl_Heap.parent_one_conv|fact"><span class="entity_def" id="IICF_Impl_Heap.right_one_conv|fact"><span class="entity_def" id="IICF_Impl_Heap.left_not_one|fact"><span class="entity_def" id="IICF_Impl_Heap.pop_min_op_def|fact"><span class="entity_def" id="IICF_Impl_Heap.insert_op_correct|fact"><span class="entity_def" id="IICF_Impl_Heap.swim_invar_insert|fact"><span class="entity_def" id="IICF_Impl_Heap.insert_op_def|fact"><span class="entity_def" id="IICF_Impl_Heap.is_empty_op_correct|fact"><span class="entity_def" id="IICF_Impl_Heap.is_empty_op_def|fact"><span class="entity_def" id="IICF_Impl_Heap.empty_op_correct|fact"><span class="entity_def" id="IICF_Impl_Heap.empty_op_def|fact"><span class="entity_def" id="IICF_Impl_Heap.repair_correct|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_invar_imp_swim_invar|fact"><span class="entity_def" id="IICF_Impl_Heap.update_sink_swim_cases|fact"><span class="entity_def" id="IICF_Impl_Heap.repair_op_def|fact"><span class="entity_def" id="IICF_Impl_Heap.sink_op_opt_eq|fact"><span class="entity_def" id="IICF_Impl_Heap.sink_op_opt_def|fact"><span class="entity_def" id="IICF_Impl_Heap.sink_op_swim_rule|fact"><span class="entity_def" id="IICF_Impl_Heap.sink_op_correct|fact"><span class="entity_def" id="IICF_Impl_Heap.sink_invar_incr|fact"><span class="entity_def" id="IICF_Impl_Heap.sink_invar_pres|fact"><span class="entity_def" id="IICF_Impl_Heap.sink_invar_pres5|fact"><span class="entity_def" id="IICF_Impl_Heap.sink_invar_pres4|fact"><span class="entity_def" id="IICF_Impl_Heap.sink_invar_pres3|fact"><span class="entity_def" id="IICF_Impl_Heap.sink_invar_pres2|fact"><span class="entity_def" id="IICF_Impl_Heap.sink_invar_pres1|fact"><span class="entity_def" id="IICF_Impl_Heap.sink_aux1|fact"><span class="entity_def" id="IICF_Impl_Heap.sink_invar_exit|fact"><span class="entity_def" id="IICF_Impl_Heap.sink_invar_valid|fact"><span class="entity_def" id="IICF_Impl_Heap.sink_invar_def|fact"><span class="entity_def" id="IICF_Impl_Heap.sink_op_def|fact"><span class="entity_def" id="IICF_Impl_Heap.swim_op_correct|fact"><span class="entity_def" id="IICF_Impl_Heap.swim_invar_decr|fact"><span class="entity_def" id="IICF_Impl_Heap.swim_invar_pres|fact"><span class="entity_def" id="IICF_Impl_Heap.swim_invar_exit2|fact"><span class="entity_def" id="IICF_Impl_Heap.swim_invar_exit1|fact"><span class="entity_def" id="IICF_Impl_Heap.swim_invar_valid|fact"><span class="entity_def" id="IICF_Impl_Heap.swim_op_def|fact"><span class="entity_def" id="IICF_Impl_Heap.swim_invar_def|fact"><span class="entity_def" id="IICF_Impl_Heap.\&lt;alpha&gt;_append|fact"><span class="entity_def" id="IICF_Impl_Heap.val_of_append|fact"><span class="entity_def" id="IICF_Impl_Heap.valid_append|fact"><span class="entity_def" id="IICF_Impl_Heap.append_op_correct|fact"><span class="entity_def" id="IICF_Impl_Heap.append_op_def|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_invar_butlast|fact"><span class="entity_def" id="IICF_Impl_Heap.\&lt;alpha&gt;_butlast|fact"><span class="entity_def" id="IICF_Impl_Heap.val_of_butlast&apos;|fact"><span class="entity_def" id="IICF_Impl_Heap.val_of_butlast|fact"><span class="entity_def" id="IICF_Impl_Heap.valid_butlast|fact"><span class="entity_def" id="IICF_Impl_Heap.valid_butlast_conv|fact"><span class="entity_def" id="IICF_Impl_Heap.butlast_op_correct|fact"><span class="entity_def" id="IICF_Impl_Heap.butlast_op_def|fact"><span class="entity_def" id="IICF_Impl_Heap.length_exch|fact"><span class="entity_def" id="IICF_Impl_Heap.\&lt;alpha&gt;_exch|fact"><span class="entity_def" id="IICF_Impl_Heap.exch_eq|fact"><span class="entity_def" id="IICF_Impl_Heap.val_of_exch|fact"><span class="entity_def" id="IICF_Impl_Heap.valid_exch|fact"><span class="entity_def" id="IICF_Impl_Heap.exch_op_correct|fact"><span class="entity_def" id="IICF_Impl_Heap.exch_op_alt|fact"><span class="entity_def" id="IICF_Impl_Heap.exch_op_def|fact"><span class="entity_def" id="IICF_Impl_Heap.exch_def|fact"><span class="entity_def" id="IICF_Impl_Heap.length_update|fact"><span class="entity_def" id="IICF_Impl_Heap.val_of_update|fact"><span class="entity_def" id="IICF_Impl_Heap.update_valid|fact"><span class="entity_def" id="IICF_Impl_Heap.update_correct|fact"><span class="entity_def" id="IICF_Impl_Heap.update_op_def|fact"><span class="entity_def" id="IICF_Impl_Heap.update_def|fact"><span class="entity_def" id="IICF_Impl_Heap.prio_of_op_correct|fact"><span class="entity_def" id="IICF_Impl_Heap.prio_of_op_def|fact"><span class="entity_def" id="IICF_Impl_Heap.val_of_correct|fact"><span class="entity_def" id="IICF_Impl_Heap.val_of_op_def|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_eq_heap&apos;|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_invar&apos;_def|fact"><span class="entity_def" id="IICF_Impl_Heap.children_ge_def|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_min_prop|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_parent_le|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme.elims|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme.induct|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme.simps|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme.pelims|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme.cases|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme.termination|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme.pinduct|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme.psimps|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme_rel.inducts|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme_rel.simps|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme_rel.induct|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme_rel.cases|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme_rel.intros|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme_graph.inducts|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme_graph.simps|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme_graph.induct|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme_graph.cases|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme_graph.intros|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_invar_empty|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_rel1_def|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_invar_def|fact"><span class="entity_def" id="IICF_Impl_Heap.i_eq_parent_conv|fact"><span class="entity_def" id="IICF_Impl_Heap.plr_corner_cases|fact"><span class="entity_def" id="IICF_Impl_Heap.rc_imp_lc|fact"><span class="entity_def" id="IICF_Impl_Heap.child_of_parentD|fact"><span class="entity_def" id="IICF_Impl_Heap.parent_right_id|fact"><span class="entity_def" id="IICF_Impl_Heap.parent_left_id|fact"><span class="entity_def" id="IICF_Impl_Heap.right_def|fact"><span class="entity_def" id="IICF_Impl_Heap.left_def|fact"><span class="entity_def" id="IICF_Impl_Heap.parent_def|fact"><span class="entity_def" id="IICF_Impl_Heap.val_of_def|fact"><span class="entity_def" id="IICF_Impl_Heap.validI|fact"><span class="entity_def" id="IICF_Impl_Heap.valid_len|fact"><span class="entity_def" id="IICF_Impl_Heap.valid_glen|fact"><span class="entity_def" id="IICF_Impl_Heap.valid0|fact"><span class="entity_def" id="IICF_Impl_Heap.valid_empty|fact"><span class="entity_def" id="IICF_Impl_Heap.valid_def|fact"><span class="entity_def" id="IICF_Impl_Heap.h_peek_min_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.h_pop_min_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.h_insert_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.h_is_empty_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.h_empty_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.h_sink_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.h_swim_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.h_append_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.h_prio_of_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.h_valid_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.h_exch_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.h_val_of_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.h_update_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.peek_min_impl.refine|thm"><span class="entity_def" id="IICF_Impl_Heap.peek_min_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.peek_min_impl.refine_raw|thm"><span class="entity_def" id="IICF_Impl_Heap.pop_min_impl.refine|thm"><span class="entity_def" id="IICF_Impl_Heap.pop_min_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.pop_min_impl.refine_raw|thm"><span class="entity_def" id="IICF_Impl_Heap.insert_impl.refine|thm"><span class="entity_def" id="IICF_Impl_Heap.insert_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.insert_impl.refine_raw|thm"><span class="entity_def" id="IICF_Impl_Heap.is_empty_impl.refine|thm"><span class="entity_def" id="IICF_Impl_Heap.is_empty_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.is_empty_impl.refine_raw|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_empty_hnr_mop|thm"><span class="entity_def" id="IICF_Impl_Heap.empty_impl.refine|thm"><span class="entity_def" id="IICF_Impl_Heap.empty_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.empty_impl.refine_raw|thm"><span class="entity_def" id="IICF_Impl_Heap.max_snat_param|thm"><span class="entity_def" id="IICF_Impl_Heap.prenorm_heaprel1_len|thm"><span class="entity_def" id="IICF_Impl_Heap.sink_impl.refine|thm"><span class="entity_def" id="IICF_Impl_Heap.sink_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.sink_impl.refine_raw|thm"><span class="entity_def" id="IICF_Impl_Heap.overflow_safe_hbound_check|thm"><span class="entity_def" id="IICF_Impl_Heap.swim_impl.refine|thm"><span class="entity_def" id="IICF_Impl_Heap.swim_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.swim_impl.refine_raw|thm"><span class="entity_def" id="IICF_Impl_Heap.append_impl.refine|thm"><span class="entity_def" id="IICF_Impl_Heap.append_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.append_impl.refine_raw|thm"><span class="entity_def" id="IICF_Impl_Heap.prio_of_impl.refine|thm"><span class="entity_def" id="IICF_Impl_Heap.prio_of_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.prio_of_impl.refine_raw|thm"><span class="entity_def" id="IICF_Impl_Heap.valid_impl.refine|thm"><span class="entity_def" id="IICF_Impl_Heap.valid_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.valid_impl.refine_raw|thm"><span class="entity_def" id="IICF_Impl_Heap.exch_impl.refine|thm"><span class="entity_def" id="IICF_Impl_Heap.exch_impl.refine_raw|thm"><span class="entity_def" id="IICF_Impl_Heap.val_of_impl.refine|thm"><span class="entity_def" id="IICF_Impl_Heap.val_of_impl.refine_raw|thm"><span class="entity_def" id="IICF_Impl_Heap.update_impl.refine|thm"><span class="entity_def" id="IICF_Impl_Heap.update_impl.refine_raw|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_assn_def|thm"><span class="entity_def" id="IICF_Impl_Heap.peek_min_op_refine|thm"><span class="entity_def" id="IICF_Impl_Heap.pop_min_op_refine|thm"><span class="entity_def" id="IICF_Impl_Heap.insert_op_refine|thm"><span class="entity_def" id="IICF_Impl_Heap.is_empty_op_refine|thm"><span class="entity_def" id="IICF_Impl_Heap.empty_op_refine|thm"><span class="entity_def" id="IICF_Impl_Heap.peek_min_op_correct|thm"><span class="entity_def" id="IICF_Impl_Heap.peek_min_op_def|thm"><span class="entity_def" id="IICF_Impl_Heap.pop_min_op_correct|thm"><span class="entity_def" id="IICF_Impl_Heap.in_set_conv_val|thm"><span class="entity_def" id="IICF_Impl_Heap.sink_invar_init|thm"><span class="entity_def" id="IICF_Impl_Heap.pop_min_op_def|thm"><span class="entity_def" id="IICF_Impl_Heap.insert_op_correct|thm"><span class="entity_def" id="IICF_Impl_Heap.swim_invar_insert|thm"><span class="entity_def" id="IICF_Impl_Heap.insert_op_def|thm"><span class="entity_def" id="IICF_Impl_Heap.is_empty_op_def|thm"><span class="entity_def" id="IICF_Impl_Heap.empty_op_def|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_invar_imp_swim_invar|thm"><span class="entity_def" id="IICF_Impl_Heap.repair_op_def|thm"><span class="entity_def" id="IICF_Impl_Heap.sink_op_opt_eq|thm"><span class="entity_def" id="IICF_Impl_Heap.sink_op_opt_def|thm"><span class="entity_def" id="IICF_Impl_Heap.sink_op_swim_rule|thm"><span class="entity_def" id="IICF_Impl_Heap.sink_invar_incr|thm"><span class="entity_def" id="IICF_Impl_Heap.sink_invar_pres(5)|thm"><span class="entity_def" id="IICF_Impl_Heap.sink_invar_pres(4)|thm"><span class="entity_def" id="IICF_Impl_Heap.sink_invar_pres(3)|thm"><span class="entity_def" id="IICF_Impl_Heap.sink_invar_pres(2)|thm"><span class="entity_def" id="IICF_Impl_Heap.sink_invar_pres(1)|thm"><span class="entity_def" id="IICF_Impl_Heap.sink_invar_pres5|thm"><span class="entity_def" id="IICF_Impl_Heap.sink_invar_pres4|thm"><span class="entity_def" id="IICF_Impl_Heap.sink_invar_pres3|thm"><span class="entity_def" id="IICF_Impl_Heap.sink_invar_pres2|thm"><span class="entity_def" id="IICF_Impl_Heap.sink_invar_pres1|thm"><span class="entity_def" id="IICF_Impl_Heap.sink_aux1|thm"><span class="entity_def" id="IICF_Impl_Heap.sink_invar_exit|thm"><span class="entity_def" id="IICF_Impl_Heap.sink_invar_valid|thm"><span class="entity_def" id="IICF_Impl_Heap.sink_invar_def|thm"><span class="entity_def" id="IICF_Impl_Heap.sink_op_def|thm"><span class="entity_def" id="IICF_Impl_Heap.swim_invar_decr|thm"><span class="entity_def" id="IICF_Impl_Heap.swim_invar_pres|thm"><span class="entity_def" id="IICF_Impl_Heap.swim_invar_exit2|thm"><span class="entity_def" id="IICF_Impl_Heap.swim_invar_exit1|thm"><span class="entity_def" id="IICF_Impl_Heap.swim_invar_valid|thm"><span class="entity_def" id="IICF_Impl_Heap.swim_op_def|thm"><span class="entity_def" id="IICF_Impl_Heap.swim_invar_def|thm"><span class="entity_def" id="IICF_Impl_Heap.append_op_def|thm"><span class="entity_def" id="IICF_Impl_Heap.valid_butlast|thm"><span class="entity_def" id="IICF_Impl_Heap.butlast_op_def|thm"><span class="entity_def" id="IICF_Impl_Heap.exch_op_alt|thm"><span class="entity_def" id="IICF_Impl_Heap.exch_op_def|thm"><span class="entity_def" id="IICF_Impl_Heap.exch_def|thm"><span class="entity_def" id="IICF_Impl_Heap.update_op_def|thm"><span class="entity_def" id="IICF_Impl_Heap.update_def|thm"><span class="entity_def" id="IICF_Impl_Heap.prio_of_op_def|thm"><span class="entity_def" id="IICF_Impl_Heap.val_of_op_def|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_eq_heap&apos;|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_invar&apos;_def|thm"><span class="entity_def" id="IICF_Impl_Heap.children_ge_def|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_min_prop|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_parent_le|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme.simps|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme.termination|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme.psimps|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme_rel.intros|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme_graph.intros|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_rel1_def|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_invar_def|thm"><span class="entity_def" id="IICF_Impl_Heap.rc_imp_lc|thm"><span class="entity_def" id="IICF_Impl_Heap.child_of_parentD|thm"><span class="entity_def" id="IICF_Impl_Heap.right_def|thm"><span class="entity_def" id="IICF_Impl_Heap.left_def|thm"><span class="entity_def" id="IICF_Impl_Heap.parent_def|thm"><span class="entity_def" id="IICF_Impl_Heap.val_of_def|thm"><span class="entity_def" id="IICF_Impl_Heap.validI|thm"><span class="entity_def" id="IICF_Impl_Heap.valid_def|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_empty_hnr|thm"><span class="entity_def" id="IICF_Impl_Heap.exch_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.val_of_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.update_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_peek_min_hnr|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_pop_min_hnr|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_insert_hnr_mop|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_insert_hnr|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_is_empty_hnr_mop|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_is_empty_hnr|thm"><span class="entity_def" id="IICF_Impl_Heap.sink_op.mcomb|thm"><span class="entity_def" id="IICF_Impl_Heap.sink_op.arity|thm"><span class="entity_def" id="IICF_Impl_Heap.sink_op.itype|thm"><span class="entity_def" id="IICF_Impl_Heap.sink_op.pat|thm"><span class="entity_def" id="IICF_Impl_Heap.swim_op.mcomb|thm"><span class="entity_def" id="IICF_Impl_Heap.swim_op.arity|thm"><span class="entity_def" id="IICF_Impl_Heap.swim_op.itype|thm"><span class="entity_def" id="IICF_Impl_Heap.swim_op.pat|thm"><span class="entity_def" id="IICF_Impl_Heap.prio_of_op.mcomb|thm"><span class="entity_def" id="IICF_Impl_Heap.prio_of_op.arity|thm"><span class="entity_def" id="IICF_Impl_Heap.prio_of_op.itype|thm"><span class="entity_def" id="IICF_Impl_Heap.prio_of_op.pat|thm"><span class="entity_def" id="IICF_Impl_Heap.valid.itype|thm"><span class="entity_def" id="IICF_Impl_Heap.exch_op.mcomb|thm"><span class="entity_def" id="IICF_Impl_Heap.exch_op.arity|thm"><span class="entity_def" id="IICF_Impl_Heap.exch_op.itype|thm"><span class="entity_def" id="IICF_Impl_Heap.val_of_op.mcomb|thm"><span class="entity_def" id="IICF_Impl_Heap.val_of_op.arity|thm"><span class="entity_def" id="IICF_Impl_Heap.val_of_op.itype|thm"><span class="entity_def" id="IICF_Impl_Heap.update_op.mcomb|thm"><span class="entity_def" id="IICF_Impl_Heap.update_op.arity|thm"><span class="entity_def" id="IICF_Impl_Heap.update_op.itype|thm"><span class="entity_def" id="IICF_Impl_Heap.less.itype|thm"><span class="entity_def" id="IICF_Impl_Heap.less_eq.itype|thm"><span class="entity_def" id="IICF_Impl_Heap.prio.itype|thm"><span class="entity_def" id="IICF_Impl_Heap.mk_free_heap_assn|thm"><span class="entity_def" id="IICF_Impl_Heap.N_def|thm"><span class="entity_def" id="IICF_Impl_Heap.lt_prio_impl_refine|thm"><span class="entity_def" id="IICF_Impl_Heap.le_prio_impl_refine|thm"><span class="entity_def" id="IICF_Impl_Heap.prio_impl_refine|thm"><span class="entity_def" id="IICF_Impl_Heap.elem_is_pure|thm"><span class="entity_def" id="IICF_Impl_Heap.prio_is_pure|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl_axioms|thm"><span class="entity_def" id="IICF_Impl_Heap.peek_min_op_correct&apos;|thm"><span class="entity_def" id="IICF_Impl_Heap.parent_one_conv|thm"><span class="entity_def" id="IICF_Impl_Heap.right_one_conv|thm"><span class="entity_def" id="IICF_Impl_Heap.left_not_one|thm"><span class="entity_def" id="IICF_Impl_Heap.is_empty_op_correct|thm"><span class="entity_def" id="IICF_Impl_Heap.empty_op_correct|thm"><span class="entity_def" id="IICF_Impl_Heap.repair_correct|thm"><span class="entity_def" id="IICF_Impl_Heap.update_sink_swim_cases|thm"><span class="entity_def" id="IICF_Impl_Heap.sink_op_correct|thm"><span class="entity_def" id="IICF_Impl_Heap.swim_op_correct|thm"><span class="entity_def" id="IICF_Impl_Heap.\&lt;alpha&gt;_append|thm"><span class="entity_def" id="IICF_Impl_Heap.val_of_append|thm"><span class="entity_def" id="IICF_Impl_Heap.valid_append|thm"><span class="entity_def" id="IICF_Impl_Heap.append_op_correct|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_invar_butlast|thm"><span class="entity_def" id="IICF_Impl_Heap.\&lt;alpha&gt;_butlast|thm"><span class="entity_def" id="IICF_Impl_Heap.val_of_butlast&apos;|thm"><span class="entity_def" id="IICF_Impl_Heap.val_of_butlast|thm"><span class="entity_def" id="IICF_Impl_Heap.valid_butlast_conv|thm"><span class="entity_def" id="IICF_Impl_Heap.butlast_op_correct|thm"><span class="entity_def" id="IICF_Impl_Heap.length_exch|thm"><span class="entity_def" id="IICF_Impl_Heap.\&lt;alpha&gt;_exch|thm"><span class="entity_def" id="IICF_Impl_Heap.exch_eq|thm"><span class="entity_def" id="IICF_Impl_Heap.val_of_exch|thm"><span class="entity_def" id="IICF_Impl_Heap.valid_exch|thm"><span class="entity_def" id="IICF_Impl_Heap.exch_op_correct|thm"><span class="entity_def" id="IICF_Impl_Heap.length_update|thm"><span class="entity_def" id="IICF_Impl_Heap.val_of_update|thm"><span class="entity_def" id="IICF_Impl_Heap.update_valid|thm"><span class="entity_def" id="IICF_Impl_Heap.update_correct|thm"><span class="entity_def" id="IICF_Impl_Heap.prio_of_op_correct|thm"><span class="entity_def" id="IICF_Impl_Heap.val_of_correct|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme.elims|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme.induct|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme.pelims|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme.cases|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme.pinduct|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme_rel.inducts|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme_rel.simps|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme_rel.induct|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme_rel.cases|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme_graph.inducts|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme_graph.simps|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme_graph.induct|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_induction_scheme_graph.cases|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_invar_empty|thm"><span class="entity_def" id="IICF_Impl_Heap.i_eq_parent_conv|thm"><span class="entity_def" id="IICF_Impl_Heap.plr_corner_cases(6)|thm"><span class="entity_def" id="IICF_Impl_Heap.plr_corner_cases(5)|thm"><span class="entity_def" id="IICF_Impl_Heap.plr_corner_cases(4)|thm"><span class="entity_def" id="IICF_Impl_Heap.plr_corner_cases(3)|thm"><span class="entity_def" id="IICF_Impl_Heap.plr_corner_cases(2)|thm"><span class="entity_def" id="IICF_Impl_Heap.plr_corner_cases(1)|thm"><span class="entity_def" id="IICF_Impl_Heap.parent_right_id|thm"><span class="entity_def" id="IICF_Impl_Heap.parent_left_id|thm"><span class="entity_def" id="IICF_Impl_Heap.valid_len|thm"><span class="entity_def" id="IICF_Impl_Heap.valid_glen|thm"><span class="entity_def" id="IICF_Impl_Heap.valid0|thm"><span class="entity_def" id="IICF_Impl_Heap.valid_empty|thm"><span class="entity_def" id="IICF_Impl_Heap.h_peek_min_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.h_pop_min_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.h_insert_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.h_is_empty_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.h_empty_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.h_sink_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.h_swim_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.h_append_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.h_prio_of_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.h_valid_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.h_exch_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.h_val_of_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.h_update_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.h_peek_min_impl_def|axiom"><span class="entity_def" id="IICF_Impl_Heap.h_pop_min_impl_def|axiom"><span class="entity_def" id="IICF_Impl_Heap.h_insert_impl_def|axiom"><span class="entity_def" id="IICF_Impl_Heap.h_is_empty_impl_def|axiom"><span class="entity_def" id="IICF_Impl_Heap.h_empty_impl_def|axiom"><span class="entity_def" id="IICF_Impl_Heap.h_sink_impl_def|axiom"><span class="entity_def" id="IICF_Impl_Heap.h_swim_impl_def|axiom"><span class="entity_def" id="IICF_Impl_Heap.h_append_impl_def|axiom"><span class="entity_def" id="IICF_Impl_Heap.h_prio_of_impl_def|axiom"><span class="entity_def" id="IICF_Impl_Heap.h_valid_impl_def|axiom"><span class="entity_def" id="IICF_Impl_Heap.h_exch_impl_def|axiom"><span class="entity_def" id="IICF_Impl_Heap.h_val_of_impl_def|axiom"><span class="entity_def" id="IICF_Impl_Heap.h_update_impl_def|axiom"><span class="entity_def" id="IICF_Impl_Heap.peek_min_impl|const"><span class="entity_def" id="IICF_Impl_Heap.pop_min_impl|const"><span class="entity_def" id="IICF_Impl_Heap.insert_impl|const"><span class="entity_def" id="IICF_Impl_Heap.is_empty_impl|const"><span class="entity_def" id="IICF_Impl_Heap.empty_impl|const"><span class="entity_def" id="IICF_Impl_Heap.sink_impl|const"><span class="entity_def" id="IICF_Impl_Heap.swim_impl|const"><span class="entity_def" id="IICF_Impl_Heap.append_impl|const"><span class="entity_def" id="IICF_Impl_Heap.prio_of_impl|const"><span class="entity_def" id="IICF_Impl_Heap.valid_impl|const"><span class="entity_def" id="IICF_Impl_Heap.exch_impl|const"><span class="entity_def" id="IICF_Impl_Heap.val_of_impl|const"><span class="entity_def" id="IICF_Impl_Heap.update_impl|const"><span class="entity_def" id="IICF_Impl_Heap.heap_assn|const"><span class="entity_def" id="IICF_Impl_Heap.assn|const"><span class="entity_def" id="IICF_Impl_Heap.peek_min_op|const"><span class="entity_def" id="IICF_Impl_Heap.pop_min_op|const"><span class="entity_def" id="IICF_Impl_Heap.insert_op|const"><span class="entity_def" id="IICF_Impl_Heap.is_empty_op|const"><span class="entity_def" id="IICF_Impl_Heap.empty_op|const"><span class="entity_def" id="IICF_Impl_Heap.empty|const"><span class="entity_def" id="IICF_Impl_Heap.repair_op|const"><span class="entity_def" id="IICF_Impl_Heap.sink_op_opt|const"><span class="entity_def" id="IICF_Impl_Heap.sink_invar|const"><span class="entity_def" id="IICF_Impl_Heap.sink_op|const"><span class="entity_def" id="IICF_Impl_Heap.swim_op|const"><span class="entity_def" id="IICF_Impl_Heap.swim_invar|const"><span class="entity_def" id="IICF_Impl_Heap.append_op|const"><span class="entity_def" id="IICF_Impl_Heap.butlast_op|const"><span class="entity_def" id="IICF_Impl_Heap.exch_op|const"><span class="entity_def" id="IICF_Impl_Heap.exch_pre|const"><span class="entity_def" id="IICF_Impl_Heap.exch|const"><span class="entity_def" id="IICF_Impl_Heap.update_op|const"><span class="entity_def" id="IICF_Impl_Heap.update|const"><span class="entity_def" id="IICF_Impl_Heap.update_pre|const"><span class="entity_def" id="IICF_Impl_Heap.prio_of_op|const"><span class="entity_def" id="IICF_Impl_Heap.prio_of_pre|const"><span class="entity_def" id="IICF_Impl_Heap.val_of_op|const"><span class="entity_def" id="IICF_Impl_Heap.val_of_pre|const"><span class="entity_def" id="IICF_Impl_Heap.heap_invar&apos;|const"><span class="entity_def" id="IICF_Impl_Heap.children_ge|const"><span class="entity_def" id="IICF_Impl_Heap.heap_rel1|const"><span class="entity_def" id="IICF_Impl_Heap.heap_invar|const"><span class="entity_def" id="IICF_Impl_Heap.pright|const"><span class="entity_def" id="IICF_Impl_Heap.pleft|const"><span class="entity_def" id="IICF_Impl_Heap.pparent|const"><span class="entity_def" id="IICF_Impl_Heap.vright|const"><span class="entity_def" id="IICF_Impl_Heap.vleft|const"><span class="entity_def" id="IICF_Impl_Heap.vparent|const"><span class="entity_def" id="IICF_Impl_Heap.has_right|const"><span class="entity_def" id="IICF_Impl_Heap.has_left|const"><span class="entity_def" id="IICF_Impl_Heap.has_parent|const"><span class="entity_def" id="IICF_Impl_Heap.prio_of|const"><span class="entity_def" id="IICF_Impl_Heap.val_of|const"><span class="entity_def" id="IICF_Impl_Heap.\&lt;alpha&gt;|const"><span class="entity_def" id="IICF_Impl_Heap.valid|const"><span>global_interpretation</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl|locale"><span>heap_impl</span></a><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span>id</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn|const"><span>snat_assn</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="MMonad.html#MMonad.Mreturn|const"><span>Mreturn</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_icmp_sle|const"><span>ll_icmp_sle</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="LLVM_Shallow.html#LLVM_Shallow.ll_icmp_slt|const"><span>ll_icmp_slt</span></a></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>defines</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.h_update_impl|const"><span>h_update_impl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><a class="entity_ref" href="IICF_Impl_Heap.html#offset_3696..3707"><span>update_impl</span></a></span><span>
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.h_val_of_impl|const"><span>h_val_of_impl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><a class="entity_ref" href="IICF_Impl_Heap.html#offset_4015..4026"><span>val_of_impl</span></a></span><span>
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.h_exch_impl|const"><span>h_exch_impl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><a class="entity_ref" href="IICF_Impl_Heap.html#offset_4305..4314"><span>exch_impl</span></a></span><span>
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.h_valid_impl|const"><span>h_valid_impl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><a class="entity_ref" href="IICF_Impl_Heap.html#offset_4626..4636"><span>valid_impl</span></a></span><span>
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.h_prio_of_impl|const"><span>h_prio_of_impl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><a class="entity_ref" href="IICF_Impl_Heap.html#offset_4930..4942"><span>prio_of_impl</span></a></span><span>
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.h_append_impl|const"><span>h_append_impl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><a class="entity_ref" href="IICF_Impl_Heap.html#offset_5176..5187"><span>append_impl</span></a></span><span>
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.h_swim_impl|const"><span>h_swim_impl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><a class="entity_ref" href="IICF_Impl_Heap.html#offset_5442..5451"><span>swim_impl</span></a></span><span>
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.h_sink_impl|const"><span>h_sink_impl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><a class="entity_ref" href="IICF_Impl_Heap.html#offset_6393..6402"><span>sink_impl</span></a></span><span>
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.h_empty_impl|const"><span>h_empty_impl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><a class="entity_ref" href="IICF_Impl_Heap.html#offset_7385..7395"><span>empty_impl</span></a></span><span>
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.h_is_empty_impl|const"><span>h_is_empty_impl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><a class="entity_ref" href="IICF_Impl_Heap.html#offset_7741..7754"><span>is_empty_impl</span></a></span><span>
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.h_insert_impl|const"><span>h_insert_impl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><a class="entity_ref" href="IICF_Impl_Heap.html#offset_8077..8088"><span>insert_impl</span></a></span><span>
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.h_pop_min_impl|const"><span>h_pop_min_impl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><a class="entity_ref" href="IICF_Impl_Heap.html#offset_8447..8459"><span>pop_min_impl</span></a></span><span>
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.h_peek_min_impl|const"><span>h_peek_min_impl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><a class="entity_ref" href="IICF_Impl_Heap.html#offset_8840..8853"><span>peek_min_impl</span></a></span><span>
  
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>unfold_locales</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Sepref_Basic.html#Sepref_Basic.pure_pure|fact"><span>pure_pure</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

   
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.heap_impl_inlines|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_impl_inlines(12)|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl_inlines(11)|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl_inlines(10)|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl_inlines(9)|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl_inlines(8)|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl_inlines(7)|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl_inlines(6)|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl_inlines(5)|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl_inlines(4)|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl_inlines(3)|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl_inlines(2)|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_impl_inlines(1)|thm"><span>heap_impl_inlines</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> 
    </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl.valid_impl_def|fact"><span>heap_impl.valid_impl_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl_axioms|fact"><span>heap_impl_axioms</span></a><span class="main"><span>]</span></span><span>  
    </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl.prio_of_impl_def|fact"><span>heap_impl.prio_of_impl_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl_axioms|fact"><span>heap_impl_axioms</span></a><span class="main"><span>]</span></span><span>
    </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl.val_of_impl_def|fact"><span>heap_impl.val_of_impl_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl_axioms|fact"><span>heap_impl_axioms</span></a><span class="main"><span>]</span></span><span>
    </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl.append_impl_def|fact"><span>heap_impl.append_impl_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl_axioms|fact"><span>heap_impl_axioms</span></a><span class="main"><span>]</span></span><span>
    </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl.exch_impl_def|fact"><span>heap_impl.exch_impl_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl_axioms|fact"><span>heap_impl_axioms</span></a><span class="main"><span>]</span></span><span>
    </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl.empty_impl_def|fact"><span>heap_impl.empty_impl_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl_axioms|fact"><span>heap_impl_axioms</span></a><span class="main"><span>]</span></span><span>
    </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl.is_empty_impl_def|fact"><span>heap_impl.is_empty_impl_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl_axioms|fact"><span>heap_impl_axioms</span></a><span class="main"><span>]</span></span><span>
    </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl.insert_impl_def|fact"><span>heap_impl.insert_impl_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl_axioms|fact"><span>heap_impl_axioms</span></a><span class="main"><span>]</span></span><span>
    </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl.pop_min_impl_def|fact"><span>heap_impl.pop_min_impl_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl_axioms|fact"><span>heap_impl_axioms</span></a><span class="main"><span>]</span></span><span>
    </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl.peek_min_impl_def|fact"><span>heap_impl.peek_min_impl_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl_axioms|fact"><span>heap_impl_axioms</span></a><span class="main"><span>]</span></span><span>
    
    </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.h_swim_impl_def|fact"><span>h_swim_impl_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span>
    </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.h_sink_impl_def|fact"><span>h_sink_impl_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span>
    
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.update_impl_def|fact"><span>update_impl_def</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.val_of_impl_def|fact"><span>val_of_impl_def</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.exch_impl_def|fact"><span>exch_impl_def</span></a><span>    
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.h_valid_impl_def|fact"><span>h_valid_impl_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl_inlines|fact"><span>heap_impl_inlines</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.h_prio_of_impl_def|fact"><span>h_prio_of_impl_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl_inlines|fact"><span>heap_impl_inlines</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.h_append_impl_def|fact"><span>h_append_impl_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl_inlines|fact"><span>heap_impl_inlines</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_code|attribute"><span class="operator"><span>llvm_code</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.h_swim_impl_def|fact"><span>h_swim_impl_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl.swim_impl_def|fact"><span>heap_impl.swim_impl_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl_axioms|fact"><span>heap_impl_axioms</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl_inlines|fact"><span>heap_impl_inlines</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_code|attribute"><span class="operator"><span>llvm_code</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.h_sink_impl_def|fact"><span>h_sink_impl_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl.sink_impl_def|fact"><span>heap_impl.sink_impl_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl_axioms|fact"><span>heap_impl_axioms</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl_inlines|fact"><span>heap_impl_inlines</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.h_empty_impl_def|fact"><span>h_empty_impl_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl_inlines|fact"><span>heap_impl_inlines</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.h_is_empty_impl_def|fact"><span>h_is_empty_impl_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl_inlines|fact"><span>heap_impl_inlines</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.h_insert_impl_def|fact"><span>h_insert_impl_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl_inlines|fact"><span>heap_impl_inlines</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.h_pop_min_impl_def|fact"><span>h_pop_min_impl_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl_inlines|fact"><span>heap_impl_inlines</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_inline|attribute"><span class="operator"><span>llvm_inline</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.h_peek_min_impl_def|fact"><span>h_peek_min_impl_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_impl_inlines|fact"><span>heap_impl_inlines</span></a><span class="main"><span>]</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.op_heap_custom_empty_def|fact"><span class="entity_def" id="IICF_Impl_Heap.op_heap_custom_empty_def|thm"><span class="entity_def" id="IICF_Impl_Heap.op_heap_custom_empty_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="IICF_Impl_Heap.op_heap_custom_empty|const"><span>op_heap_custom_empty</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span> </span><span>itself</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span class="main"><span>::</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span> </span><span>itself</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="IICF_Multiset.html#IICF_Multiset.op_mset_empty|const"><span>op_mset_empty</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>_</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span> </span><span>itself</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.op_heap_custom_empty.itype|fact"><span class="entity_def" id="IICF_Impl_Heap.op_heap_custom_empty.pat|fact"><span class="entity_def" id="IICF_Impl_Heap.op_heap_custom_empty.itype|thm"><span class="entity_def" id="IICF_Impl_Heap.op_heap_custom_empty.pat|thm"><span>sepref_register</span></span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.op_heap_custom_empty|const"><span>op_heap_custom_empty</span></a><span> </span><span class="free"><span>Q</span></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.op_heap_custom_empty_hnr|fact"><span class="entity_def" id="IICF_Impl_Heap.op_heap_custom_empty_hnr|thm"><span>op_heap_custom_empty_hnr</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.sepref_fr_rules|attribute"><span class="operator"><span>sepref_fr_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>
      </span><a class="entity_ref" href="Sepref_Misc.html#Sepref_Misc.uncurry0|const"><span>uncurry0</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.empty_impl|const"><span>empty_impl</span></a><span class="main"><span>::</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span class="main"><span>,</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><a class="entity_ref" href="LLVM_DS_Array_List.html#LLVM_DS_Array_List.array_list|type"><span>array_list</span></a><span> </span><a class="entity_ref" href="Simple_Memory.html#Simple_Memory.llM|type"><span>llM</span></a><span> </span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> 
      </span><a class="entity_ref" href="Sepref_Misc.html#Sepref_Misc.uncurry0|const"><span>uncurry0</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST|const"><span>PR_CONST</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.op_heap_custom_empty|const"><span>op_heap_custom_empty</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="numeral"><span>4</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.unit_assn|const"><span>unit_assn</span></a><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_assn|const"><span>heap_assn</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.op_heap_custom_empty_def|fact"><span>op_heap_custom_empty_def</span></a><span> </span><a class="entity_ref" href="Sepref_Id_Op.html#Sepref_Id_Op.PR_CONST_def|fact"><span>PR_CONST_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_empty_hnr|fact"><span>heap_empty_hnr</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Basic_VCG.html#Basic_VCG.PRECOND_def|fact"><span>PRECOND_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    
  </span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.heap_fold_custom_empty|fact"><span class="entity_def" id="IICF_Impl_Heap.heap_fold_custom_empty(3)|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_fold_custom_empty(2)|thm"><span class="entity_def" id="IICF_Impl_Heap.heap_fold_custom_empty(1)|thm"><span>heap_fold_custom_empty</span></span></span></span></span><span class="main"><span>:</span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.empty_mset|const"><span>{#}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.op_heap_custom_empty|const"><span>op_heap_custom_empty</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Multiset.html#IICF_Multiset.op_mset_empty|const"><span>op_mset_empty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.op_heap_custom_empty|const"><span>op_heap_custom_empty</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Multiset.html#IICF_Multiset.mop_mset_empty|const"><span>mop_mset_empty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.op_heap_custom_empty|const"><span>op_heap_custom_empty</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'l</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="LLVM_More_Word_Lemmas.html#LLVM_More_Word_Lemmas.len2|class"><span>len2</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
    
      
  
    
</span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.sort_by_prio_def|fact"><span class="entity_def" id="IICF_Impl_Heap.sort_by_prio_def|thm"><span class="entity_def" id="IICF_Impl_Heap.sort_by_prio_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="IICF_Impl_Heap.sort_by_prio|const"><span>sort_by_prio</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>l<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span>
  </span><span class="bound"><span>q</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Foreach.html#Refine_Foreach.nfoldli|const"><span>nfoldli</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>l<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>q</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.size_class.size|const"><span>size</span></a><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>l<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="IICF_Multiset.html#IICF_Multiset.mop_mset_insert|const"><span>mop_mset_insert</span></a><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.empty_mset|const"><span>{#}</span></a></span><span class="main"><span>;</span></span><span>
  </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.mset|const"><span>mset</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>l<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
  </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span class="bound"><span>q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.WHILEIT|const"><span>WHILEIT</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span class="bound"><span>q</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.linorder_class.sorted|const"><span>sorted</span></a><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="bound"><span>l</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>∀</span></span><span class="bound"><span>y</span></span><span class="main"><span>∈#</span></span><span class="bound"><span>q</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.mset|const"><span>mset</span></a><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.mset|const"><span>mset</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>l<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span class="main"><span>)</span></span><span> 
    </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span class="bound"><span>q</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="IICF_Multiset.html#IICF_Multiset.op_mset_is_empty|const"><span>op_mset_is_empty</span></a><span> </span><span class="bound"><span>q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span class="bound"><span>q</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> 
  </span><span class="keyword1"><span>do</span></span><span> </span><span class="main"><span>{</span></span><span>
    </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="IICF_Prio_Bag.html#IICF_Prio_Bag.mop_prio_pop_min|const"><span>mop_prio_pop_min</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span>id</span></a><span> </span><span class="bound"><span>q</span></span><span class="main"><span>;</span></span><span>
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.size_class.size|const"><span>size</span></a><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>l<span class="hidden">⇩</span><sub>0</sub></span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="main"><span>[</span></span><span class="bound"><span>x</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span class="bound"><span>q</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_List.html#IICF_List.op_list_empty|const"><span>op_list_empty</span></a><span class="main"><span>,</span></span><span class="bound"><span>q</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
  </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="bound"><span>l</span></span><span>
</span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="IICF_Impl_Heap.sort_by_prio_correct|fact"><span class="entity_def" id="IICF_Impl_Heap.sort_by_prio_correct|thm"><span>sort_by_prio_correct</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.sort_by_prio|const"><span>sort_by_prio</span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.SPEC|const"><span>SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>l'</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.linorder_class.sorted|const"><span>sorted</span></a><span> </span><span class="bound"><span>l'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.mset|const"><span>mset</span></a><span> </span><span class="bound"><span>l'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.mset|const"><span>mset</span></a><span> </span><span class="free"><span>l</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.sort_by_prio_def|fact"><span>sort_by_prio_def</span></a><span> </span><a class="entity_ref" href="IICF_Prio_Bag.html#IICF_Prio_Bag.mop_prio_pop_min_def|fact"><span>mop_prio_pop_min_def</span></a><span>
  
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.refine_vcg|method"><span class="operator"><span>refine_vcg</span></span></a><span> 
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Foreach.html#Refine_Foreach.nfoldli_rule|fact"><span>nfoldli_rule</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> I</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>ll</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="bound"><span>q</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.mset|const"><span>mset</span></a><span> </span><span class="bound"><span>ll</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span>
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_While.html#Refine_While.while.WHILEIT_rule|fact"><span>WHILEIT_rule</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> R</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Wellfounded.html#Wellfounded.measure|const"><span>measure</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span class="bound"><span>q</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.size_class.size|const"><span>size</span></a><span> </span><span class="bound"><span>q</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span>
    </span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 3 </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.in_diffD|fact"><span>in_diffD</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.size_Diff1_less|fact"><span>size_Diff1_less</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/Misc.html#Misc.sorted_append_bigger|fact"><span>sorted_append_bigger</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.cancel_comm_monoid_add_class.add_cancel_right_right|fact"><span>add_cancel_right_right</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.le_add1|fact"><span>le_add1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat_less_le|fact"><span>nat_less_le</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.size_eq_0_iff_empty|fact"><span>size_eq_0_iff_empty</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.size_mset|fact"><span>size_mset</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.size_union|fact"><span>size_union</span></a><span class="main"><span>)</span></span><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.insert_DiffM|fact"><span>insert_DiffM</span></a><span> </span><a class="entity_ref" href="../../AFP/Automatic_Refinement/HOL-Library.Multiset.html#Multiset.union_iff|fact"><span>union_iff</span></a><span class="main"><span>)</span></span><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  


</span><span class="comment1"><span>(* TODO: Move  *)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction.pelims|fact"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction.cases|fact"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction.termination|fact"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction.pinduct|fact"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction.psimps|fact"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction_rel.inducts|fact"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction_rel.simps|fact"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction_rel.induct|fact"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction_rel.cases|fact"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction_rel.intros|fact"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction_graph.inducts|fact"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction_graph.simps|fact"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction_graph.induct|fact"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction_graph.cases|fact"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction_graph.intros|fact"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction.pelims|thm"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction.cases|thm"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction.termination|thm"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction.pinduct|thm"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction.psimps|thm"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction_rel.inducts|thm"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction_rel.simps|thm"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction_rel.induct|thm"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction_rel.cases|thm"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction_rel.intros|thm"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction_graph.inducts|thm"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction_graph.simps|thm"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction_graph.induct|thm"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction_graph.cases|thm"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction_graph.intros|thm"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction_def|axiom"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction_rel_def|axiom"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction_sumC_def|axiom"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction_graph_def|axiom"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction_dom|const"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction_rel|const"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction_sumC|const"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction_graph|const"><span>function</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction|const"><span>list_intv_induction</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>list_intv_induction</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="free"><span>list_intv_induction</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun_Def.html#Fun_Def.pat_completeness|method"><span class="operator"><span>pat_completeness</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction.elims|fact"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction.induct|fact"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction.simps|fact"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction.elims|thm"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction.induct|thm"><span class="entity_def" id="IICF_Impl_Heap.list_intv_induction.simps|thm"><span>termination</span></span></span></span></span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Fun_Def.html#Fun_Def.relation|method"><span class="operator"><span>relation</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Wellfounded.html#Wellfounded.measure|const"><span>measure</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="bound"><span>l</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
  
</span><span class="comment1"><span>(*  
lemma nfoldli_range_to_while: "nfoldli [l..&lt;u] c f σ = do {
    (_,σ) ← WHILET 
      (λ(i,σ). i&lt;u ∧ c σ) 
      (λ(i,σ). do { σ ← f i σ; ASSERT (i&lt;u); RETURN (i+1,σ) })
      (l,σ);
    RETURN σ
  }"
proof (induction l u arbitrary: σ rule: list_intv_induction.induct)
  case (1 l u)
  show ?case proof (cases "l&lt;u")
    case False thus ?thesis
      by (rewrite WHILET_unfold) simp
      
  next
    case True 
    thm "1.IH"[OF True, abs_def]
    thus ?thesis 
      by (rewrite WHILET_unfold) (simp add: upt_conv_Cons "1.IH"[OF True, abs_def])
  qed
qed
*)</span></span><span>  



</span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="IICF_Impl_Heap.sort_impl|const"><span>sort_impl</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="LLVM_Codegen_Preproc.html#LLVM_Codegen_Preproc.llvm_code|attribute"><span class="operator"><span>llvm_code</span></span></a><span class="main"><span>]</span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.sort_by_prio|const"><span>sort_by_prio</span></a><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>[</span></a></span><span class="main"><span>λ</span></span><span class="bound"><span>l</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="LLVM_DS_Arith.html#LLVM_DS_Arith.max_snat|const"><span>max_snat</span></a><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="numeral"><span>64</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>]<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Array_List.html#IICF_Array_List.al_assn&apos;|const"><span>al_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="numeral"><span>64</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn&apos;|const"><span>snat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="numeral"><span>64</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefcptnd|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="IICF_Array_List.html#IICF_Array_List.al_assn&apos;|const"><span>al_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="numeral"><span>64</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn&apos;|const"><span>snat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="numeral"><span>64</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.sort_by_prio_def|fact"><span>sort_by_prio_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>abs_def</span></span><span class="main"><span>]</span></span><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Library/rewrite.ML.html#Rewrite.rewrite|method"><span class="operator"><span>rewrite</span></span></a><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Foreach.html#Refine_Foreach.nfoldli_by_idx|fact"><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Foreach.html#Refine_Foreach.nfoldli_by_idx|fact"><span>nfoldli_by_idx</span></a></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Library/rewrite.ML.html#Rewrite.rewrite|method"><span class="operator"><span>rewrite</span></span></a><span> </span><a class="entity_ref" href="Refine_Monadic_Add.html#Refine_Monadic_Add.nfoldli_upt_by_while|fact"><a class="entity_ref" href="Refine_Monadic_Add.html#Refine_Monadic_Add.nfoldli_upt_by_while|fact"><span>nfoldli_upt_by_while</span></a></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Library/rewrite.ML.html#Rewrite.rewrite|method"><span class="operator"><span>rewrite</span></span></a><span> </span><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_fold_custom_empty|fact"><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.heap_fold_custom_empty|fact"><span>heap_fold_custom_empty</span></a></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> </span><span class="tfree"><span>'l</span></span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="numeral"><span class="quoted"><span class="numeral"><span class="quoted"><span class="numeral"><span>64</span></span></span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>and</span></span></span></span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="numeral"><span class="numeral"><span class="numeral"><span>64</span></span></span></span><span>"</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Library/rewrite.ML.html#Rewrite.rewrite|method"><span class="operator"><span>rewrite</span></span></a><span> </span><span class="quasi_keyword"><span>at</span></span><span> </span><span class="quoted"><a class="entity_ref" href="IICF_List.html#IICF_List.op_list_empty|const"><span class="quoted"><a class="entity_ref" href="IICF_List.html#IICF_List.op_list_empty|const"><span>op_list_empty</span></a></span></a></span><span> </span><a class="entity_ref" href="IICF_Array_List.html#IICF_Array_List.al_fold_custom_empty|fact"><a class="entity_ref" href="IICF_Array_List.html#IICF_Array_List.al_fold_custom_empty|fact"><span>al_fold_custom_empty</span></a></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../../AFP/Automatic_Refinement/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> </span><span class="tfree"><span>'l</span></span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="numeral"><span class="quoted"><span class="numeral"><span class="quoted"><span class="numeral"><span>64</span></span></span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.annot_snat_const|method"><span class="operator"><span>annot_snat_const</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="numeral"><span>64</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.sort_impl.refine|fact"><span class="entity_def" id="IICF_Impl_Heap.sort_impl_def|fact"><span class="entity_def" id="IICF_Impl_Heap.sort_impl.refine_raw|fact"><span class="entity_def" id="IICF_Impl_Heap.sort_impl.refine|thm"><span class="entity_def" id="IICF_Impl_Heap.sort_impl_def|thm"><span class="entity_def" id="IICF_Impl_Heap.sort_impl.refine_raw|thm"><span class="entity_def" id="IICF_Impl_Heap.sort_impl_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>

  
  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF_Impl_Heap.h_swim_impl.f_013295914_def|fact"><span class="entity_def" id="IICF_Impl_Heap.h_sink_impl.f_013185456_def|fact"><span class="entity_def" id="IICF_Impl_Heap.h_swim_impl.f_013295914_def|thm"><span class="entity_def" id="IICF_Impl_Heap.h_sink_impl.f_013185456_def|thm"><span class="entity_def" id="IICF_Impl_Heap.h_swim_impl.f_013295914_def_raw|axiom"><span class="entity_def" id="IICF_Impl_Heap.h_sink_impl.f_013185456_def_raw|axiom"><span class="entity_def" id="IICF_Impl_Heap.h_swim_impl.f_013295914|const"><span class="entity_def" id="IICF_Impl_Heap.h_sink_impl.f_013185456|const"><span>export_llvm</span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span>no_header</span><span class="main"><span>)</span></span><span>
  </span><span class="quoted"><a class="entity_ref" href="IICF_Impl_Heap.html#IICF_Impl_Heap.sort_impl|const"><span>sort_impl</span></a></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span>"sort"</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="LLVM_DS_Array_List.html#LLVM_DS_Array_List.arl_new_raw|const"><span>arl_new_raw</span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>64</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span class="main"><span>,</span></span><span class="numeral"><span>64</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="LLVM_DS_Array_List.html#LLVM_DS_Array_List.array_list|type"><span>array_list</span></a><span> </span><a class="entity_ref" href="Simple_Memory.html#Simple_Memory.llM|type"><span>llM</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span>"arl_new"</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="LLVM_DS_Array_List.html#LLVM_DS_Array_List.arl_push_back|const"><span>arl_push_back</span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>64</span></span><span> </span><a class="entity_ref" href="../../AFP/Refine_Monadic/HOL-Library.Word.html#Word.word|type"><span>word</span></a><span class="main"><span>,</span></span><span class="numeral"><span>64</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="LLVM_DS_Array_List.html#LLVM_DS_Array_List.array_list|type"><span>array_list</span></a><span> </span><a class="entity_ref" href="Simple_Memory.html#Simple_Memory.llM|type"><span>llM</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span>"arl_push_back"</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>file</span></span></span><span> </span><span class="quoted"><span>"sort.ll"</span></span><span>
  </span><span class="comment1"><span>(* CAREFUL: The calling conventions generated by this LLVM code are hard/impossible to 
    interface from C !? *)</span></span><span>
  
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre>
</body>

</html>